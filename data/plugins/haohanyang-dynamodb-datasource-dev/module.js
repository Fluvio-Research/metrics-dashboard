/* [create-plugin] version: 5.5.3 */
define(["@emotion/css","@grafana/data","@grafana/runtime","@grafana/ui","lodash","module","react","rxjs"],((e,t,r,n,a,o,i,s)=>(()=>{var u={331:(e,t,r)=>{"use strict";var n=r(531),a=r(269),o=r(781),i=r(629),s=r(959),u=r(7);function c(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var l=c(s);function f(e){return"function"==typeof e}function d(e){return function(t){if(function(e){return f(null==e?void 0:e.lift)}(t))return t.lift((function(t){try{return e(t,this)}catch(e){this.error(e)}}));throw new TypeError("Unable to lift unknown Observable type")}}var p,h=((p=function(e){return function(t){e(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map((function(e,t){return t+1+") "+e.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t}}((function(e){Error.call(e),e.stack=(new Error).stack}))).prototype=Object.create(Error.prototype),p.prototype.constructor=p,p);function m(e,t){if(e){var r=e.indexOf(t);0<=r&&e.splice(r,1)}}var y=function(){function e(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}var t;return e.prototype.unsubscribe=function(){var e,t,r,n,a;if(!this.closed){this.closed=!0;var o=this._parentage;if(o)if(this._parentage=null,Array.isArray(o))try{for(var s=i.__values(o),u=s.next();!u.done;u=s.next()){u.value.remove(this)}}catch(t){e={error:t}}finally{try{u&&!u.done&&(t=s.return)&&t.call(s)}finally{if(e)throw e.error}}else o.remove(this);var c=this.initialTeardown;if(f(c))try{c()}catch(e){a=e instanceof h?e.errors:[e]}var l=this._finalizers;if(l){this._finalizers=null;try{for(var d=i.__values(l),p=d.next();!p.done;p=d.next()){var m=p.value;try{v(m)}catch(e){a=null!=a?a:[],e instanceof h?a=i.__spreadArray(i.__spreadArray([],i.__read(a)),i.__read(e.errors)):a.push(e)}}}catch(e){r={error:e}}finally{try{p&&!p.done&&(n=d.return)&&n.call(d)}finally{if(r)throw r.error}}}if(a)throw new h(a)}},e.prototype.add=function(t){var r;if(t&&t!==this)if(this.closed)v(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(r=this._finalizers)&&void 0!==r?r:[]).push(t)}},e.prototype._hasParent=function(e){var t=this._parentage;return t===e||Array.isArray(t)&&t.includes(e)},e.prototype._addParent=function(e){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e},e.prototype._removeParent=function(e){var t=this._parentage;t===e?this._parentage=null:Array.isArray(t)&&m(t,e)},e.prototype.remove=function(t){var r=this._finalizers;r&&m(r,t),t instanceof e&&t._removeParent(this)},e.EMPTY=((t=new e).closed=!0,t),e}();function b(e){return e instanceof y||e&&"closed"in e&&f(e.remove)&&f(e.add)&&f(e.unsubscribe)}function v(e){f(e)?e():e.unsubscribe()}y.EMPTY;var g={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},w=function(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];return setTimeout.apply(void 0,i.__spreadArray([e,t],i.__read(r)))};function O(e){w((function(){throw e}))}function _(){}var x=function(e){function t(t){var r=e.call(this)||this;return r.isStopped=!1,t?(r.destination=t,b(t)&&t.add(r)):r.destination=$,r}return i.__extends(t,e),t.create=function(e,t,r){return new D(e,t,r)},t.prototype.next=function(e){this.isStopped||this._next(e)},t.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){try{this.destination.error(e)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(y),E=Function.prototype.bind;function S(e,t){return E.call(e,t)}var A=function(){function e(e){this.partialObserver=e}return e.prototype.next=function(e){var t=this.partialObserver;if(t.next)try{t.next(e)}catch(e){j(e)}},e.prototype.error=function(e){var t=this.partialObserver;if(t.error)try{t.error(e)}catch(e){j(e)}else j(e)},e.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(e){j(e)}},e}(),D=function(e){function t(t,r,n){var a,o,i=e.call(this)||this;f(t)||!t?a={next:null!=t?t:void 0,error:null!=r?r:void 0,complete:null!=n?n:void 0}:i&&g.useDeprecatedNextContext?((o=Object.create(t)).unsubscribe=function(){return i.unsubscribe()},a={next:t.next&&S(t.next,o),error:t.error&&S(t.error,o),complete:t.complete&&S(t.complete,o)}):a=t;return i.destination=new A(a),i}return i.__extends(t,e),t}(x);function j(e){O(e)}var $={closed:!0,next:_,error:function(e){throw e},complete:_},T="function"==typeof Symbol&&Symbol.observable||"@@observable";function I(e){return e}var P=function(){function e(e){e&&(this._subscribe=e)}return e.prototype.lift=function(t){var r=new e;return r.source=this,r.operator=t,r},e.prototype.subscribe=function(e,t,r){var n,a=this,o=(n=e)&&n instanceof x||function(e){return e&&f(e.next)&&f(e.error)&&f(e.complete)}(n)&&b(n)?e:new D(e,t,r);return function(){var e=a,t=e.operator,r=e.source;o.add(t?t.call(o,r):r?a._subscribe(o):a._trySubscribe(o))}(),o},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.error(t)}},e.prototype.forEach=function(e,t){var r=this;return new(t=C(t))((function(t,n){var a=new D({next:function(t){try{e(t)}catch(e){n(e),a.unsubscribe()}},error:n,complete:t});r.subscribe(a)}))},e.prototype._subscribe=function(e){var t;return null===(t=this.source)||void 0===t?void 0:t.subscribe(e)},e.prototype[T]=function(){return this},e.prototype.pipe=function(){for(var e,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return(0===(e=t).length?I:1===e.length?e[0]:function(t){return e.reduce((function(e,t){return t(e)}),t)})(this)},e.prototype.toPromise=function(e){var t=this;return new(e=C(e))((function(e,r){var n;t.subscribe((function(e){return n=e}),(function(e){return r(e)}),(function(){return e(n)}))}))},e.create=function(t){return new e(t)},e}();function C(e){var t;return null!==(t=null!=e?e:g.Promise)&&void 0!==t?t:Promise}var M="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";function k(e){if(e instanceof P)return e;if(null!=e){if(function(e){return f(e[T])}(e))return new P((function(e){var t=s[T]();if(f(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")}));if(e&&"number"==typeof o.length&&"function"!=typeof o)return new P((function(e){for(var t=0;t<a.length&&!e.closed;t++)e.next(a[t]);e.complete()}));if(f(null==e?void 0:n.then))return new P((function(e){r.then((function(t){e.closed||(e.next(t),e.complete())}),(function(t){return e.error(t)})).then(null,O)}));if(function(e){return Symbol.asyncIterator&&f(null==e?void 0:e[Symbol.asyncIterator])}(e))return R(e);if(function(e){return f(null==e?void 0:e[M])}(e))return new P((function(e){var r,n;try{for(var a=i.__values(t),o=a.next();!o.done;a.next()){var s=o.value;if(e.next(s),e.closed)return}}catch(e){0}finally{try{o&&!o.done&&a.return&&n.call(a)}finally{if(r)throw r.error}}e.complete()}));if(function(e){return f(null==e?void 0:e.getReader)}(e))return R(function(e){return i.__asyncGenerator(this,arguments,(function(){var t,r,n;return i.__generator(this,(function(a){switch(a.label){case 0:e.getReader(),a.label=1;case 1:a.trys.push([1,,9,10]),a.label=2;case 2:return[4,i.__await(t.read())];case 3:return a.sent(),r.value,r.done?[4,i.__await(void 0)]:[3,5];case 4:return[2,a.sent()];case 5:return[4,i.__await(n)];case 6:return[4,a.sent()];case 7:return a.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}}))}))}(e))}var t,r,n,a,o,s;throw function(e){return new TypeError("You provided "+(null!==e&&"object"==typeof e?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}(e)}function R(e){return new P((function(t){(function(e,t){var r,n,a,o;return i.__awaiter(this,void 0,void 0,(function(){var s,u;return i.__generator(this,(function(u){switch(u.label){case 0:u.trys.push([0,5,6,11]),i.__asyncValues(e),u.label=1;case 1:return[4,r.next()];case 2:if(u.sent().done)return[3,4];if(n.value,t.next(s),t.closed)return[2];u.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return u.sent(),[3,11];case 6:return u.trys.push([6,,9,10]),n&&!n.done&&r.return?[4,o.call(r)]:[3,8];case 7:u.sent(),u.label=8;case 8:return[3,10];case 9:if(a)throw a.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}}))}))})(e,t).catch((function(e){return t.error(e)}))}))}function F(e,t,r,n,a){return new N(e,t,r,n,a)}var N=function(e){function t(t,r,n,a,o,i){var s=e.call(this,t)||this;return s.onFinalize=o,s.shouldUnsubscribe=i,s._next=r?function(e){try{r(e)}catch(e){t.error(e)}}:e.prototype._next,s._error=a?function(e){try{a(e)}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._error,s._complete=n?function(){try{n()}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._complete,s}return i.__extends(t,e),t.prototype.unsubscribe=function(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var r=this.closed;e.prototype.unsubscribe.call(this),!r&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}},t}(x);function B(e){return d((function(t,r){var n,a=null,o=!1;t.subscribe(F(r,void 0,void 0,(function(o){k(e(o,B(e)(t))),a?(a.unsubscribe(),n.subscribe(r)):!0}))),o&&(a.unsubscribe(),n.subscribe(r))}))}var q=Object.defineProperty,z=Object.defineProperties,U=Object.getOwnPropertyDescriptors,W=Object.getOwnPropertySymbols,Y=Object.prototype.hasOwnProperty,L=Object.prototype.propertyIsEnumerable,H=(e,t,r)=>t in e?q(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Q=(e,t)=>{for(var r in t||(t={}))Y.call(t,r)&&H(e,r,t[r]);if(W)for(var r of W(t))L.call(t,r)&&H(e,r,t[r]);return e},G=(e,t)=>z(e,U(t));var J=Object.defineProperty,K=Object.defineProperties,V=Object.getOwnPropertyDescriptors,Z=Object.getOwnPropertySymbols,X=Object.prototype.hasOwnProperty,ee=Object.prototype.propertyIsEnumerable,te=(e,t,r)=>t in e?J(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,re=(e,t)=>{for(var r in t||(t={}))X.call(t,r)&&te(e,r,t[r]);if(Z)for(var r of Z(t))ee.call(t,r)&&te(e,r,t[r]);return e},ne=(e,t)=>K(e,V(t));const ae=["started","submitted","running"],oe=(e="")=>ae.includes(e);class ie extends n.DataSourceWithBackend{constructor(e){super(e),this.runningQueries={},this.requestCounter=100,this.cancel=e=>{this.storeQuery(e,{shouldCancel:!0})},this.requestIdPrefix=e.id}query(e){const t=this.filterQuery?e.targets.filter(this.filterQuery):e.targets;if(!t.length)return a.of({data:[]});const r=[];for(let n of t)n.hide||r.push(this.doSingle(n,e));return a.merge(...r)}storeQuery(e,t){const r=JSON.stringify(e),n=this.runningQueries[r]||{};this.runningQueries[r]=re(re({},n),t)}getQuery(e){const t=JSON.stringify(e);return this.runningQueries[t]||{}}removeQuery(e){const t=JSON.stringify(e);delete this.runningQueries[t]}doSingle(e,t){let r,n,i=[];return ne(re({},t),{targets:[e],requestId:`${this.requestIdPrefix}_${this.requestCounter++}`}),new a.Observable((e=>{let t,r,n=o.LoadingState.Loading,a=1,i=1,c=!1;const l={next:r=>{r.state;let i=!1;if(n!==o.LoadingState.Error){u.getNextQuery(r);const e=u.shouldCancel();t&&e&&void 0}const c=u.process(r.data);i&&(t?(c.length&&c[0].length?o.LoadingState.Streaming:o.LoadingState.Loading,2*a>1e3?1e3:2*a):(o.LoadingState.Done,0)),e.next(G(Q({},r),{data:c,state:n,key:s.requestId}))},error:t=>{e.error(t)},complete:()=>{if(r&&(r.unsubscribe(),void 0),t){const e=t;setTimeout((()=>{u.query(G(Q({},s),{requestId:`${s.requestId}.${++i}`,targets:[e]})).subscribe(l)}),10*a)}else e.complete()}};return u.query(s).subscribe(l),function(){l.complete(),(t||c)&&u.onCancel()}}));var s,u}}},76:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});var n=r(942),a=r.n(n),o=r(278),i=r.n(o)()(a());i.push([e.id,".datatime-attribute-list {\n    list-style-type: none;\n    display: flex;\n    justify-content: start;\n    gap: 4px;\n    margin: 5px 0;\n}\n\n\n.datatime-attribute-item {\n    border-radius: 2px;\n    background-color: rgb(47, 87, 94); \n    border-color: rgb(85, 125, 132);\n    border-style: solid;\n    display: flex;\n    gap: 3px;\n    align-items: center;\n    height: 24px;\n    line-height: 22px;\n    padding: 0px 0px 0px 4px;\n    font-size: 12px;\n}\n\n.datatime-attribute-name {\n    max-width: 25ch;\n    text-overflow: ellipsis;\n    overflow: hidden;\n    color: rgb(255, 255, 255);\n}","",{version:3,sources:["webpack://./components/QueryEditor.css"],names:[],mappings:"AAAA;IACI,qBAAqB;IACrB,aAAa;IACb,sBAAsB;IACtB,QAAQ;IACR,aAAa;AACjB;;;AAGA;IACI,kBAAkB;IAClB,iCAAiC;IACjC,+BAA+B;IAC/B,mBAAmB;IACnB,aAAa;IACb,QAAQ;IACR,mBAAmB;IACnB,YAAY;IACZ,iBAAiB;IACjB,wBAAwB;IACxB,eAAe;AACnB;;AAEA;IACI,eAAe;IACf,uBAAuB;IACvB,gBAAgB;IAChB,yBAAyB;AAC7B",sourcesContent:[".datatime-attribute-list {\n    list-style-type: none;\n    display: flex;\n    justify-content: start;\n    gap: 4px;\n    margin: 5px 0;\n}\n\n\n.datatime-attribute-item {\n    border-radius: 2px;\n    background-color: rgb(47, 87, 94); \n    border-color: rgb(85, 125, 132);\n    border-style: solid;\n    display: flex;\n    gap: 3px;\n    align-items: center;\n    height: 24px;\n    line-height: 22px;\n    padding: 0px 0px 0px 4px;\n    font-size: 12px;\n}\n\n.datatime-attribute-name {\n    max-width: 25ch;\n    text-overflow: ellipsis;\n    overflow: hidden;\n    color: rgb(255, 255, 255);\n}"],sourceRoot:""}]);const s=i},278:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var r="",n=void 0!==t[5];return t[4]&&(r+="@supports (".concat(t[4],") {")),t[2]&&(r+="@media ".concat(t[2]," {")),n&&(r+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),r+=e(t),n&&(r+="}"),t[2]&&(r+="}"),t[4]&&(r+="}"),r})).join("")},t.i=function(e,r,n,a,o){"string"==typeof e&&(e=[[null,e,void 0]]);var i={};if(n)for(var s=0;s<this.length;s++){var u=this[s][0];null!=u&&(i[u]=!0)}for(var c=0;c<e.length;c++){var l=[].concat(e[c]);n&&i[l[0]]||(void 0!==o&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=o),r&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=r):l[2]=r),a&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=a):l[4]="".concat(a)),t.push(l))}},t}},942:e=>{"use strict";e.exports=function(e){var t=e[1],r=e[3];if(!r)return t;if("function"==typeof btoa){var n=btoa(unescape(encodeURIComponent(JSON.stringify(r)))),a="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(n),o="/*# ".concat(a," */");return[t].concat([o]).join("\n")}return[t].join("\n")}},285:function(e){e.exports=function(){"use strict";var e=1e3,t=6e4,r=36e5,n="millisecond",a="second",o="minute",i="hour",s="day",u="week",c="month",l="quarter",f="year",d="date",p="Invalid Date",h=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,m=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,y={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(e){var t=["th","st","nd","rd"],r=e%100;return"["+e+(t[(r-20)%10]||t[r]||t[0])+"]"}},b=function(e,t,r){var n=String(e);return!n||n.length>=t?e:""+Array(t+1-n.length).join(r)+e},v={s:b,z:function(e){var t=-e.utcOffset(),r=Math.abs(t),n=Math.floor(r/60),a=r%60;return(t<=0?"+":"-")+b(n,2,"0")+":"+b(a,2,"0")},m:function e(t,r){if(t.date()<r.date())return-e(r,t);var n=12*(r.year()-t.year())+(r.month()-t.month()),a=t.clone().add(n,c),o=r-a<0,i=t.clone().add(n+(o?-1:1),c);return+(-(n+(r-a)/(o?a-i:i-a))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return{M:c,y:f,w:u,d:s,D:d,h:i,m:o,s:a,ms:n,Q:l}[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},g="en",w={};w[g]=y;var O="$isDayjsObject",_=function(e){return e instanceof A||!(!e||!e[O])},x=function e(t,r,n){var a;if(!t)return g;if("string"==typeof t){var o=t.toLowerCase();w[o]&&(a=o),r&&(w[o]=r,a=o);var i=t.split("-");if(!a&&i.length>1)return e(i[0])}else{var s=t.name;w[s]=t,a=s}return!n&&a&&(g=a),a||!n&&g},E=function(e,t){if(_(e))return e.clone();var r="object"==typeof t?t:{};return r.date=e,r.args=arguments,new A(r)},S=v;S.l=x,S.i=_,S.w=function(e,t){return E(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var A=function(){function y(e){this.$L=x(e.locale,null,!0),this.parse(e),this.$x=this.$x||e.x||{},this[O]=!0}var b=y.prototype;return b.parse=function(e){this.$d=function(e){var t=e.date,r=e.utc;if(null===t)return new Date(NaN);if(S.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var n=t.match(h);if(n){var a=n[2]-1||0,o=(n[7]||"0").substring(0,3);return r?new Date(Date.UTC(n[1],a,n[3]||1,n[4]||0,n[5]||0,n[6]||0,o)):new Date(n[1],a,n[3]||1,n[4]||0,n[5]||0,n[6]||0,o)}}return new Date(t)}(e),this.init()},b.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},b.$utils=function(){return S},b.isValid=function(){return!(this.$d.toString()===p)},b.isSame=function(e,t){var r=E(e);return this.startOf(t)<=r&&r<=this.endOf(t)},b.isAfter=function(e,t){return E(e)<this.startOf(t)},b.isBefore=function(e,t){return this.endOf(t)<E(e)},b.$g=function(e,t,r){return S.u(e)?this[t]:this.set(r,e)},b.unix=function(){return Math.floor(this.valueOf()/1e3)},b.valueOf=function(){return this.$d.getTime()},b.startOf=function(e,t){var r=this,n=!!S.u(t)||t,l=S.p(e),p=function(e,t){var a=S.w(r.$u?Date.UTC(r.$y,t,e):new Date(r.$y,t,e),r);return n?a:a.endOf(s)},h=function(e,t){return S.w(r.toDate()[e].apply(r.toDate("s"),(n?[0,0,0,0]:[23,59,59,999]).slice(t)),r)},m=this.$W,y=this.$M,b=this.$D,v="set"+(this.$u?"UTC":"");switch(l){case f:return n?p(1,0):p(31,11);case c:return n?p(1,y):p(0,y+1);case u:var g=this.$locale().weekStart||0,w=(m<g?m+7:m)-g;return p(n?b-w:b+(6-w),y);case s:case d:return h(v+"Hours",0);case i:return h(v+"Minutes",1);case o:return h(v+"Seconds",2);case a:return h(v+"Milliseconds",3);default:return this.clone()}},b.endOf=function(e){return this.startOf(e,!1)},b.$set=function(e,t){var r,u=S.p(e),l="set"+(this.$u?"UTC":""),p=(r={},r[s]=l+"Date",r[d]=l+"Date",r[c]=l+"Month",r[f]=l+"FullYear",r[i]=l+"Hours",r[o]=l+"Minutes",r[a]=l+"Seconds",r[n]=l+"Milliseconds",r)[u],h=u===s?this.$D+(t-this.$W):t;if(u===c||u===f){var m=this.clone().set(d,1);m.$d[p](h),m.init(),this.$d=m.set(d,Math.min(this.$D,m.daysInMonth())).$d}else p&&this.$d[p](h);return this.init(),this},b.set=function(e,t){return this.clone().$set(e,t)},b.get=function(e){return this[S.p(e)]()},b.add=function(n,l){var d,p=this;n=Number(n);var h=S.p(l),m=function(e){var t=E(p);return S.w(t.date(t.date()+Math.round(e*n)),p)};if(h===c)return this.set(c,this.$M+n);if(h===f)return this.set(f,this.$y+n);if(h===s)return m(1);if(h===u)return m(7);var y=(d={},d[o]=t,d[i]=r,d[a]=e,d)[h]||1,b=this.$d.getTime()+n*y;return S.w(b,this)},b.subtract=function(e,t){return this.add(-1*e,t)},b.format=function(e){var t=this,r=this.$locale();if(!this.isValid())return r.invalidDate||p;var n=e||"YYYY-MM-DDTHH:mm:ssZ",a=S.z(this),o=this.$H,i=this.$m,s=this.$M,u=r.weekdays,c=r.months,l=r.meridiem,f=function(e,r,a,o){return e&&(e[r]||e(t,n))||a[r].slice(0,o)},d=function(e){return S.s(o%12||12,e,"0")},h=l||function(e,t,r){var n=e<12?"AM":"PM";return r?n.toLowerCase():n};return n.replace(m,(function(e,n){return n||function(e){switch(e){case"YY":return String(t.$y).slice(-2);case"YYYY":return S.s(t.$y,4,"0");case"M":return s+1;case"MM":return S.s(s+1,2,"0");case"MMM":return f(r.monthsShort,s,c,3);case"MMMM":return f(c,s);case"D":return t.$D;case"DD":return S.s(t.$D,2,"0");case"d":return String(t.$W);case"dd":return f(r.weekdaysMin,t.$W,u,2);case"ddd":return f(r.weekdaysShort,t.$W,u,3);case"dddd":return u[t.$W];case"H":return String(o);case"HH":return S.s(o,2,"0");case"h":return d(1);case"hh":return d(2);case"a":return h(o,i,!0);case"A":return h(o,i,!1);case"m":return String(i);case"mm":return S.s(i,2,"0");case"s":return String(t.$s);case"ss":return S.s(t.$s,2,"0");case"SSS":return S.s(t.$ms,3,"0");case"Z":return a}return null}(e)||a.replace(":","")}))},b.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},b.diff=function(n,d,p){var h,m=this,y=S.p(d),b=E(n),v=(b.utcOffset()-this.utcOffset())*t,g=this-b,w=function(){return S.m(m,b)};switch(y){case f:h=w()/12;break;case c:h=w();break;case l:h=w()/3;break;case u:h=(g-v)/6048e5;break;case s:h=(g-v)/864e5;break;case i:h=g/r;break;case o:h=g/t;break;case a:h=g/e;break;default:h=g}return p?h:S.a(h)},b.daysInMonth=function(){return this.endOf(c).$D},b.$locale=function(){return w[this.$L]},b.locale=function(e,t){if(!e)return this.$L;var r=this.clone(),n=x(e,t,!0);return n&&(r.$L=n),r},b.clone=function(){return S.w(this.$d,this)},b.toDate=function(){return new Date(this.valueOf())},b.toJSON=function(){return this.isValid()?this.toISOString():null},b.toISOString=function(){return this.$d.toISOString()},b.toString=function(){return this.$d.toUTCString()},y}(),D=A.prototype;return E.prototype=D,[["$ms",n],["$s",a],["$m",o],["$H",i],["$W",s],["$M",c],["$y",f],["$D",d]].forEach((function(e){D[e[1]]=function(t){return this.$g(t,e[0],e[1])}})),E.extend=function(e,t){return e.$i||(e(t,A,E),e.$i=!0),E},E.locale=x,E.isDayjs=_,E.unix=function(e){return E(1e3*e)},E.en=w[g],E.Ls=w,E.p={},E}()},795:function(e){e.exports=function(){"use strict";return function(e,t){var r=t.prototype,n=r.format;r.format=function(e){var t=this,r=this.$locale();if(!this.isValid())return n.bind(this)(e);var a=this.$utils(),o=(e||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,(function(e){switch(e){case"Q":return Math.ceil((t.$M+1)/3);case"Do":return r.ordinal(t.$D);case"gggg":return t.weekYear();case"GGGG":return t.isoWeekYear();case"wo":return r.ordinal(t.week(),"W");case"w":case"ww":return a.s(t.week(),"w"===e?1:2,"0");case"W":case"WW":return a.s(t.isoWeek(),"W"===e?1:2,"0");case"k":case"kk":return a.s(String(0===t.$H?24:t.$H),"k"===e?1:2,"0");case"X":return Math.floor(t.$d.getTime()/1e3);case"x":return t.$d.getTime();case"z":return"["+t.offsetName()+"]";case"zzz":return"["+t.offsetName("long")+"]";default:return e}}));return n.bind(this)(o)}}}()},37:function(e){e.exports=function(){"use strict";var e={year:0,month:1,day:2,hour:3,minute:4,second:5},t={};return function(r,n,a){var o,i=function(e,r,n){void 0===n&&(n={});var a=new Date(e),o=function(e,r){void 0===r&&(r={});var n=r.timeZoneName||"short",a=e+"|"+n,o=t[a];return o||(o=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:e,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZoneName:n}),t[a]=o),o}(r,n);return o.formatToParts(a)},s=function(t,r){for(var n=i(t,r),o=[],s=0;s<n.length;s+=1){var u=n[s],c=u.type,l=u.value,f=e[c];f>=0&&(o[f]=parseInt(l,10))}var d=o[3],p=24===d?0:d,h=o[0]+"-"+o[1]+"-"+o[2]+" "+p+":"+o[4]+":"+o[5]+":000",m=+t;return(a.utc(h).valueOf()-(m-=m%1e3))/6e4},u=n.prototype;u.tz=function(e,t){void 0===e&&(e=o);var r,n=this.utcOffset(),i=this.toDate(),s=i.toLocaleString("en-US",{timeZone:e}),u=Math.round((i-new Date(s))/1e3/60),c=15*-Math.round(i.getTimezoneOffset()/15)-u;if(Number(c)){if(r=a(s,{locale:this.$L}).$set("millisecond",this.$ms).utcOffset(c,!0),t){var l=r.utcOffset();r=r.add(n-l,"minute")}}else r=this.utcOffset(0,t);return r.$x.$timezone=e,r},u.offsetName=function(e){var t=this.$x.$timezone||a.tz.guess(),r=i(this.valueOf(),t,{timeZoneName:e}).find((function(e){return"timezonename"===e.type.toLowerCase()}));return r&&r.value};var c=u.startOf;u.startOf=function(e,t){if(!this.$x||!this.$x.$timezone)return c.call(this,e,t);var r=a(this.format("YYYY-MM-DD HH:mm:ss:SSS"),{locale:this.$L});return c.call(r,e,t).tz(this.$x.$timezone,!0)},a.tz=function(e,t,r){var n=r&&t,i=r||t||o,u=s(+a(),i);if("string"!=typeof e)return a(e).tz(i);var c=function(e,t,r){var n=e-60*t*1e3,a=s(n,r);if(t===a)return[n,t];var o=s(n-=60*(a-t)*1e3,r);return a===o?[n,a]:[e-60*Math.min(a,o)*1e3,Math.max(a,o)]}(a.utc(e,n).valueOf(),u,i),l=c[0],f=c[1],d=a(l).utcOffset(f);return d.$x.$timezone=i,d},a.tz.guess=function(){return Intl.DateTimeFormat().resolvedOptions().timeZone},a.tz.setDefault=function(e){o=e}}}()},486:function(e){e.exports=function(){"use strict";var e="minute",t=/[+-]\d\d(?::?\d\d)?/g,r=/([+-]|\d\d)/g;return function(n,a,o){var i=a.prototype;o.utc=function(e){return new a({date:e,utc:!0,args:arguments})},i.utc=function(t){var r=o(this.toDate(),{locale:this.$L,utc:!0});return t?r.add(this.utcOffset(),e):r},i.local=function(){return o(this.toDate(),{locale:this.$L,utc:!1})};var s=i.parse;i.parse=function(e){e.utc&&(this.$u=!0),this.$utils().u(e.$offset)||(this.$offset=e.$offset),s.call(this,e)};var u=i.init;i.init=function(){if(this.$u){var e=this.$d;this.$y=e.getUTCFullYear(),this.$M=e.getUTCMonth(),this.$D=e.getUTCDate(),this.$W=e.getUTCDay(),this.$H=e.getUTCHours(),this.$m=e.getUTCMinutes(),this.$s=e.getUTCSeconds(),this.$ms=e.getUTCMilliseconds()}else u.call(this)};var c=i.utcOffset;i.utcOffset=function(n,a){var o=this.$utils().u;if(o(n))return this.$u?0:o(this.$offset)?c.call(this):this.$offset;if("string"==typeof n&&(n=function(e){void 0===e&&(e="");var n=e.match(t);if(!n)return null;var a=(""+n[0]).match(r)||["-",0,0],o=a[0],i=60*+a[1]+ +a[2];return 0===i?0:"+"===o?i:-i}(n),null===n))return this;var i=Math.abs(n)<=16?60*n:n,s=this;if(a)return s.$offset=i,s.$u=0===n,s;if(0!==n){var u=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(s=this.local().add(i+u,e)).$offset=i,s.$x.$localOffset=u}else s=this.utc();return s};var l=i.format;i.format=function(e){var t=e||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return l.call(this,t)},i.valueOf=function(){var e=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*e},i.isUTC=function(){return!!this.$u},i.toISOString=function(){return this.toDate().toISOString()},i.toString=function(){return this.toDate().toUTCString()};var f=i.toDate;i.toDate=function(e){return"s"===e&&this.$offset?o(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():f.call(this)};var d=i.diff;i.diff=function(e,t,r){if(e&&this.$u===e.$u)return d.call(this,e,t,r);var n=this.local(),a=o(e).local();return d.call(n,a,t,r)}}}()},292:e=>{"use strict";var t=[];function r(e){for(var r=-1,n=0;n<t.length;n++)if(t[n].identifier===e){r=n;break}return r}function n(e,n){for(var o={},i=[],s=0;s<e.length;s++){var u=e[s],c=n.base?u[0]+n.base:u[0],l=o[c]||0,f="".concat(c," ").concat(l);o[c]=l+1;var d=r(f),p={css:u[1],media:u[2],sourceMap:u[3],supports:u[4],layer:u[5]};if(-1!==d)t[d].references++,t[d].updater(p);else{var h=a(p,n);n.byIndex=s,t.splice(s,0,{identifier:f,updater:h,references:1})}i.push(f)}return i}function a(e,t){var r=t.domAPI(t);r.update(e);return function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;r.update(e=t)}else r.remove()}}e.exports=function(e,a){var o=n(e=e||[],a=a||{});return function(e){e=e||[];for(var i=0;i<o.length;i++){var s=r(o[i]);t[s].references--}for(var u=n(e,a),c=0;c<o.length;c++){var l=r(o[c]);0===t[l].references&&(t[l].updater(),t.splice(l,1))}o=u}}},383:e=>{"use strict";var t={};e.exports=function(e,r){var n=function(e){if(void 0===t[e]){var r=document.querySelector(e);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(e){r=null}t[e]=r}return t[e]}(e);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");n.appendChild(r)}},88:e=>{"use strict";e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},884:(e,t,r)=>{"use strict";e.exports=function(e){var t=r.nc;t&&e.setAttribute("nonce",t)}},893:e=>{"use strict";e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(r){!function(e,t,r){var n="";r.supports&&(n+="@supports (".concat(r.supports,") {")),r.media&&(n+="@media ".concat(r.media," {"));var a=void 0!==r.layer;a&&(n+="@layer".concat(r.layer.length>0?" ".concat(r.layer):""," {")),n+=r.css,a&&(n+="}"),r.media&&(n+="}"),r.supports&&(n+="}");var o=r.sourceMap;o&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleTagTransform(n,e,t.options)}(t,e,r)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},997:e=>{"use strict";e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},89:t=>{"use strict";t.exports=e},781:e=>{"use strict";e.exports=t},531:e=>{"use strict";e.exports=r},7:e=>{"use strict";e.exports=n},241:e=>{"use strict";e.exports=a},308:e=>{"use strict";e.exports=o},959:e=>{"use strict";e.exports=i},269:e=>{"use strict";e.exports=s},629:(e,t,r)=>{"use strict";r.r(t),r.d(t,{__assign:()=>o,__asyncDelegator:()=>S,__asyncGenerator:()=>E,__asyncValues:()=>A,__await:()=>x,__awaiter:()=>h,__classPrivateFieldGet:()=>I,__classPrivateFieldIn:()=>C,__classPrivateFieldSet:()=>P,__createBinding:()=>y,__decorate:()=>s,__esDecorate:()=>c,__exportStar:()=>b,__extends:()=>a,__generator:()=>m,__importDefault:()=>T,__importStar:()=>$,__makeTemplateObject:()=>D,__metadata:()=>p,__param:()=>u,__propKey:()=>f,__read:()=>g,__rest:()=>i,__runInitializers:()=>l,__setFunctionName:()=>d,__spread:()=>w,__spreadArray:()=>_,__spreadArrays:()=>O,__values:()=>v,default:()=>M});var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)};function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var o=function(){return o=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},o.apply(this,arguments)};function i(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r}function s(e,t,r,n){var a,o=arguments.length,i=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(i=(o<3?a(i):o>3?a(t,r,i):a(t,r))||i);return o>3&&i&&Object.defineProperty(t,r,i),i}function u(e,t){return function(r,n){t(r,n,e)}}function c(e,t,r,n,a,o){function i(e){if(void 0!==e&&"function"!=typeof e)throw new TypeError("Function expected");return e}for(var s,u=n.kind,c="getter"===u?"get":"setter"===u?"set":"value",l=!t&&e?n.static?e:e.prototype:null,f=t||(l?Object.getOwnPropertyDescriptor(l,n.name):{}),d=!1,p=r.length-1;p>=0;p--){var h={};for(var m in n)h[m]="access"===m?{}:n[m];for(var m in n.access)h.access[m]=n.access[m];h.addInitializer=function(e){if(d)throw new TypeError("Cannot add initializers after decoration has completed");o.push(i(e||null))};var y=(0,r[p])("accessor"===u?{get:f.get,set:f.set}:f[c],h);if("accessor"===u){if(void 0===y)continue;if(null===y||"object"!=typeof y)throw new TypeError("Object expected");(s=i(y.get))&&(f.get=s),(s=i(y.set))&&(f.set=s),(s=i(y.init))&&a.unshift(s)}else(s=i(y))&&("field"===u?a.unshift(s):f[c]=s)}l&&Object.defineProperty(l,n.name,f),d=!0}function l(e,t,r){for(var n=arguments.length>2,a=0;a<t.length;a++)r=n?t[a].call(e,r):t[a].call(e);return n?r:void 0}function f(e){return"symbol"==typeof e?e:"".concat(e)}function d(e,t,r){return"symbol"==typeof t&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function p(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function h(e,t,r,n){return new(r||(r=Promise))((function(a,o){function i(e){try{u(n.next(e))}catch(e){o(e)}}function s(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,s)}u((n=n.apply(e,t||[])).next())}))}function m(e,t){var r,n,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(u){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(i=0)),i;)try{if(r=1,n&&(a=2&s[0]?n.return:s[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,s[1])).done)return a;switch(n=0,a&&(s=[2&s[0],a.value]),s[0]){case 0:case 1:a=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,n=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!a||s[1]>a[0]&&s[1]<a[3])){i.label=s[1];break}if(6===s[0]&&i.label<a[1]){i.label=a[1],a=s;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(s);break}a[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],n=0}finally{r=a=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,u])}}}var y=Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]};function b(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||y(t,e,r)}function v(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function g(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,a,o=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)i.push(n.value)}catch(e){a={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(a)throw a.error}}return i}function w(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(g(arguments[t]));return e}function O(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),a=0;for(t=0;t<r;t++)for(var o=arguments[t],i=0,s=o.length;i<s;i++,a++)n[a]=o[i];return n}function _(e,t,r){if(r||2===arguments.length)for(var n,a=0,o=t.length;a<o;a++)!n&&a in t||(n||(n=Array.prototype.slice.call(t,0,a)),n[a]=t[a]);return e.concat(n||Array.prototype.slice.call(t))}function x(e){return this instanceof x?(this.v=e,this):new x(e)}function E(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,a=r.apply(e,t||[]),o=[];return n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n;function i(e){a[e]&&(n[e]=function(t){return new Promise((function(r,n){o.push([e,t,r,n])>1||s(e,t)}))})}function s(e,t){try{(r=a[e](t)).value instanceof x?Promise.resolve(r.value.v).then(u,c):l(o[0][2],r)}catch(e){l(o[0][3],e)}var r}function u(e){s("next",e)}function c(e){s("throw",e)}function l(e,t){e(t),o.shift(),o.length&&s(o[0][0],o[0][1])}}function S(e){var t,r;return t={},n("next"),n("throw",(function(e){throw e})),n("return"),t[Symbol.iterator]=function(){return this},t;function n(n,a){t[n]=e[n]?function(t){return(r=!r)?{value:x(e[n](t)),done:!1}:a?a(t):t}:a}}function A(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e=v(e),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise((function(n,a){(function(e,t,r,n){Promise.resolve(n).then((function(t){e({value:t,done:r})}),t)})(n,a,(t=e[r](t)).done,t.value)}))}}}function D(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var j=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t};function $(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&y(t,e,r);return j(t,e),t}function T(e){return e&&e.__esModule?e:{default:e}}function I(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)}function P(e,t,r,n,a){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!a)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?a.call(e,r):a?a.value=r:t.set(e,r),r}function C(e,t){if(null===t||"object"!=typeof t&&"function"!=typeof t)throw new TypeError("Cannot use 'in' operator on non-object");return"function"==typeof e?t===e:e.has(t)}const M={__extends:a,__assign:o,__rest:i,__decorate:s,__param:u,__metadata:p,__awaiter:h,__generator:m,__createBinding:y,__exportStar:b,__values:v,__read:g,__spread:w,__spreadArrays:O,__spreadArray:_,__await:x,__asyncGenerator:E,__asyncDelegator:S,__asyncValues:A,__makeTemplateObject:D,__importStar:$,__importDefault:T,__classPrivateFieldGet:I,__classPrivateFieldSet:P,__classPrivateFieldIn:C}}},c={};function l(e){var t=c[e];if(void 0!==t)return t.exports;var r=c[e]={id:e,exports:{}};return u[e].call(r.exports,r,r.exports,l),r.exports}l.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return l.d(t,{a:t}),t},l.d=(e,t)=>{for(var r in t)l.o(t,r)&&!l.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},l.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),l.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.p="public/plugins/fluvio-connect-dynamodb/",l.nc=void 0;var f={};return(()=>{"use strict";l.r(f),l.d(f,{plugin:()=>Me});var e=l(308),t=l.n(e);l.p=t()&&t().uri?t().uri.slice(0,t().uri.lastIndexOf("/")+1):"public/plugins/fluvio-connect-dynamodb/";var r=l(781),n=l(531),a=l(269);const o={queryText:"",datetimeAttributes:[],customFilters:[]},i="1",s="2",u="custom";var c=l(285),d=l.n(c),p=l(37),h=l.n(p),m=l(795),y=l.n(m),b=l(486),v=l.n(b);function g(e,t,r,n,a,o,i){try{var s=e[o](i),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,a)}function w(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function O(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){w(e,t,r[t])}))}return e}function _(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})),e}d().extend(v()),d().extend(h()),d().extend(y());class x extends n.DataSourceWithBackend{getDefaultQuery(e){return o}applyTemplateVariables(e,t){return _(O({},e),{queryText:(0,n.getTemplateSrv)().replace(e.queryText,t)})}filterQuery(e){return!!e.queryText}query(e){if(!e.range||!e.range.from||!e.range.to)throw console.error("Invalid time range in query request"),new Error("Invalid time range");let t=Math.floor(e.range.from.toDate().getTime()/1e3),r=Math.floor(e.range.to.toDate().getTime()/1e3);if(isNaN(t)||isNaN(r)||t<0||r<0)throw console.error("Invalid time range values:",{fromTime:t,toTime:r}),new Error("Invalid time range values");t>r&&(console.warn("From time is after to time, swapping values"),[t,r]=[r,t]);const n=e.targets.map((e=>{let n=e.queryText||"";return n.trim()?(n=n.replace(/\$from/g,t.toString()).replace(/\$to/g,r.toString()).replace(/\$__timeFilter\(\s*['"`]?(\w+)['"`]?\s*\)/gi,((e,n)=>`"${n}" BETWEEN ${t} AND ${r}`)),_(O({},e),{queryText:n,datetimeAttributes:(e.datetimeAttributes||[]).map((e=>{if(!e||!e.name)return console.warn("Invalid datetime attribute field, skipping:",e),e;if(e.format!==i&&e.format!==s)try{return _(O({},e),{format:(t=e.format,d().tz(1136239445999,"America/Edmonton").format(t))})}catch(t){return console.error("Error formatting datetime attribute:",t),e}var t;return e}))})):(console.warn("Skipping empty query"),e)}));return super.query(_(O({},e),{targets:n}))}metricFindQuery(e,t){var o,i=this;return(o=function*(){let o;if(o="string"==typeof e?e:e.query||"",!o)return Promise.resolve([]);const s=(0,n.getTemplateSrv)().replace(o,null==t?void 0:t.scopedVars);try{const e={targets:[i.variables instanceof E?i.variables.toDataQuery({refId:"variable-query",query:s}):{queryText:s,datetimeAttributes:[],customFilters:[],refId:"variable-query",datasource:i.getRef()}],range:(null==t?void 0:t.range)||{from:"now-1h",to:"now",raw:{from:"now-1h",to:"now"}},scopedVars:(null==t?void 0:t.scopedVars)||{},timezone:"browser",app:r.CoreApp.Dashboard,requestId:"variable-query",interval:"1m",intervalMs:6e4,maxDataPoints:1e3,startTime:Date.now()},n=yield(0,a.lastValueFrom)(i.query(e));if(!(null==n?void 0:n.data)||0===n.data.length)return[];const o=n.data[0],u=[];if(o.fields&&o.fields.length>0){const e=o.fields[0];if(e.values)for(let t=0;t<e.values.length;t++){const r=e.values.get(t);null!=r&&u.push({text:String(r),value:String(r)})}}return u}catch(e){return console.error("Error executing variable query:",e),[]}},function(){var e=this,t=arguments;return new Promise((function(r,n){var a=o.apply(e,t);function i(e){g(a,r,n,i,s,"next",e)}function s(e){g(a,r,n,i,s,"throw",e)}i(void 0)}))})()}constructor(e){super(e),this.variables=new E(this)}}class E extends r.StandardVariableSupport{getDefaultQuery(){var e;return{queryText:null!==(e=o.queryText)&&void 0!==e?e:""}}toDataQuery(e){var t,r;return{refId:null!==(t=e.refId)&&void 0!==t?t:"variable-query",datasource:this.datasource.getRef(),queryText:null!==(r=e.query)&&void 0!==r?r:"",datetimeAttributes:[],customFilters:[]}}query(e){return this.datasource.query(e)}constructor(e){super(),w(this,"datasource",void 0),this.datasource=e}}var S=l(959),A=l.n(S),D=l(7);const j=["af-south-1","ap-east-1","ap-northeast-1","ap-northeast-2","ap-northeast-3","ap-south-1","ap-south-2","ap-southeast-1","ap-southeast-2","ap-southeast-3","ap-southeast-4","ca-central-1","ca-west-1","cn-north-1","cn-northwest-1","eu-central-1","eu-central-2","eu-north-1","eu-south-1","eu-south-2","eu-west-1","eu-west-2","eu-west-3","il-central-1","me-central-1","me-south-1","sa-east-1","us-east-1","us-east-2","us-gov-east-1","us-gov-west-1","us-iso-east-1","us-isob-east-1","us-west-1","us-west-2"];var $=(e=>(e.Keys="keys",e.Credentials="credentials",e.Default="default",e.EC2IAMRole="ec2_iam_role",e.ARN="arn",e.GrafanaAssumeRole="grafana_assume_role",e))($||{});const T=[{label:"Workspace IAM Role",value:$.EC2IAMRole},{label:"Grafana Assume Role",value:$.GrafanaAssumeRole},{label:"AWS SDK Default",value:$.Default},{label:"Access & secret key",value:$.Keys},{label:"Credentials file",value:$.Credentials}];var I=l(89);const P=(0,I.css)({maxWidth:"715px"});var C=Object.defineProperty,M=Object.defineProperties,k=Object.getOwnPropertyDescriptors,R=Object.getOwnPropertySymbols,F=Object.prototype.hasOwnProperty,N=Object.prototype.propertyIsEnumerable,B=(e,t,r)=>t in e?C(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,q=(e,t)=>{for(var r in t||(t={}))F.call(t,r)&&B(e,r,t[r]);if(R)for(var r of R(t))N.call(t,r)&&B(e,r,t[r]);return e};const z=({children:e,title:t,description:r,isCollapsible:n=!1,isInitiallyOpen:a=!0,kind:o="section",className:i})=>{const{colors:s,typography:u,spacing:c}=(0,D.useTheme2)(),[l,f]=(0,S.useState)(!n||a),d=l?"angle-up":"angle-down",p="sub-section"===o,h=`${l?"Collapse":"Expand"} section ${t}`,m={header:(0,I.css)({display:"flex",justifyContent:"space-between",alignItems:"center"}),title:(0,I.css)({margin:0}),subtitle:(0,I.css)({margin:0,fontWeight:u.fontWeightRegular}),descriptionText:(0,I.css)((y=q({marginTop:c(p?.25:.5),marginBottom:0},u.bodySmall),b={color:s.text.secondary},M(y,k(b)))),content:(0,I.css)({marginTop:c(2)})};var y,b;return A().createElement("div",{className:i},A().createElement("div",{className:m.header},"section"===o?A().createElement("h3",{className:m.title},t):A().createElement("h6",{className:m.subtitle},t),n&&A().createElement(D.IconButton,{name:d,onClick:()=>f(!l),type:"button",size:"xl","aria-label":h})),r&&A().createElement("p",{className:m.descriptionText},r),l&&A().createElement("div",{className:m.content},e))};var U=Object.defineProperty,W=Object.defineProperties,Y=Object.getOwnPropertyDescriptors,L=Object.getOwnPropertySymbols,H=Object.prototype.hasOwnProperty,Q=Object.prototype.propertyIsEnumerable,G=(e,t,r)=>t in e?U(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;const J=e=>{var t,r=e,{children:n}=r,a=((e,t)=>{var r={};for(var n in e)H.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&L)for(var n of L(e))t.indexOf(n)<0&&Q.call(e,n)&&(r[n]=e[n]);return r})(r,["children"]);return A().createElement(z,(t=((e,t)=>{for(var r in t||(t={}))H.call(t,r)&&G(e,r,t[r]);if(L)for(var r of L(t))Q.call(t,r)&&G(e,r,t[r]);return e})({},a),W(t,Y({kind:"section"}))),n)};var K=Object.defineProperty,V=Object.defineProperties,Z=Object.getOwnPropertyDescriptors,X=Object.getOwnPropertySymbols,ee=Object.prototype.hasOwnProperty,te=Object.prototype.propertyIsEnumerable,re=(e,t,r)=>t in e?K(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;const ne=e=>{var t,r=e,{children:n}=r,a=((e,t)=>{var r={};for(var n in e)ee.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&X)for(var n of X(e))t.indexOf(n)<0&&te.call(e,n)&&(r[n]=e[n]);return r})(r,["children"]);return A().createElement(z,(t=((e,t)=>{for(var r in t||(t={}))ee.call(t,r)&&re(e,r,t[r]);if(X)for(var r of X(t))te.call(t,r)&&re(e,r,t[r]);return e})({},a),V(t,Z({kind:"sub-section"}))),n)},ae=["cloudwatch","grafana-athena-datasource"],oe=e=>({value:e,label:e}),ie=e=>"string"==typeof e&&T.some((t=>t.value===e)),se=e=>{var t,a,o,i,s,u,c,l,f;const[d,p]=(0,S.useState)(!1),[h,m]=(0,S.useState)((e.standardRegions||j).map(oe)),{loadRegions:y,onOptionsChange:b,skipHeader:v=!1,skipEndpoint:g=!1,options:w}=e;let O=w.jsonData.profile;void 0===O&&(O=w.database);const _=n.config.featureToggles.awsDatasourcesTempCredentials&&ae.includes(w.type),x=null==(t=n.config.awsAssumeRoleEnabled)||t,E=(0,S.useMemo)((()=>n.config.awsAllowedAuthProviders.filter((e=>e!==$.GrafanaAssumeRole||_)).filter(ie)),[_]),I=T.find((e=>e.value===w.jsonData.authType));return(0,S.useEffect)((()=>{!I&&E.length&&b({...w,jsonData:{...w.jsonData,authType:E[0]}})}),[I,w,b,E]),(0,S.useEffect)((()=>{y&&y().then((e=>m(e.map(oe))))}),[y]),A().createElement("div",{"data-testid":"connection-config"},A().createElement(J,{title:v?"":"Connection Details","data-testid":"connection-config"},A().createElement(ne,{title:"Authentication"},A().createElement(D.Field,{label:"Authentication Provider",description:"Specify which AWS credentials chain to use.",htmlFor:"authProvider"},A().createElement(D.Select,{"aria-label":"Authentication Provider",inputId:"authProvider",value:I,options:T.filter((e=>E.includes(e.value))),defaultValue:w.jsonData.authType,onChange:t=>{(0,r.onUpdateDatasourceJsonDataOptionSelect)(e,"authType")(t)},menuShouldPortal:!0})),"credentials"===w.jsonData.authType&&A().createElement(D.Field,{label:"Credentials Profile Name",description:"Credentials profile name, as specified in ~/.aws/credentials, leave blank for default.",htmlFor:"credentialsProfileName"},A().createElement(D.Input,{id:"credentialsProfileName",placeholder:"default",value:w.jsonData.profile,onChange:(0,r.onUpdateDatasourceJsonDataOption)(e,"profile")})),"keys"===w.jsonData.authType&&A().createElement(A().Fragment,null,A().createElement(D.Field,{label:"Access Key ID",htmlFor:"accessKeyId"},(null==(a=e.options.secureJsonFields)?void 0:a.accessKey)?A().createElement(D.ButtonGroup,null,A().createElement(D.Input,{disabled:!0,placeholder:"Configured",id:"accessKeyId"}),A().createElement(D.ToolbarButton,{icon:"edit",tooltip:"Edit Access Key ID",type:"button",onClick:(0,r.onUpdateDatasourceResetOption)(e,"accessKey")})):A().createElement(D.Input,{id:"accessKeyId",value:null!=(i=null==(o=w.secureJsonData)?void 0:o.accessKey)?i:"",onChange:(0,r.onUpdateDatasourceSecureJsonDataOption)(e,"accessKey")})),A().createElement(D.Field,{label:"Secret Access Key",htmlFor:"secretKey"},(null==(s=e.options.secureJsonFields)?void 0:s.secretKey)?A().createElement(D.ButtonGroup,null,A().createElement(D.Input,{disabled:!0,placeholder:"Configured"}),A().createElement(D.ToolbarButton,{id:"secretKey",icon:"edit",type:"button",tooltip:"Edit Secret Access Key",onClick:(0,r.onUpdateDatasourceResetOption)(e,"secretKey")})):A().createElement(D.Input,{id:"secretKey",value:null!=(c=null==(u=w.secureJsonData)?void 0:u.secretKey)?c:"",onChange:(0,r.onUpdateDatasourceSecureJsonDataOption)(e,"secretKey")})))),A().createElement(ne,{title:"Assume Role"},w.jsonData.authType===$.GrafanaAssumeRole&&A().createElement("div",{className:P},A().createElement(D.Collapse,{label:"How to create an IAM role for grafana to assume:",collapsible:!0,isOpen:d,onToggle:()=>p(!d)},A().createElement("ol",null,A().createElement("li",null,A().createElement("p",null,"1. Create a new IAM role in the AWS console, and select ",A().createElement("code",null,"Another AWS account")," as the"," ",A().createElement("code",null,"Trusted entity"),".")),A().createElement("li",null,A().createElement("p",null,"2. Enter the account ID of the Grafana account that has permission to assume this role:",A().createElement("code",null," 008923505280 ")," and check the ",A().createElement("code",null,"Require external ID")," box.")),A().createElement("li",null,A().createElement("p",null,"3. Enter the following external ID:"," ",A().createElement("code",null,e.externalId||"External Id is currently unavailable")," and click"," ",A().createElement("code",null,"Next"),".")),A().createElement("li",null,A().createElement("p",null,"4. Add any required permissions you would like Grafana to be able to access on your behalf. For more details on our permissions please"," ",A().createElement("a",{href:"https://grafana.com/docs/grafana/latest/datasources/aws-cloudwatch/",target:"_blank",rel:"noreferrer"},"read through our documentation"),".")),A().createElement("li",null,A().createElement("p",null,"5. Give the role a name and description, and click ",A().createElement("code",null,"Create role"),".")),A().createElement("li",null,A().createElement("p",null,"6. Copy the ARN of the role you just created and paste it into the ",A().createElement("code",null,"Assume Role ARN")," ","field below."))))),x&&A().createElement(A().Fragment,null,A().createElement(D.Field,{htmlFor:"assumeRoleArn",label:"Assume Role ARN",description:"Optional. Specifying the ARN of a role will ensure that the\n                     selected authentication provider is used to assume the role rather than the\n                     credentials directly."},A().createElement(D.Input,{id:"assumeRoleArn",placeholder:"arn:aws:iam:*",value:w.jsonData.assumeRoleArn||"",onChange:(0,r.onUpdateDatasourceJsonDataOption)(e,"assumeRoleArn")})),w.jsonData.authType!==$.GrafanaAssumeRole&&A().createElement(D.Field,{htmlFor:"externalId",label:"External ID",description:"If you are assuming a role in another account, that has been created with an external ID, specify the external ID here."},A().createElement(D.Input,{id:"externalId",placeholder:"External ID",value:w.jsonData.externalId||"",onChange:(0,r.onUpdateDatasourceJsonDataOption)(e,"externalId")})))),A().createElement(ne,{title:"Additional Settings"},!g&&w.jsonData.authType!==$.GrafanaAssumeRole&&A().createElement(D.Field,{label:"Endpoint",description:"Optionally, specify a custom endpoint for the service",htmlFor:"endpoint"},A().createElement(D.Input,{id:"endpoint",placeholder:null!=(l=e.defaultEndpoint)?l:"https://{service}.{region}.amazonaws.com",value:w.jsonData.endpoint||"",onChange:(0,r.onUpdateDatasourceJsonDataOption)(e,"endpoint")})),A().createElement(D.Field,{label:"Default Region",description:"Specify the region, such as for US West (Oregon) use ` us-west-2 ` as the region.",htmlFor:"defaultRegion"},A().createElement(D.Select,{inputId:"defaultRegion",value:null!=(f=h.find((e=>e.value===w.jsonData.defaultRegion)))?f:w.jsonData.defaultRegion?{label:w.jsonData.defaultRegion,value:w.jsonData.defaultRegion}:void 0,options:h,defaultValue:w.jsonData.defaultRegion,allowCustomValue:!0,onChange:(0,r.onUpdateDatasourceJsonDataOptionSelect)(e,"defaultRegion"),formatCreateLabel:e=>`Use region: ${e}`,menuShouldPortal:!0}))),e.children))};var ue=l(241);const ce=/^(\d+)(?:\.(\d+))?(?:\.(\d+))?(?:-([0-9A-Za-z\.]+))?/;class le{constructor(e){this.major=0,this.minor=0,this.patch=0,this.meta="";const t=ce.exec(e);t&&(this.major=Number(t[1]),this.minor=Number(t[2]||0),this.patch=Number(t[3]||0),this.meta=t[4])}isGtOrEq(e){const t=new le(e);for(let e=0;e<this.comparable.length;++e){if(this.comparable[e]>t.comparable[e])return!0;if(this.comparable[e]<t.comparable[e])return!1}return!0}isValid(){return(0,ue.isNumber)(this.major)}get comparable(){return[this.major,this.minor,this.patch]}}function fe(){const e=(0,D.useTheme2)();return t=n.config.buildInfo.version,r="10.1.0",new le(t).isGtOrEq(r)?A().createElement(D.Divider,null):A().createElement("div",{style:{borderTop:`1px solid ${e.colors.border.weak}`,margin:e.spacing(2,0),width:"100%"}});var t,r}l(331);function de(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){de(e,t,r[t])}))}return e}function he(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})),e}const me=["af-south-1","ap-east-1","ap-northeast-1","ap-northeast-2","ap-northeast-3","ap-south-1","ap-southeast-1","ap-southeast-2","ap-southeast-3","ca-central-1","cn-north-1","cn-northwest-1","eu-central-1","eu-north-1","eu-south-1","eu-west-1","eu-west-2","eu-west-3","me-south-1","sa-east-1","us-east-1","us-east-2","us-gov-east-1","us-gov-west-1","us-west-1","us-west-2"];var ye=l(292),be=l.n(ye),ve=l(893),ge=l.n(ve),we=l(383),Oe=l.n(we),_e=l(884),xe=l.n(_e),Ee=l(88),Se=l.n(Ee),Ae=l(997),De=l.n(Ae),je=l(76),$e={};$e.styleTagTransform=De(),$e.setAttributes=xe(),$e.insert=Oe().bind(null,"head"),$e.domAPI=ge(),$e.insertStyleElement=Se();be()(je.A,$e);je.A&&je.A.locals&&je.A.locals;function Te(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ie(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){Te(e,t,r[t])}))}return e}function Pe(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})),e}const Ce=[{label:"Unix timestamp(s)",value:i,description:"The number of seconds that have elapsed since January 1, 1970 (also known as the Unix epoch), e.g., 1674512096"},{label:"Unix timestamp(ms)",value:s,description:"The number of miliseconds that have elapsed since January 1, 1970 (also known as the Unix epoch), e.g., 1674512096000"},{label:"Custom format",value:u,description:"User-defined format (moment.js/day.js)"}];const Me=new r.DataSourcePlugin(x).setConfigEditor((function(e){return A().createElement("div",{className:"width-30"},A().createElement(se,he(pe({},e),{standardRegions:me})),A().createElement(D.Field,{label:"Test table",description:"Name of table for connection test"},A().createElement(D.Input,{value:e.options.jsonData.connectionTestTable,onChange:t=>{e.onOptionsChange(he(pe({},e.options),{jsonData:he(pe({},e.options.jsonData),{connectionTestTable:t.currentTarget.value})}))},"aria-label":"Test table"})))})).setQueryEditor((function({query:e,onChange:t,onRunQuery:r}){const n=(0,S.useRef)(null),[a,o]=(0,S.useState)(""),[c,l]=(0,S.useState)(i),[f,d]=(0,S.useState)(""),p=r=>{t(Pe(Ie({},e),{queryText:r}))};return A().createElement(A().Fragment,null,A().createElement(D.InlineFieldRow,null,A().createElement(D.InlineField,{label:"Limit",tooltip:"(Optional) The maximum number of items to evaluate",labelWidth:11},A().createElement(D.Input,{type:"number",min:0,value:e.limit,onChange:r=>{if(r.currentTarget.value){const n=Number.parseInt(r.currentTarget.value,10);Number.isInteger(n)&&n>0&&t(Pe(Ie({},e),{limit:n}))}else t(Pe(Ie({},e),{limit:void 0}))},"aria-label":"Limit",width:15}))),A().createElement(D.InlineFieldRow,null,A().createElement(D.InlineField,{label:"Attribute",tooltip:"Attribute which has datetime data type",labelWidth:11},A().createElement(D.Input,{value:a,onChange:e=>o(e.currentTarget.value),"data-testid":"datetime-attribute-input",width:15})),A().createElement(D.InlineField,{label:"Format",labelWidth:11},A().createElement(D.Select,{options:Ce,value:c,width:25,onChange:e=>e.value&&l(e.value),"data-testid":"datetime-format-select"})),A().createElement(D.Button,{onClick:()=>{let r="";r=c===s||c===i?c:f,a&&r&&!(e.datetimeAttributes||[]).map((e=>e.name)).includes(a)&&(t(Pe(Ie({},e),{datetimeAttributes:[...e.datetimeAttributes||[],{name:a,format:r}]})),o(""),d(""))},"data-testid":"datetime-format-add"},"Add")),c===u&&A().createElement(D.InlineFieldRow,null,A().createElement(D.InlineField,{label:"Custom Format",labelWidth:11},A().createElement(D.Input,{placeholder:"Enter day.js datatime format",value:f,onChange:e=>d(e.currentTarget.value),width:25}))),A().createElement("ul",{className:"datatime-attribute-list"},(e.datetimeAttributes||[]).map(((r,n)=>{return A().createElement("li",{className:"datatime-attribute-item",key:n},A().createElement("span",{className:"datatime-attribute-name"},r.name),A().createElement(D.IconButton,{name:"times",size:"lg",tooltip:'Remove "'+r.name+": "+(a=r.format,(a===i?"Unix timestamp(s)":a===s?"Unix timestamp(ms)":a)+'"'),className:"datatime-attribute-remove-btn",onClick:()=>{return n=r.name,void t(Pe(Ie({},e),{datetimeAttributes:(e.datetimeAttributes||[]).filter((e=>e.name!==n))}));var n}}));var a}))),A().createElement(fe,null),A().createElement(D.Field,{label:"Query Text",description:"The PartiQL statement representing the operation to run"},A().createElement(D.CodeEditor,{onBlur:r=>{t(Pe(Ie({},e),{queryText:r}))},value:e.queryText||"",width:"100%",height:"120px",language:"sql",showMiniMap:!1,monacoOptions:{fontSize:14},onEditorDidMount:e=>{n.current=e}})),A().createElement(D.HorizontalGroup,{spacing:"sm"},A().createElement(D.Button,{onClick:()=>{r&&r()},variant:"primary",icon:"play"},"Run Query"),A().createElement(D.Button,{onClick:()=>{n.current&&n.current.getAction("editor.action.formatDocument").run()},variant:"secondary"},"Format"),A().createElement(D.Button,{onClick:()=>p('SELECT * FROM "datastore-Test-TelemetryTable2"'),variant:"secondary",size:"sm"},"Sample: All Data"),A().createElement(D.Button,{onClick:()=>p('SELECT * FROM "datastore-Test-TelemetryTable2" WHERE "id" = \'0001\''),variant:"secondary",size:"sm"},"Sample: Filter by ID"),A().createElement(D.Button,{onClick:()=>p('SELECT * FROM "datastore-Test-TelemetryTable2" WHERE "label" = \'Kombito\''),variant:"secondary",size:"sm"},"Sample: Filter by Label"),A().createElement(D.Button,{onClick:()=>p('SELECT * FROM "datastore-Test-TelemetryTable2" WHERE $__timeFilter(timestamp)'),variant:"secondary",size:"sm"},"Sample: Time Filter")))})).setVariableQueryEditor((function({query:e,onChange:t}){return A().createElement("div",{className:"gf-form"},A().createElement(D.InlineField,{label:"Query",labelWidth:20,grow:!0},A().createElement(D.CodeEditor,{value:e.query||"",language:"sql",height:"120px",onBlur:e=>{t({query:e},e)},showMiniMap:!1,monacoOptions:{fontSize:14}})))}))})(),f})()));
//# sourceMappingURL=module.js.map