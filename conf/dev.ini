[server]
http_port = 3000
domain = localhost
root_url = %(protocol)s://%(domain)s:%(http_port)s/
enable_gzip = false
# Allow Grafana to be served from other domains (for iframe embedding)
serve_from_sub_path = true

[database]
type = sqlite3
path = data/grafana.db

[security]
admin_user = admin
admin_password = admin
# Essential for iframe embedding in your Laravel app
allow_embedding = true
cookie_secure = false
# Additional security settings for embedding
cookie_samesite = none
# Disable X-Frame-Options to allow iframe embedding
disable_initial_admin_creation = false
# Allow embedding from your Laravel domain (optional - can be set to specific domains)
content_security_policy = false
# Disable X-Frame-Options to allow iframe embedding
disable_sanitize_html = true

[users]
allow_sign_up = true
allow_org_create = true
# Default role for new users
auto_assign_org_role = Viewer

[auth.anonymous]
# ENABLE this for iframe embedding to work properly
# This allows Laravel users to view embedded dashboards without Grafana login
enabled = true
# Organization name that should be used for unƒ√authenticated users
org_name = Main Org.
# Organization role that should be used for unauthenticated users (only Viewer is supported)
org_role = Viewer
# Hide Grafana version from anonymous users
hide_version = false

# Alternative: Basic Auth (if you prefer username/password over service account tokens)
[auth.basic]
enabled = true

# API settings for your Laravel integration
[auth.api_key]
enabled = true

[log]
mode = console
level = debug
# Optionally log API calls for debugging your Laravel integration
filters = rendering:debug

[paths]
data = data
logs = data/logs
plugins = data/plugins
provisioning = conf/provisioning

[plugins]
allow_loading_unsigned_plugins = fluvio-connect-dynamodb,fluvio-connect-dynamodb-datasource

[unified_alerting]
enabled = true

[feature_toggles]
enable = traceqlEditor

# PUBLIC DASHBOARDS - IFRAME ALTERNATIVE
[public_dashboards]
# Enable public dashboard sharing (no authentication required)
enabled = true

# CORS settings for API calls from your Laravel frontend
[cors]
allow_origins = http://localhost:3000,http://localhost:5000
allow_headers = Accept,Accept-Encoding,Authorization,Content-Type,Origin,X-Grafana-Org-Id
allow_methods = GET,POST,PUT,DELETE,OPTIONS 