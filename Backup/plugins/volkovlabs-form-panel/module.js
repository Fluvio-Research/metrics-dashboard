/*! For license information please see module.js.LICENSE.txt */
define(["@grafana/data","@grafana/ui","react","@emotion/css","lodash","@grafana/runtime","react-router-dom","rxjs","react-dom","@emotion/react","redux","react-redux"],(e,t,n,r,a,o,i,s,l,c,u,d)=>(()=>{var p,f,h={144:(e,t,n)=>{"use strict";const r=n(5380);e.exports=(e,t,n)=>r(e,t,n)>0},200:e=>{"use strict";e.exports=d},278:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var n="",r=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n}).join("")},t.i=function(e,n,r,a,o){"string"==typeof e&&(e=[[null,e,void 0]]);var i={};if(r)for(var s=0;s<this.length;s++){var l=this[s][0];null!=l&&(i[l]=!0)}for(var c=0;c<e.length;c++){var u=[].concat(e[c]);r&&i[u[0]]||(void 0!==o&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=o),n&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=n):u[2]=n),a&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=a):u[4]="".concat(a)),t.push(u))}},t}},291:(e,t,n)=>{"use strict";n.d(t,{_q:()=>r.A});var r=n(8728);n(9273),n(9115),"undefined"==typeof Reflect?Object.keys:Reflect.ownKeys,n(4358)},362:(e,t,n)=>{"use strict";var r=n(6441);function a(){}function o(){}o.resetWarningCache=a,e.exports=function(){function e(e,t,n,a,o,i){if(i!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:a};return n.PropTypes=n,n}},402:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.canDragX=function(e){return"both"===e.props.axis||"x"===e.props.axis},t.canDragY=function(e){return"both"===e.props.axis||"y"===e.props.axis},t.createCoreData=function(e,t,n){const a=!(0,r.isNum)(e.lastX),i=o(e);return a?{node:i,deltaX:0,deltaY:0,lastX:t,lastY:n,x:t,y:n}:{node:i,deltaX:t-e.lastX,deltaY:n-e.lastY,lastX:e.lastX,lastY:e.lastY,x:t,y:n}},t.createDraggableData=function(e,t){const n=e.props.scale;return{node:t.node,x:e.state.x+t.deltaX/n,y:e.state.y+t.deltaY/n,deltaX:t.deltaX/n,deltaY:t.deltaY/n,lastX:e.state.x,lastY:e.state.y}},t.getBoundPosition=function(e,t,n){if(!e.props.bounds)return[t,n];let{bounds:i}=e.props;i="string"==typeof i?i:function(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom}}(i);const s=o(e);if("string"==typeof i){const{ownerDocument:e}=s,t=e.defaultView;let n;if(n="parent"===i?s.parentNode:s.getRootNode().querySelector(i),!(n instanceof t.HTMLElement))throw new Error('Bounds selector "'+i+'" could not find an element.');const o=n,l=t.getComputedStyle(s),c=t.getComputedStyle(o);i={left:-s.offsetLeft+(0,r.int)(c.paddingLeft)+(0,r.int)(l.marginLeft),top:-s.offsetTop+(0,r.int)(c.paddingTop)+(0,r.int)(l.marginTop),right:(0,a.innerWidth)(o)-(0,a.outerWidth)(s)-s.offsetLeft+(0,r.int)(c.paddingRight)-(0,r.int)(l.marginRight),bottom:(0,a.innerHeight)(o)-(0,a.outerHeight)(s)-s.offsetTop+(0,r.int)(c.paddingBottom)-(0,r.int)(l.marginBottom)}}return(0,r.isNum)(i.right)&&(t=Math.min(t,i.right)),(0,r.isNum)(i.bottom)&&(n=Math.min(n,i.bottom)),(0,r.isNum)(i.left)&&(t=Math.max(t,i.left)),(0,r.isNum)(i.top)&&(n=Math.max(n,i.top)),[t,n]},t.getControlPosition=function(e,t,n){const r="number"==typeof t?(0,a.getTouch)(e,t):null;if("number"==typeof t&&!r)return null;const i=o(n),s=n.props.offsetParent||i.offsetParent||i.ownerDocument.body;return(0,a.offsetXYFromParent)(r||e,s,n.props.scale)},t.snapToGrid=function(e,t,n){return[Math.round(t/e[0])*e[0],Math.round(n/e[1])*e[1]]};var r=n(6732),a=n(2837);function o(e){const t=e.findDOMNode();if(!t)throw new Error("<DraggableCore>: Unmounted during event!");return t}},414:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bottom=d,t.childrenEqual=function(e,t){return(0,r.default)(a.default.Children.map(e,function(e){return null==e?void 0:e.key}),a.default.Children.map(t,function(e){return null==e?void 0:e.key}))},t.cloneLayout=p,t.cloneLayoutItem=h,t.collides=g,t.compact=b,t.compactItem=w,t.compactType=function(e){var t=e||{},n=t.verticalCompact,r=t.compactType;return!1===n?null:r},t.correctBounds=E,t.fastPositionEqual=function(e,t){return e.left===t.left&&e.top===t.top&&e.width===t.width&&e.height===t.height},t.fastRGLPropsEqual=void 0,t.getAllCollisions=C,t.getFirstCollision=O,t.getLayoutItem=S,t.getStatics=A,t.modifyLayout=f,t.moveElement=x,t.moveElementAwayFromCollision=D,t.noop=void 0,t.perc=function(e){return 100*e+"%"},t.setTopLeft=function(e){var t=e.top,n=e.left,r=e.width,a=e.height;return{top:"".concat(t,"px"),left:"".concat(n,"px"),width:"".concat(r,"px"),height:"".concat(a,"px"),position:"absolute"}},t.setTransform=function(e){var t=e.top,n=e.left,r=e.width,a=e.height,o="translate(".concat(n,"px,").concat(t,"px)");return{transform:o,WebkitTransform:o,MozTransform:o,msTransform:o,OTransform:o,width:"".concat(r,"px"),height:"".concat(a,"px"),position:"absolute"}},t.sortLayoutItems=P,t.sortLayoutItemsByColRow=R,t.sortLayoutItemsByRowCol=I,t.synchronizeLayoutWithChildren=function(e,t,n,r,o){e=e||[];var i=[];a.default.Children.forEach(t,function(t){if(null!=(null==t?void 0:t.key)){var n=S(e,String(t.key));if(n)i.push(h(n));else{!c&&t.props._grid&&console.warn("`_grid` properties on children have been deprecated as of React 15.2. Please use `data-grid` or add your properties directly to the `layout`.");var r=t.props["data-grid"]||t.props._grid;r?(c||T([r],"ReactGridLayout.children"),i.push(h(s(s({},r),{},{i:t.key})))):i.push(h({w:1,h:1,x:0,y:d(i),i:String(t.key)}))}}});var l=E(i,{cols:n});return o?l:b(l,r,n)},t.validateLayout=T,t.withLayoutItem=function(e,t,n){var r=S(e,t);return r?[e=f(e,r=n(h(r))),r]:[e,null]};var r=o(n(7842)),a=o(n(5959));function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach(function(t){l(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c=!0,u=!1;function d(e){for(var t,n=0,r=0,a=e.length;r<a;r++)(t=e[r].y+e[r].h)>n&&(n=t);return n}function p(e){for(var t=Array(e.length),n=0,r=e.length;n<r;n++)t[n]=h(e[n]);return t}function f(e,t){for(var n=Array(e.length),r=0,a=e.length;r<a;r++)t.i===e[r].i?n[r]=t:n[r]=e[r];return n}function h(e){return{w:e.w,h:e.h,x:e.x,y:e.y,i:e.i,minW:e.minW,maxW:e.maxW,minH:e.minH,maxH:e.maxH,moved:Boolean(e.moved),static:Boolean(e.static),isDraggable:e.isDraggable,isResizable:e.isResizable,resizeHandles:e.resizeHandles,isBounded:e.isBounded}}var m=n(7434);function g(e,t){return!(e.i===t.i||e.x+e.w<=t.x||e.x>=t.x+t.w||e.y+e.h<=t.y||e.y>=t.y+t.h)}function b(e,t,n){for(var r=A(e),a=P(e,t),o=Array(e.length),i=0,s=a.length;i<s;i++){var l=h(a[i]);l.static||(l=w(r,l,t,n,a),r.push(l)),o[e.indexOf(a[i])]=l,l.moved=!1}return o}t.fastRGLPropsEqual=m;var v={x:"w",y:"h"};function y(e,t,n,r){var a=v[r];t[r]+=1;for(var o=e.map(function(e){return e.i}).indexOf(t.i)+1;o<e.length;o++){var i=e[o];if(!i.static){if(i.y>t.y+t.h)break;g(t,i)&&y(e,i,n+t[a],r)}}t[r]=n}function w(e,t,n,r,a){var o,i="horizontal"===n;if("vertical"===n)for(t.y=Math.min(d(e),t.y);t.y>0&&!O(e,t);)t.y--;else if(i)for(;t.x>0&&!O(e,t);)t.x--;for(;o=O(e,t);)i?y(a,t,o.x+o.w,"x"):y(a,t,o.y+o.h,"y"),i&&t.x+t.w>r&&(t.x=r-t.w,t.y++);return t.y=Math.max(t.y,0),t.x=Math.max(t.x,0),t}function E(e,t){for(var n=A(e),r=0,a=e.length;r<a;r++){var o=e[r];if(o.x+o.w>t.cols&&(o.x=t.cols-o.w),o.x<0&&(o.x=0,o.w=t.cols),o.static)for(;O(n,o);)o.y++;else n.push(o)}return e}function S(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n].i===t)return e[n]}function O(e,t){for(var n=0,r=e.length;n<r;n++)if(g(e[n],t))return e[n]}function C(e,t){return e.filter(function(e){return g(e,t)})}function A(e){return e.filter(function(e){return e.static})}function x(e,t,n,r,a,o,i,s,l){if(t.static&&!0!==t.isDraggable)return e;if(t.y===r&&t.x===n)return e;k("Moving element ".concat(t.i," to [").concat(String(n),",").concat(String(r),"] from [").concat(t.x,",").concat(t.y,"]"));var c=t.x,u=t.y;"number"==typeof n&&(t.x=n),"number"==typeof r&&(t.y=r),t.moved=!0;var d=P(e,i);("vertical"===i&&"number"==typeof r?u>=r:"horizontal"===i&&"number"==typeof n&&c>=n)&&(d=d.reverse());var f=C(d,t),h=f.length>0;if(h&&l)return p(e);if(h&&o)return k("Collision prevented on ".concat(t.i,", reverting.")),t.x=c,t.y=u,t.moved=!1,e;for(var m=0,g=f.length;m<g;m++){var b=f[m];k("Resolving collision between ".concat(t.i," at [").concat(t.x,",").concat(t.y,"] and ").concat(b.i," at [").concat(b.x,",").concat(b.y,"]")),b.moved||(e=b.static?D(e,b,t,a,i,s):D(e,t,b,a,i,s))}return e}function D(e,t,n,r,a,o){var i="horizontal"===a,s="horizontal"!==a,l=t.static;if(r){r=!1;var c={x:i?Math.max(t.x-n.w,0):n.x,y:s?Math.max(t.y-n.h,0):n.y,w:n.w,h:n.h,i:"-1"};if(!O(e,c))return k("Doing reverse collision on ".concat(n.i," up to [").concat(c.x,",").concat(c.y,"].")),x(e,n,i?c.x:void 0,s?c.y:void 0,r,l,a,o)}return x(e,n,i?n.x+1:void 0,s?n.y+1:void 0,r,l,a,o)}function P(e,t){return"horizontal"===t?R(e):"vertical"===t?I(e):e}function I(e){return e.slice(0).sort(function(e,t){return e.y>t.y||e.y===t.y&&e.x>t.x?1:e.y===t.y&&e.x===t.x?0:-1})}function R(e){return e.slice(0).sort(function(e,t){return e.x>t.x||e.x===t.x&&e.y>t.y?1:-1})}function T(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Layout",n=["x","y","w","h"];if(!Array.isArray(e))throw new Error(t+" must be an array!");for(var r=0,a=e.length;r<a;r++)for(var o=e[r],i=0;i<n.length;i++)if("number"!=typeof o[n[i]])throw new Error("ReactGridLayout: "+t+"["+r+"]."+n[i]+" must be a number!")}function k(){var e;u&&(e=console).log.apply(e,arguments)}t.noop=function(){}},544:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.findOrGenerateResponsiveLayout=function(e,t,n,o,i,s){if(e[n])return(0,r.cloneLayout)(e[n]);for(var l=e[o],c=a(t),u=c.slice(c.indexOf(n)),d=0,p=u.length;d<p;d++){var f=u[d];if(e[f]){l=e[f];break}}return l=(0,r.cloneLayout)(l||[]),(0,r.compact)((0,r.correctBounds)(l,{cols:i}),s,i)},t.getBreakpointFromWidth=function(e,t){for(var n=a(e),r=n[0],o=1,i=n.length;o<i;o++){var s=n[o];t>e[s]&&(r=s)}return r},t.getColsFromBreakpoint=function(e,t){if(!t[e])throw new Error("ResponsiveReactGridLayout: `cols` entry for breakpoint "+e+" is missing!");return t[e]},t.sortBreakpoints=a;var r=n(414);function a(e){return Object.keys(e).sort(function(t,n){return e[t]-e[n]})}},599:(e,t,n)=>{"use strict";const r=n(5380);e.exports=(e,t,n)=>r(e,t,n)<0},603:(e,t,n)=>{"use strict";const r=n(2801);e.exports=(e,t)=>e.sort((e,n)=>r(e,n,t))},651:(e,t,n)=>{"use strict";const r=n(8395);e.exports=(e,t)=>new r(e,t).set.map(e=>e.map(e=>e.value).join(" ").trim().split(" "))},660:(e,t,n)=>{"use strict";const r=n(5860);e.exports=(e,t)=>{const n=r(e,null,!0),a=r(t,null,!0),o=n.compare(a);if(0===o)return null;const i=o>0,s=i?n:a,l=i?a:n,c=!!s.prerelease.length;if(l.prerelease.length&&!c){if(!l.patch&&!l.minor)return"major";if(0===l.compareMain(s))return l.minor&&!l.patch?"minor":"patch"}const u=c?"pre":"";return n.major!==a.major?u+"major":n.minor!==a.minor?u+"minor":n.patch!==a.patch?u+"patch":"prerelease"}},694:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n.d(t,{A:()=>r})},697:(e,t,n)=>{"use strict";n.d(t,{A:()=>s,o:()=>i});var r=n(5959),a=(0,n(9370).A)()?r.useLayoutEffect:r.useEffect,o=function(e,t){var n=r.useRef(!0);a(function(){return e(n.current)},t),a(function(){return n.current=!1,function(){n.current=!0}},[])},i=function(e,t){o(function(t){if(!t)return e()},t)};const s=o},906:(e,t)=>{"use strict";function n(e){var t=e.margin,n=e.containerPadding,r=e.containerWidth,a=e.cols;return(r-t[0]*(a-1)-2*n[0])/a}function r(e,t,n){return Number.isFinite(e)?Math.round(t*e+Math.max(0,e-1)*n):e}function a(e,t,n){return Math.max(Math.min(e,n),t)}Object.defineProperty(t,"__esModule",{value:!0}),t.calcGridColWidth=n,t.calcGridItemPosition=function(e,t,a,o,i,s){var l=e.margin,c=e.containerPadding,u=e.rowHeight,d=n(e),p={};return s&&s.resizing?(p.width=Math.round(s.resizing.width),p.height=Math.round(s.resizing.height)):(p.width=r(o,d,l[0]),p.height=r(i,u,l[1])),s&&s.dragging?(p.top=Math.round(s.dragging.top),p.left=Math.round(s.dragging.left)):(p.top=Math.round((u+l[1])*a+c[1]),p.left=Math.round((d+l[0])*t+c[0])),p},t.calcGridItemWHPx=r,t.calcWH=function(e,t,r,o,i){var s=e.margin,l=e.maxRows,c=e.cols,u=e.rowHeight,d=n(e),p=Math.round((t+s[0])/(d+s[0])),f=Math.round((r+s[1])/(u+s[1]));return{w:p=a(p,0,c-o),h:f=a(f,0,l-i)}},t.calcXY=function(e,t,r,o,i){var s=e.margin,l=e.cols,c=e.rowHeight,u=e.maxRows,d=n(e),p=Math.round((r-s[0])/(d+s[0])),f=Math.round((t-s[1])/(c+s[1]));return{x:p=a(p,0,l-o),y:f=a(f,0,u-i)}},t.clamp=a},936:(e,t,n)=>{"use strict";e.exports=function(){throw new Error("Don't instantiate Resizable directly! Use require('react-resizable').Resizable")},e.exports.Resizable=n(1794).default,e.exports.ResizableBox=n(6609).default},1060:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){if("function"==typeof WeakMap){var t=new WeakMap;new WeakMap}return function(e){if(e&&e.__esModule)return e;var n,r,a={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return a;if(n=t){if(n.has(e))return n.get(e);n.set(e,a)}for(const t in e)"default"!==t&&{}.hasOwnProperty.call(e,t)&&((r=(n=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(r.get||r.set)?n(a,t,r):a[t]=e[t]);return a}(e)}(n(5959)),a=u(n(2688)),o=u(n(8398)),i=n(2837),s=n(402),l=n(6732),c=u(n(7988));function u(e){return e&&e.__esModule?e:{default:e}}function d(e,t,n){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const p={start:"touchstart",move:"touchmove",stop:"touchend"},f={start:"mousedown",move:"mousemove",stop:"mouseup"};let h=f;class m extends r.Component{constructor(){super(...arguments),d(this,"dragging",!1),d(this,"lastX",NaN),d(this,"lastY",NaN),d(this,"touchIdentifier",null),d(this,"mounted",!1),d(this,"handleDragStart",e=>{if(this.props.onMouseDown(e),!this.props.allowAnyClick&&"number"==typeof e.button&&0!==e.button)return!1;const t=this.findDOMNode();if(!t||!t.ownerDocument||!t.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");const{ownerDocument:n}=t;if(this.props.disabled||!(e.target instanceof n.defaultView.Node)||this.props.handle&&!(0,i.matchesSelectorAndParentsTo)(e.target,this.props.handle,t)||this.props.cancel&&(0,i.matchesSelectorAndParentsTo)(e.target,this.props.cancel,t))return;"touchstart"!==e.type||this.props.allowMobileScroll||e.preventDefault();const r=(0,i.getTouchIdentifier)(e);this.touchIdentifier=r;const a=(0,s.getControlPosition)(e,r,this);if(null==a)return;const{x:o,y:l}=a,u=(0,s.createCoreData)(this,o,l);(0,c.default)("DraggableCore: handleDragStart: %j",u),(0,c.default)("calling",this.props.onStart),!1!==this.props.onStart(e,u)&&!1!==this.mounted&&(this.props.enableUserSelectHack&&(0,i.addUserSelectStyles)(n),this.dragging=!0,this.lastX=o,this.lastY=l,(0,i.addEvent)(n,h.move,this.handleDrag),(0,i.addEvent)(n,h.stop,this.handleDragStop))}),d(this,"handleDrag",e=>{const t=(0,s.getControlPosition)(e,this.touchIdentifier,this);if(null==t)return;let{x:n,y:r}=t;if(Array.isArray(this.props.grid)){let e=n-this.lastX,t=r-this.lastY;if([e,t]=(0,s.snapToGrid)(this.props.grid,e,t),!e&&!t)return;n=this.lastX+e,r=this.lastY+t}const a=(0,s.createCoreData)(this,n,r);if((0,c.default)("DraggableCore: handleDrag: %j",a),!1!==this.props.onDrag(e,a)&&!1!==this.mounted)this.lastX=n,this.lastY=r;else try{this.handleDragStop(new MouseEvent("mouseup"))}catch(e){const t=document.createEvent("MouseEvents");t.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(t)}}),d(this,"handleDragStop",e=>{if(!this.dragging)return;const t=(0,s.getControlPosition)(e,this.touchIdentifier,this);if(null==t)return;let{x:n,y:r}=t;if(Array.isArray(this.props.grid)){let e=n-this.lastX||0,t=r-this.lastY||0;[e,t]=(0,s.snapToGrid)(this.props.grid,e,t),n=this.lastX+e,r=this.lastY+t}const a=(0,s.createCoreData)(this,n,r);if(!1===this.props.onStop(e,a)||!1===this.mounted)return!1;const o=this.findDOMNode();o&&this.props.enableUserSelectHack&&(0,i.scheduleRemoveUserSelectStyles)(o.ownerDocument),(0,c.default)("DraggableCore: handleDragStop: %j",a),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,o&&((0,c.default)("DraggableCore: Removing handlers"),(0,i.removeEvent)(o.ownerDocument,h.move,this.handleDrag),(0,i.removeEvent)(o.ownerDocument,h.stop,this.handleDragStop))}),d(this,"onMouseDown",e=>(h=f,this.handleDragStart(e))),d(this,"onMouseUp",e=>(h=f,this.handleDragStop(e))),d(this,"onTouchStart",e=>(h=p,this.handleDragStart(e))),d(this,"onTouchEnd",e=>(h=p,this.handleDragStop(e)))}componentDidMount(){this.mounted=!0;const e=this.findDOMNode();e&&(0,i.addEvent)(e,p.start,this.onTouchStart,{passive:!1})}componentWillUnmount(){this.mounted=!1;const e=this.findDOMNode();if(e){const{ownerDocument:t}=e;(0,i.removeEvent)(t,f.move,this.handleDrag),(0,i.removeEvent)(t,p.move,this.handleDrag),(0,i.removeEvent)(t,f.stop,this.handleDragStop),(0,i.removeEvent)(t,p.stop,this.handleDragStop),(0,i.removeEvent)(e,p.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,i.scheduleRemoveUserSelectStyles)(t)}}findDOMNode(){return this.props?.nodeRef?this.props?.nodeRef?.current:o.default.findDOMNode(this)}render(){return r.cloneElement(r.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}}t.default=m,d(m,"displayName","DraggableCore"),d(m,"propTypes",{allowAnyClick:a.default.bool,allowMobileScroll:a.default.bool,children:a.default.node.isRequired,disabled:a.default.bool,enableUserSelectHack:a.default.bool,offsetParent:function(e,t){if(e[t]&&1!==e[t].nodeType)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:a.default.arrayOf(a.default.number),handle:a.default.string,cancel:a.default.string,nodeRef:a.default.object,onStart:a.default.func,onDrag:a.default.func,onStop:a.default.func,onMouseDown:a.default.func,scale:a.default.number,className:l.dontSetMe,style:l.dontSetMe,transform:l.dontSetMe}),d(m,"defaultProps",{allowAnyClick:!1,allowMobileScroll:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1})},1112:(e,t,n)=>{"use strict";const r=n(8395);e.exports=(e,t,n)=>(e=new r(e,n),t=new r(t,n),e.intersects(t,n))},1158:e=>{"use strict";e.exports=class{constructor(){this.max=1e3,this.map=new Map}get(e){const t=this.map.get(e);return void 0===t?void 0:(this.map.delete(e),this.map.set(e,t),t)}delete(e){return this.map.delete(e)}set(e,t){if(!this.delete(e)&&void 0!==t){if(this.map.size>=this.max){const e=this.map.keys().next().value;this.delete(e)}this.map.set(e,t)}return this}}},1269:e=>{"use strict";e.exports=s},1465:(e,t,n)=>{"use strict";const r=n(1722),a=n(5380);e.exports=(e,t,n)=>{const o=[];let i=null,s=null;const l=e.sort((e,t)=>a(e,t,n));for(const e of l)r(e,t,n)?(s=e,i||(i=e)):(s&&o.push([i,s]),s=null,i=null);i&&o.push([i,null]);const c=[];for(const[e,t]of o)e===t?c.push(e):t||e!==l[0]?t?e===l[0]?c.push(`<=${t}`):c.push(`${e} - ${t}`):c.push(`>=${e}`):c.push("*");const u=c.join(" || "),d="string"==typeof t.raw?t.raw:String(t);return u.length<d.length?u:t}},1617:(e,t,n)=>{"use strict";const r=n(7944);e.exports=(e,t)=>new r(e,t).patch},1705:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var r=n(2162);function a(e,t,n){return(t=(0,r.A)(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},1722:(e,t,n)=>{"use strict";const r=n(8395);e.exports=(e,t,n)=>{try{t=new r(t,n)}catch(e){return!1}return t.test(e)}},1773:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(7850),a=n(5959);function o(e){var t=a.useRef(!1),n=a.useState(e),o=(0,r.A)(n,2),i=o[0],s=o[1];return a.useEffect(function(){return t.current=!1,function(){t.current=!0}},[]),[i,function(e,n){n&&t.current||s(e)}]}},1794:(e,t,n)=>{"use strict";t.__esModule=!0,t.default=void 0;var r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(n(5959)),a=n(8230),o=n(9954),i=n(6333),s=["children","className","draggableOpts","width","height","handle","handleSize","lockAspectRatio","axis","minConstraints","maxConstraints","onResize","onResizeStop","onResizeStart","resizeHandles","transformScale"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach(function(t){p(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function p(e,t,n){return(t=function(e){var t=function(e){if("object"!=typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e,t){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},f(e,t)}var h=function(e){var t,n;function i(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleRefs={},t.lastHandleRect=null,t.slack=null,t}n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,f(t,n);var l=i.prototype;return l.componentWillUnmount=function(){this.resetData()},l.resetData=function(){this.lastHandleRect=this.slack=null},l.runConstraints=function(e,t){var n=this.props,r=n.minConstraints,a=n.maxConstraints,o=n.lockAspectRatio;if(!r&&!a&&!o)return[e,t];if(o){var i=this.props.width/this.props.height,s=e-this.props.width,l=t-this.props.height;Math.abs(s)>Math.abs(l*i)?t=e/i:e=t*i}var c=e,u=t,d=this.slack||[0,0],p=d[0],f=d[1];return e+=p,t+=f,r&&(e=Math.max(r[0],e),t=Math.max(r[1],t)),a&&(e=Math.min(a[0],e),t=Math.min(a[1],t)),this.slack=[p+(c-e),f+(u-t)],[e,t]},l.resizeHandler=function(e,t){var n=this;return function(r,a){var o=a.node,i=a.deltaX,s=a.deltaY;"onResizeStart"===e&&n.resetData();var l=("both"===n.props.axis||"x"===n.props.axis)&&"n"!==t&&"s"!==t,c=("both"===n.props.axis||"y"===n.props.axis)&&"e"!==t&&"w"!==t;if(l||c){var u=t[0],d=t[t.length-1],p=o.getBoundingClientRect();null!=n.lastHandleRect&&("w"===d&&(i+=p.left-n.lastHandleRect.left),"n"===u&&(s+=p.top-n.lastHandleRect.top)),n.lastHandleRect=p,"w"===d&&(i=-i),"n"===u&&(s=-s);var f=n.props.width+(l?i/n.props.transformScale:0),h=n.props.height+(c?s/n.props.transformScale:0),m=n.runConstraints(f,h);f=m[0],h=m[1];var g=f!==n.props.width||h!==n.props.height,b="function"==typeof n.props[e]?n.props[e]:null;b&&!("onResize"===e&&!g)&&(null==r.persist||r.persist(),b(r,{node:o,size:{width:f,height:h},handle:t})),"onResizeStop"===e&&n.resetData()}}},l.renderResizeHandle=function(e,t){var n=this.props.handle;if(!n)return r.createElement("span",{className:"react-resizable-handle react-resizable-handle-"+e,ref:t});if("function"==typeof n)return n(e,t);var a=d({ref:t},"string"==typeof n.type?{}:{handleAxis:e});return r.cloneElement(n,a)},l.render=function(){var e=this,t=this.props,n=t.children,i=t.className,l=t.draggableOpts,u=(t.width,t.height,t.handle,t.handleSize,t.lockAspectRatio,t.axis,t.minConstraints,t.maxConstraints,t.onResize,t.onResizeStop,t.onResizeStart,t.resizeHandles),p=(t.transformScale,function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(t,s));return(0,o.cloneElement)(n,d(d({},p),{},{className:(i?i+" ":"")+"react-resizable",children:[].concat(n.props.children,u.map(function(t){var n,o=null!=(n=e.handleRefs[t])?n:e.handleRefs[t]=r.createRef();return r.createElement(a.DraggableCore,c({},l,{nodeRef:o,key:"resizableHandle-"+t,onStop:e.resizeHandler("onResizeStop",t),onStart:e.resizeHandler("onResizeStart",t),onDrag:e.resizeHandler("onResize",t)}),e.renderResizeHandle(t,o))}))}))},i}(r.Component);t.default=h,h.propTypes=i.resizableProps,h.defaultProps={axis:"both",handleSize:[20,20],lockAspectRatio:!1,minConstraints:[20,20],maxConstraints:[1/0,1/0],resizeHandles:["se"],transformScale:1}},2007:e=>{"use strict";e.exports=t},2077:(e,t,n)=>{"use strict";const r=n(5380);e.exports=(e,t,n)=>r(e,t,n)>=0},2086:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(694),a=n(4358);const o=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=new Set;return function e(t,i){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,l=o.has(t);if((0,a.Ay)(!l,"Warning: There may be circular references"),l)return!1;if(t===i)return!0;if(n&&s>1)return!1;o.add(t);var c=s+1;if(Array.isArray(t)){if(!Array.isArray(i)||t.length!==i.length)return!1;for(var u=0;u<t.length;u++)if(!e(t[u],i[u],c))return!1;return!0}if(t&&i&&"object"===(0,r.A)(t)&&"object"===(0,r.A)(i)){var d=Object.keys(t);return d.length===Object.keys(i).length&&d.every(function(n){return e(t[n],i[n],c)})}return!1}(e,t)}},2162:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var r=n(694);function a(e){var t=function(e){if("object"!=(0,r.A)(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=(0,r.A)(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==(0,r.A)(t)?t:t+""}},2548:(e,t,n)=>{e.exports=n(9482).default,e.exports.utils=n(414),e.exports.Responsive=n(4636).default,e.exports.Responsive.utils=n(544),e.exports.WidthProvider=n(6805).default},2688:(e,t,n)=>{e.exports=n(362)()},2772:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var r={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229,isTextModifyingKeyEvent:function(e){var t=e.keyCode;if(e.altKey&&!e.ctrlKey||e.metaKey||t>=r.F1&&t<=r.F12)return!1;switch(t){case r.ALT:case r.CAPS_LOCK:case r.CONTEXT_MENU:case r.CTRL:case r.DOWN:case r.END:case r.ESC:case r.HOME:case r.INSERT:case r.LEFT:case r.MAC_FF_META:case r.META:case r.NUMLOCK:case r.NUM_CENTER:case r.PAGE_DOWN:case r.PAGE_UP:case r.PAUSE:case r.PRINT_SCREEN:case r.RIGHT:case r.SHIFT:case r.UP:case r.WIN_KEY:case r.WIN_KEY_RIGHT:return!1;default:return!0}},isCharacterKey:function(e){if(e>=r.ZERO&&e<=r.NINE)return!0;if(e>=r.NUM_ZERO&&e<=r.NUM_MULTIPLY)return!0;if(e>=r.A&&e<=r.Z)return!0;if(-1!==window.navigator.userAgent.indexOf("WebKit")&&0===e)return!0;switch(e){case r.SPACE:case r.QUESTION_MARK:case r.NUM_PLUS:case r.NUM_MINUS:case r.NUM_PERIOD:case r.NUM_DIVISION:case r.SEMICOLON:case r.DASH:case r.EQUALS:case r.COMMA:case r.PERIOD:case r.SLASH:case r.APOSTROPHE:case r.SINGLE_QUOTE:case r.OPEN_SQUARE_BRACKET:case r.BACKSLASH:case r.CLOSE_SQUARE_BRACKET:return!0;default:return!1}}};const a=r},2801:(e,t,n)=>{"use strict";const r=n(7944);e.exports=(e,t,n)=>{const a=new r(e,n),o=new r(t,n);return a.compare(o)||a.compareBuild(o)}},2837:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addClassName=c,t.addEvent=function(e,t,n,r){if(!e)return;const a={capture:!0,...r};e.addEventListener?e.addEventListener(t,n,a):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n},t.addUserSelectStyles=function(e){if(!e)return;let t=e.getElementById("react-draggable-style-el");t||(t=e.createElement("style"),t.type="text/css",t.id="react-draggable-style-el",t.innerHTML=".react-draggable-transparent-selection *::-moz-selection {all: inherit;}\n",t.innerHTML+=".react-draggable-transparent-selection *::selection {all: inherit;}\n",e.getElementsByTagName("head")[0].appendChild(t)),e.body&&c(e.body,"react-draggable-transparent-selection")},t.createCSSTransform=function(e,t){const n=s(e,t,"px");return{[(0,a.browserPrefixToKey)("transform",a.default)]:n}},t.createSVGTransform=function(e,t){return s(e,t,"")},t.getTouch=function(e,t){return e.targetTouches&&(0,r.findInArray)(e.targetTouches,e=>t===e.identifier)||e.changedTouches&&(0,r.findInArray)(e.changedTouches,e=>t===e.identifier)},t.getTouchIdentifier=function(e){return e.targetTouches&&e.targetTouches[0]?e.targetTouches[0].identifier:e.changedTouches&&e.changedTouches[0]?e.changedTouches[0].identifier:void 0},t.getTranslation=s,t.innerHeight=function(e){let t=e.clientHeight;const n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,r.int)(n.paddingTop),t-=(0,r.int)(n.paddingBottom),t},t.innerWidth=function(e){let t=e.clientWidth;const n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,r.int)(n.paddingLeft),t-=(0,r.int)(n.paddingRight),t},t.matchesSelector=i,t.matchesSelectorAndParentsTo=function(e,t,n){let r=e;do{if(i(r,t))return!0;if(r===n)return!1;r=r.parentNode}while(r);return!1},t.offsetXYFromParent=function(e,t,n){const r=t===t.ownerDocument.body?{left:0,top:0}:t.getBoundingClientRect();return{x:(e.clientX+t.scrollLeft-r.left)/n,y:(e.clientY+t.scrollTop-r.top)/n}},t.outerHeight=function(e){let t=e.clientHeight;const n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,r.int)(n.borderTopWidth),t+=(0,r.int)(n.borderBottomWidth),t},t.outerWidth=function(e){let t=e.clientWidth;const n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,r.int)(n.borderLeftWidth),t+=(0,r.int)(n.borderRightWidth),t},t.removeClassName=u,t.removeEvent=function(e,t,n,r){if(!e)return;const a={capture:!0,...r};e.removeEventListener?e.removeEventListener(t,n,a):e.detachEvent?e.detachEvent("on"+t,n):e["on"+t]=null},t.scheduleRemoveUserSelectStyles=function(e){window.requestAnimationFrame?window.requestAnimationFrame(()=>{l(e)}):l(e)};var r=n(6732),a=function(e){if("function"==typeof WeakMap){var t=new WeakMap;new WeakMap}return function(e){if(e&&e.__esModule)return e;var n,r,a={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return a;if(n=t){if(n.has(e))return n.get(e);n.set(e,a)}for(const t in e)"default"!==t&&{}.hasOwnProperty.call(e,t)&&((r=(n=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(r.get||r.set)?n(a,t,r):a[t]=e[t]);return a}(e)}(n(7350));let o="";function i(e,t){return o||(o=(0,r.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(t){return(0,r.isFunction)(e[t])})),!!(0,r.isFunction)(e[o])&&e[o](t)}function s(e,t,n){let{x:r,y:a}=e,o=`translate(${r}${n},${a}${n})`;return t&&(o=`translate(${"string"==typeof t.x?t.x:t.x+n}, ${"string"==typeof t.y?t.y:t.y+n})`+o),o}function l(e){if(e)try{if(e.body&&u(e.body,"react-draggable-transparent-selection"),e.selection)e.selection.empty();else{const t=(e.defaultView||window).getSelection();t&&"Caret"!==t.type&&t.removeAllRanges()}}catch(e){}}function c(e,t){e.classList?e.classList.add(t):e.className.match(new RegExp(`(?:^|\\s)${t}(?!\\S)`))||(e.className+=` ${t}`)}function u(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp(`(?:^|\\s)${t}(?!\\S)`,"g"),"")}},2862:(e,t,n)=>{"use strict";const r=n(5380);e.exports=(e,t,n)=>r(t,e,n)},2966:(e,t,n)=>{"use strict";const r=n(7944);e.exports=(e,t)=>new r(e,t).major},3072:(e,t,n)=>{"use strict";n.r(t),n.d(t,{Popup:()=>s,default:()=>un});var r=n(4452),a=n.n(r),o=n(5959),i=n.n(o);function s(e){var t=e.children,n=e.prefixCls,r=e.id,i=e.overlayInnerStyle,s=e.bodyClassName,l=e.className,c=e.style;return o.createElement("div",{className:a()("".concat(n,"-content"),l),style:c},o.createElement("div",{className:a()("".concat(n,"-inner"),s),id:r,role:"tooltip",style:i},"function"==typeof t?t():t))}var l=n(8102),c=n(7405),u=n(9644),d=n(7850),p=n(8398),f=n.n(p),h=n(9370),m=(n(4358),n(9115));const g=o.createContext(null);var b=n(4300),v=n(697),y=[],w="data-rc-order",E="data-rc-priority",S=new Map;function O(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).mark;return e?e.startsWith("data-")?e:"data-".concat(e):"rc-util-key"}function C(e){return e.attachTo?e.attachTo:document.querySelector("head")||document.body}function A(e){return Array.from((S.get(e)||e).children).filter(function(e){return"STYLE"===e.tagName})}function x(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!(0,h.A)())return null;var n=t.csp,r=t.prepend,a=t.priority,o=void 0===a?0:a,i=function(e){return"queue"===e?"prependQueue":e?"prepend":"append"}(r),s="prependQueue"===i,l=document.createElement("style");l.setAttribute(w,i),s&&o&&l.setAttribute(E,"".concat(o)),null!=n&&n.nonce&&(l.nonce=null==n?void 0:n.nonce),l.innerHTML=e;var c=C(t),u=c.firstChild;if(r){if(s){var d=(t.styles||A(c)).filter(function(e){if(!["prepend","prependQueue"].includes(e.getAttribute(w)))return!1;var t=Number(e.getAttribute(E)||0);return o>=t});if(d.length)return c.insertBefore(l,d[d.length-1].nextSibling),l}c.insertBefore(l,u)}else c.appendChild(l);return l}function D(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=C(t);return(t.styles||A(n)).find(function(n){return n.getAttribute(O(t))===e})}function P(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=D(e,t);n&&C(t).removeChild(n)}function I(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=C(n),a=A(r),o=(0,c.A)((0,c.A)({},n),{},{styles:a});!function(e,t){var n=S.get(e);if(!n||!function(e,t){if(!e)return!1;if(e.contains)return e.contains(t);for(var n=t;n;){if(n===e)return!0;n=n.parentNode}return!1}(document,n)){var r=x("",t),a=r.parentNode;S.set(e,a),e.removeChild(r)}}(r,o);var i,s,l,u=D(t,o);if(u)return null!==(i=o.csp)&&void 0!==i&&i.nonce&&u.nonce!==(null===(s=o.csp)||void 0===s?void 0:s.nonce)&&(u.nonce=null===(l=o.csp)||void 0===l?void 0:l.nonce),u.innerHTML!==e&&(u.innerHTML=e),u;var d=x(e,o);return d.setAttribute(O(o),t),d}var R="rc-util-locker-".concat(Date.now()),T=0;function k(e){var t=!!e,n=o.useState(function(){return T+=1,"".concat(R,"_").concat(T)}),r=(0,d.A)(n,1)[0];(0,v.A)(function(){if(t){var e=(a=document.body,"undefined"!=typeof document&&a&&a instanceof Element?function(e){var t="rc-scrollbar-measure-".concat(Math.random().toString(36).substring(7)),n=document.createElement("div");n.id=t;var r,a,o=n.style;if(o.position="absolute",o.left="0",o.top="0",o.width="100px",o.height="100px",o.overflow="scroll",e){var i=getComputedStyle(e);o.scrollbarColor=i.scrollbarColor,o.scrollbarWidth=i.scrollbarWidth;var s=getComputedStyle(e,"::-webkit-scrollbar"),l=parseInt(s.width,10),c=parseInt(s.height,10);try{var u=l?"width: ".concat(s.width,";"):"",d=c?"height: ".concat(s.height,";"):"";I("\n#".concat(t,"::-webkit-scrollbar {\n").concat(u,"\n").concat(d,"\n}"),t)}catch(e){console.error(e),r=l,a=c}}document.body.appendChild(n);var p=e&&r&&!isNaN(r)?r:n.offsetWidth-n.clientWidth,f=e&&a&&!isNaN(a)?a:n.offsetHeight-n.clientHeight;return document.body.removeChild(n),P(t),{width:p,height:f}}(a):{width:0,height:0}).width,n=document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth;I("\nhtml body {\n  overflow-y: hidden;\n  ".concat(n?"width: calc(100% - ".concat(e,"px);"):"","\n}"),r)}else P(r);var a;return function(){P(r)}},[t,r])}var _=!1,L=function(e){return!1!==e&&((0,h.A)()&&e?"string"==typeof e?document.querySelector(e):"function"==typeof e?e():e:null)},M=o.forwardRef(function(e,t){var n=e.open,r=e.autoLock,a=e.getContainer,i=(e.debug,e.autoDestroy),s=void 0===i||i,l=e.children,c=o.useState(n),u=(0,d.A)(c,2),f=u[0],w=u[1],E=f||n;o.useEffect(function(){(s||n)&&w(n)},[n,s]);var S=o.useState(function(){return L(a)}),O=(0,d.A)(S,2),C=O[0],A=O[1];o.useEffect(function(){var e=L(a);A(null!=e?e:null)});var x=function(e){var t=o.useState(function(){return(0,h.A)()?document.createElement("div"):null}),n=(0,d.A)(t,1)[0],r=o.useRef(!1),a=o.useContext(g),i=o.useState(y),s=(0,d.A)(i,2),l=s[0],c=s[1],u=a||(r.current?void 0:function(e){c(function(t){return[e].concat((0,b.A)(t))})});function p(){n.parentElement||document.body.appendChild(n),r.current=!0}function f(){var e;null===(e=n.parentElement)||void 0===e||e.removeChild(n),r.current=!1}return(0,v.A)(function(){return e?a?a(p):p():f(),f},[e]),(0,v.A)(function(){l.length&&(l.forEach(function(e){return e()}),c(y))},[l]),[n,u]}(E&&!C),D=(0,d.A)(x,2),P=D[0],I=D[1],R=null!=C?C:P;k(r&&n&&(0,h.A)()&&(R===P||R===document.body));var T=null;l&&(0,m.f3)(l)&&t&&(T=l.ref);var M=(0,m.xK)(T,t);if(!E||!(0,h.A)()||void 0===C)return null;var B=!1===R||_,j=l;return t&&(j=o.cloneElement(l,{ref:M})),o.createElement(g.Provider,{value:I},B?j:(0,p.createPortal)(j,R))});const B=M;var j=n(9572);function N(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[];return i().Children.forEach(e,function(e){(null!=e||t.keepEmpty)&&(Array.isArray(e)?n=n.concat(N(e)):(0,j.A)(e)&&e.props?n=n.concat(N(e.props.children,t)):n.push(e))}),n}var V=n(694);function F(e){return e instanceof HTMLElement||e instanceof SVGElement}function $(e){var t,n=function(e){return e&&"object"===(0,V.A)(e)&&F(e.nativeElement)?e.nativeElement:F(e)?e:null}(e);return n||(e instanceof i().Component?null===(t=f().findDOMNode)||void 0===t?void 0:t.call(f(),e):null)}var U=o.createContext(null),z=function(){if("undefined"!=typeof Map)return Map;function e(e,t){var n=-1;return e.some(function(e,r){return e[0]===t&&(n=r,!0)}),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),r=this.__entries__[n];return r&&r[1]},t.prototype.set=function(t,n){var r=e(this.__entries__,t);~r?this.__entries__[r][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,r=e(n,t);~r&&n.splice(r,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n++){var a=r[n];e.call(t,a[1],a[0])}},t}()}(),W="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,H=void 0!==n.g&&n.g.Math===Math?n.g:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),G="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(H):function(e){return setTimeout(function(){return e(Date.now())},1e3/60)},q=["top","right","bottom","left","width","height","size","weight"],Q="undefined"!=typeof MutationObserver,Y=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e){var t=!1,n=!1,r=0;function a(){t&&(t=!1,e()),n&&i()}function o(){G(a)}function i(){var e=Date.now();if(t){if(e-r<2)return;n=!0}else t=!0,n=!1,setTimeout(o,20);r=e}return i}(this.refresh.bind(this))}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter(function(e){return e.gatherActive(),e.hasActive()});return e.forEach(function(e){return e.broadcastActive()}),e.length>0},e.prototype.connect_=function(){W&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),Q?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){W&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t;q.some(function(e){return!!~n.indexOf(e)})&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),K=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var a=r[n];Object.defineProperty(e,a,{value:t[a],enumerable:!1,writable:!1,configurable:!0})}return e},X=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||H},Z=re(0,0,0,0);function J(e){return parseFloat(e)||0}function ee(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce(function(t,n){return t+J(e["border-"+n+"-width"])},0)}var te="undefined"!=typeof SVGGraphicsElement?function(e){return e instanceof X(e).SVGGraphicsElement}:function(e){return e instanceof X(e).SVGElement&&"function"==typeof e.getBBox};function ne(e){return W?te(e)?function(e){var t=e.getBBox();return re(0,0,t.width,t.height)}(e):function(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return Z;var r=X(e).getComputedStyle(e),a=function(e){for(var t={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var a=r[n],o=e["padding-"+a];t[a]=J(o)}return t}(r),o=a.left+a.right,i=a.top+a.bottom,s=J(r.width),l=J(r.height);if("border-box"===r.boxSizing&&(Math.round(s+o)!==t&&(s-=ee(r,"left","right")+o),Math.round(l+i)!==n&&(l-=ee(r,"top","bottom")+i)),!function(e){return e===X(e).document.documentElement}(e)){var c=Math.round(s+o)-t,u=Math.round(l+i)-n;1!==Math.abs(c)&&(s-=c),1!==Math.abs(u)&&(l-=u)}return re(a.left,a.top,s,l)}(e):Z}function re(e,t,n,r){return{x:e,y:t,width:n,height:r}}var ae=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=re(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=ne(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),oe=function(e,t){var n,r,a,o,i,s,l,c=(r=(n=t).x,a=n.y,o=n.width,i=n.height,s="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,l=Object.create(s.prototype),K(l,{x:r,y:a,width:o,height:i,top:a,right:r+o,bottom:i+a,left:r}),l);K(this,{target:e,contentRect:c})},ie=function(){function e(e,t,n){if(this.activeObservations_=[],this.observations_=new z,"function"!=typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof X(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new ae(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof X(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(t){t.isActive()&&e.activeObservations_.push(t)})},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map(function(e){return new oe(e.target,e.broadcastRect())});this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),se="undefined"!=typeof WeakMap?new WeakMap:new z,le=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=Y.getInstance(),r=new ie(t,n,this);se.set(this,r)};["observe","unobserve","disconnect"].forEach(function(e){le.prototype[e]=function(){var t;return(t=se.get(this))[e].apply(t,arguments)}});const ce=void 0!==H.ResizeObserver?H.ResizeObserver:le;var ue=new Map,de=new ce(function(e){e.forEach(function(e){var t,n=e.target;null===(t=ue.get(n))||void 0===t||t.forEach(function(e){return e(n)})})});function pe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var fe=n(2162);function he(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(0,fe.A)(r.key),r)}}function me(e,t,n){return t&&he(e.prototype,t),n&&he(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function ge(e,t){return ge=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ge(e,t)}function be(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ge(e,t)}function ve(e){return ve=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ve(e)}function ye(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(ye=function(){return!!e})()}function we(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ee(e){var t=ye();return function(){var n,r=ve(e);if(t){var a=ve(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"==(0,V.A)(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return we(e)}(this,n)}}var Se=function(e){be(n,e);var t=Ee(n);function n(){return pe(this,n),t.apply(this,arguments)}return me(n,[{key:"render",value:function(){return this.props.children}}]),n}(o.Component);function Oe(e,t){var n=e.children,r=e.disabled,a=o.useRef(null),i=o.useRef(null),s=o.useContext(U),l="function"==typeof n,u=l?n(a):n,d=o.useRef({width:-1,height:-1,offsetWidth:-1,offsetHeight:-1}),p=!l&&o.isValidElement(u)&&(0,m.f3)(u),f=p?(0,m.A9)(u):null,h=(0,m.xK)(f,a),g=function(){var e;return $(a.current)||(a.current&&"object"===(0,V.A)(a.current)?$(null===(e=a.current)||void 0===e?void 0:e.nativeElement):null)||$(i.current)};o.useImperativeHandle(t,function(){return g()});var b=o.useRef(e);b.current=e;var v=o.useCallback(function(e){var t=b.current,n=t.onResize,r=t.data,a=e.getBoundingClientRect(),o=a.width,i=a.height,l=e.offsetWidth,u=e.offsetHeight,p=Math.floor(o),f=Math.floor(i);if(d.current.width!==p||d.current.height!==f||d.current.offsetWidth!==l||d.current.offsetHeight!==u){var h={width:p,height:f,offsetWidth:l,offsetHeight:u};d.current=h;var m=l===Math.round(o)?o:l,g=u===Math.round(i)?i:u,v=(0,c.A)((0,c.A)({},h),{},{offsetWidth:m,offsetHeight:g});null==s||s(v,e,r),n&&Promise.resolve().then(function(){n(v,e)})}},[]);return o.useEffect(function(){var e,t,n=g();return n&&!r&&(e=n,t=v,ue.has(e)||(ue.set(e,new Set),de.observe(e)),ue.get(e).add(t)),function(){return function(e,t){ue.has(e)&&(ue.get(e).delete(t),ue.get(e).size||(de.unobserve(e),ue.delete(e)))}(n,v)}},[a.current,r]),o.createElement(Se,{ref:i},p?o.cloneElement(u,{ref:h}):u)}const Ce=o.forwardRef(Oe);function Ae(e,t){var n=e.children;return("function"==typeof n?[n]:N(n)).map(function(n,r){var a=(null==n?void 0:n.key)||"".concat("rc-observer-key","-").concat(r);return o.createElement(Ce,(0,l.A)({},e,{key:a,ref:0===r?t:void 0}),n)})}var xe=o.forwardRef(Ae);xe.Collection=function(e){var t=e.children,n=e.onBatchResize,r=o.useRef(0),a=o.useRef([]),i=o.useContext(U),s=o.useCallback(function(e,t,o){r.current+=1;var s=r.current;a.current.push({size:e,element:t,data:o}),Promise.resolve().then(function(){s===r.current&&(null==n||n(a.current),a.current=[])}),null==i||i(e,t,o)},[n,i]);return o.createElement(U.Provider,{value:s},t)};const De=xe;function Pe(e){var t;return null==e||null===(t=e.getRootNode)||void 0===t?void 0:t.call(e)}function Ie(e){return function(e){return Pe(e)instanceof ShadowRoot}(e)?Pe(e):null}var Re=n(8728),Te=0,ke=(0,c.A)({},o).useId;const _e=ke?function(e){var t=ke();return e||t}:function(e){var t=o.useState("ssr-id"),n=(0,d.A)(t,2),r=n[0],a=n[1];return o.useEffect(function(){var e=Te;Te+=1,a("rc_unique_".concat(e))},[]),e||r};var Le=n(1705),Me=o.createContext({}),Be=function(e){be(n,e);var t=Ee(n);function n(){return pe(this,n),t.apply(this,arguments)}return me(n,[{key:"render",value:function(){return this.props.children}}]),n}(o.Component);const je=Be;var Ne=n(291),Ve=n(1773),Fe="none",$e="appear",Ue="enter",ze="leave",We="none",He="prepare",Ge="start",qe="active",Qe="end",Ye="prepared";function Ke(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit".concat(e)]="webkit".concat(t),n["Moz".concat(e)]="moz".concat(t),n["ms".concat(e)]="MS".concat(t),n["O".concat(e)]="o".concat(t.toLowerCase()),n}var Xe,Ze,Je,et=(Xe=(0,h.A)(),Ze="undefined"!=typeof window?window:{},Je={animationend:Ke("Animation","AnimationEnd"),transitionend:Ke("Transition","TransitionEnd")},Xe&&("AnimationEvent"in Ze||delete Je.animationend.animation,"TransitionEvent"in Ze||delete Je.transitionend.transition),Je),tt={};if((0,h.A)()){var nt=document.createElement("div");tt=nt.style}var rt={};function at(e){if(rt[e])return rt[e];var t=et[e];if(t)for(var n=Object.keys(t),r=n.length,a=0;a<r;a+=1){var o=n[a];if(Object.prototype.hasOwnProperty.call(t,o)&&o in tt)return rt[e]=t[o],rt[e]}return""}var ot=at("animationend"),it=at("transitionend"),st=!(!ot||!it),lt=ot||"animationend",ct=it||"transitionend";function ut(e,t){return e?"object"===(0,V.A)(e)?e[t.replace(/-\w/g,function(e){return e[1].toUpperCase()})]:"".concat(e,"-").concat(t):null}const dt=(0,h.A)()?o.useLayoutEffect:o.useEffect;var pt=function(e){return+setTimeout(e,16)},ft=function(e){return clearTimeout(e)};"undefined"!=typeof window&&"requestAnimationFrame"in window&&(pt=function(e){return window.requestAnimationFrame(e)},ft=function(e){return window.cancelAnimationFrame(e)});var ht=0,mt=new Map;function gt(e){mt.delete(e)}var bt=function(e){var t=ht+=1;return function n(r){if(0===r)gt(t),e();else{var a=pt(function(){n(r-1)});mt.set(t,a)}}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1),t};bt.cancel=function(e){var t=mt.get(e);return gt(e),ft(t)};const vt=bt;var yt=[He,Ge,qe,Qe],wt=[He,Ye],Et=!1;function St(e){return e===qe||e===Qe}function Ot(e,t,n,r){var a,i,s,l,u=r.motionEnter,p=void 0===u||u,f=r.motionAppear,h=void 0===f||f,m=r.motionLeave,g=void 0===m||m,b=r.motionDeadline,v=r.motionLeaveImmediately,y=r.onAppearPrepare,w=r.onEnterPrepare,E=r.onLeavePrepare,S=r.onAppearStart,O=r.onEnterStart,C=r.onLeaveStart,A=r.onAppearActive,x=r.onEnterActive,D=r.onLeaveActive,P=r.onAppearEnd,I=r.onEnterEnd,R=r.onLeaveEnd,T=r.onVisibleChanged,k=(0,Ve.A)(),_=(0,d.A)(k,2),L=_[0],M=_[1],B=(a=Fe,i=o.useReducer(function(e){return e+1},0),s=(0,d.A)(i,2)[1],l=o.useRef(a),[(0,Re.A)(function(){return l.current}),(0,Re.A)(function(e){l.current="function"==typeof e?e(l.current):e,s()})]),j=(0,d.A)(B,2),N=j[0],V=j[1],F=(0,Ve.A)(null),$=(0,d.A)(F,2),U=$[0],z=$[1],W=N(),H=(0,o.useRef)(!1),G=(0,o.useRef)(null);function q(){return n()}var Q=(0,o.useRef)(!1);function Y(){V(Fe),z(null,!0)}var K=(0,Ne._q)(function(e){var t=N();if(t!==Fe){var n=q();if(!e||e.deadline||e.target===n){var r,a=Q.current;t===$e&&a?r=null==P?void 0:P(n,e):t===Ue&&a?r=null==I?void 0:I(n,e):t===ze&&a&&(r=null==R?void 0:R(n,e)),a&&!1!==r&&Y()}}}),X=function(e){var t=(0,o.useRef)();function n(t){t&&(t.removeEventListener(ct,e),t.removeEventListener(lt,e))}return o.useEffect(function(){return function(){n(t.current)}},[]),[function(r){t.current&&t.current!==r&&n(t.current),r&&r!==t.current&&(r.addEventListener(ct,e),r.addEventListener(lt,e),t.current=r)},n]}(K),Z=(0,d.A)(X,1)[0],J=function(e){switch(e){case $e:return(0,Le.A)((0,Le.A)((0,Le.A)({},He,y),Ge,S),qe,A);case Ue:return(0,Le.A)((0,Le.A)((0,Le.A)({},He,w),Ge,O),qe,x);case ze:return(0,Le.A)((0,Le.A)((0,Le.A)({},He,E),Ge,C),qe,D);default:return{}}},ee=o.useMemo(function(){return J(W)},[W]),te=function(e,t,n){var r=(0,Ve.A)(We),a=(0,d.A)(r,2),i=a[0],s=a[1],l=function(){var e=o.useRef(null);function t(){vt.cancel(e.current)}return o.useEffect(function(){return function(){t()}},[]),[function n(r){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;t();var o=vt(function(){a<=1?r({isCanceled:function(){return o!==e.current}}):n(r,a-1)});e.current=o},t]}(),c=(0,d.A)(l,2),u=c[0],p=c[1],f=t?wt:yt;return dt(function(){if(i!==We&&i!==Qe){var e=f.indexOf(i),t=f[e+1],r=n(i);r===Et?s(t,!0):t&&u(function(e){function n(){e.isCanceled()||s(t,!0)}!0===r?n():Promise.resolve(r).then(n)})}},[e,i]),o.useEffect(function(){return function(){p()}},[]),[function(){s(He,!0)},i]}(W,!e,function(e){if(e===He){var t=ee[He];return t?t(q()):Et}var n;return ae in ee&&z((null===(n=ee[ae])||void 0===n?void 0:n.call(ee,q(),null))||null),ae===qe&&W!==Fe&&(Z(q()),b>0&&(clearTimeout(G.current),G.current=setTimeout(function(){K({deadline:!0})},b))),ae===Ye&&Y(),!0}),ne=(0,d.A)(te,2),re=ne[0],ae=ne[1],oe=St(ae);Q.current=oe;var ie=(0,o.useRef)(null);dt(function(){if(!H.current||ie.current!==t){M(t);var n,r=H.current;H.current=!0,!r&&t&&h&&(n=$e),r&&t&&p&&(n=Ue),(r&&!t&&g||!r&&v&&!t&&g)&&(n=ze);var a=J(n);n&&(e||a[He])?(V(n),re()):V(Fe),ie.current=t}},[t]),(0,o.useEffect)(function(){(W===$e&&!h||W===Ue&&!p||W===ze&&!g)&&V(Fe)},[h,p,g]),(0,o.useEffect)(function(){return function(){H.current=!1,clearTimeout(G.current)}},[]);var se=o.useRef(!1);(0,o.useEffect)(function(){L&&(se.current=!0),void 0!==L&&W===Fe&&((se.current||L)&&(null==T||T(L)),se.current=!0)},[L,W]);var le=U;return ee[He]&&ae===Ge&&(le=(0,c.A)({transition:"none"},le)),[W,ae,le,null!=L?L:t]}const Ct=function(e){var t=e;"object"===(0,V.A)(e)&&(t=e.transitionSupport);var n=o.forwardRef(function(e,n){var r=e.visible,i=void 0===r||r,s=e.removeOnLeave,l=void 0===s||s,u=e.forceRender,p=e.children,f=e.motionName,h=e.leavedClassName,g=e.eventProps,b=function(e,n){return!(!e.motionName||!t||!1===n)}(e,o.useContext(Me).motion),v=(0,o.useRef)(),y=(0,o.useRef)(),w=Ot(b,i,function(){try{return v.current instanceof HTMLElement?v.current:$(y.current)}catch(e){return null}},e),E=(0,d.A)(w,4),S=E[0],O=E[1],C=E[2],A=E[3],x=o.useRef(A);A&&(x.current=!0);var D,P=o.useCallback(function(e){v.current=e,(0,m.Xf)(n,e)},[n]),I=(0,c.A)((0,c.A)({},g),{},{visible:i});if(p)if(S===Fe)D=A?p((0,c.A)({},I),P):!l&&x.current&&h?p((0,c.A)((0,c.A)({},I),{},{className:h}),P):u||!l&&!h?p((0,c.A)((0,c.A)({},I),{},{style:{display:"none"}}),P):null;else{var R;O===He?R="prepare":St(O)?R="active":O===Ge&&(R="start");var T=ut(f,"".concat(S,"-").concat(R));D=p((0,c.A)((0,c.A)({},I),{},{className:a()(ut(f,S),(0,Le.A)((0,Le.A)({},T,T&&R),f,"string"==typeof f)),style:C}),P)}else D=null;return o.isValidElement(D)&&(0,m.f3)(D)&&((0,m.A9)(D)||(D=o.cloneElement(D,{ref:P}))),o.createElement(je,{ref:y},D)});return n.displayName="CSSMotion",n}(st);var At="add",xt="keep",Dt="remove",Pt="removed";function It(e){var t;return t=e&&"object"===(0,V.A)(e)&&"key"in e?e:{key:e},(0,c.A)((0,c.A)({},t),{},{key:String(t.key)})}function Rt(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map(It)}var Tt=["component","children","onVisibleChanged","onAllRemoved"],kt=["status"],_t=["eventProps","visible","children","motionName","motionAppear","motionEnter","motionLeave","motionLeaveImmediately","motionDeadline","removeOnLeave","leavedClassName","onAppearPrepare","onAppearStart","onAppearActive","onAppearEnd","onEnterStart","onEnterActive","onEnterEnd","onLeaveStart","onLeaveActive","onLeaveEnd"];!function(){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ct,t=function(t){be(r,t);var n=Ee(r);function r(){var e;pe(this,r);for(var t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];return e=n.call.apply(n,[this].concat(a)),(0,Le.A)(we(e),"state",{keyEntities:[]}),(0,Le.A)(we(e),"removeKey",function(t){e.setState(function(e){return{keyEntities:e.keyEntities.map(function(e){return e.key!==t?e:(0,c.A)((0,c.A)({},e),{},{status:Pt})})}},function(){0===e.state.keyEntities.filter(function(e){return e.status!==Pt}).length&&e.props.onAllRemoved&&e.props.onAllRemoved()})}),e}return me(r,[{key:"render",value:function(){var t=this,n=this.state.keyEntities,r=this.props,a=r.component,i=r.children,s=r.onVisibleChanged,d=(r.onAllRemoved,(0,u.A)(r,Tt)),p=a||o.Fragment,f={};return _t.forEach(function(e){f[e]=d[e],delete d[e]}),delete d.keys,o.createElement(p,d,n.map(function(n,r){var a=n.status,d=(0,u.A)(n,kt),p=a===At||a===xt;return o.createElement(e,(0,l.A)({},f,{key:d.key,visible:p,eventProps:d,onVisibleChanged:function(e){null==s||s(e,{key:d.key}),e||t.removeKey(d.key)}}),function(e,t){return i((0,c.A)((0,c.A)({},e),{},{index:r}),t)})}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.keys,r=t.keyEntities,a=Rt(n),o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[],r=0,a=t.length,o=Rt(e),i=Rt(t);o.forEach(function(e){for(var t=!1,o=r;o<a;o+=1){var s=i[o];if(s.key===e.key){r<o&&(n=n.concat(i.slice(r,o).map(function(e){return(0,c.A)((0,c.A)({},e),{},{status:At})})),r=o),n.push((0,c.A)((0,c.A)({},s),{},{status:xt})),r+=1,t=!0;break}}t||n.push((0,c.A)((0,c.A)({},e),{},{status:Dt}))}),r<a&&(n=n.concat(i.slice(r).map(function(e){return(0,c.A)((0,c.A)({},e),{},{status:At})})));var s={};return n.forEach(function(e){var t=e.key;s[t]=(s[t]||0)+1}),Object.keys(s).filter(function(e){return s[e]>1}).forEach(function(e){(n=n.filter(function(t){var n=t.key,r=t.status;return n!==e||r!==Dt})).forEach(function(t){t.key===e&&(t.status=xt)})}),n}(r,a);return{keyEntities:o.filter(function(e){var t=r.find(function(t){var n=t.key;return e.key===n});return!t||t.status!==Pt||e.status!==Dt})}}}]),r}(o.Component);(0,Le.A)(t,"defaultProps",{component:"div"})}(st);const Lt=Ct;function Mt(e){var t=e.prefixCls,n=e.align,r=e.arrow,i=e.arrowPos,s=r||{},l=s.className,c=s.content,u=i.x,d=void 0===u?0:u,p=i.y,f=void 0===p?0:p,h=o.useRef();if(!n||!n.points)return null;var m={position:"absolute"};if(!1!==n.autoArrow){var g=n.points[0],b=n.points[1],v=g[0],y=g[1],w=b[0],E=b[1];v!==w&&["t","b"].includes(v)?"t"===v?m.top=0:m.bottom=0:m.top=f,y!==E&&["l","r"].includes(y)?"l"===y?m.left=0:m.right=0:m.left=d}return o.createElement("div",{ref:h,className:a()("".concat(t,"-arrow"),l),style:m},c)}function Bt(e){var t=e.prefixCls,n=e.open,r=e.zIndex,i=e.mask,s=e.motion;return i?o.createElement(Lt,(0,l.A)({},s,{motionAppear:!0,visible:n,removeOnLeave:!0}),function(e){var n=e.className;return o.createElement("div",{style:{zIndex:r},className:a()("".concat(t,"-mask"),n)})}):null}const jt=o.memo(function(e){return e.children},function(e,t){return t.cache});var Nt=o.forwardRef(function(e,t){var n=e.popup,r=e.className,i=e.prefixCls,s=e.style,u=e.target,p=e.onVisibleChanged,f=e.open,h=e.keepDom,g=e.fresh,b=e.onClick,y=e.mask,w=e.arrow,E=e.arrowPos,S=e.align,O=e.motion,C=e.maskMotion,A=e.forceRender,x=e.getPopupContainer,D=e.autoDestroy,P=e.portal,I=e.zIndex,R=e.onMouseEnter,T=e.onMouseLeave,k=e.onPointerEnter,_=e.onPointerDownCapture,L=e.ready,M=e.offsetX,B=e.offsetY,j=e.offsetR,N=e.offsetB,V=e.onAlign,F=e.onPrepare,$=e.stretch,U=e.targetWidth,z=e.targetHeight,W="function"==typeof n?n():n,H=f||h,G=(null==x?void 0:x.length)>0,q=o.useState(!x||!G),Q=(0,d.A)(q,2),Y=Q[0],K=Q[1];if((0,v.A)(function(){!Y&&G&&u&&K(!0)},[Y,G,u]),!Y)return null;var X="auto",Z={left:"-1000vw",top:"-1000vh",right:X,bottom:X};if(L||!f){var J,ee=S.points,te=S.dynamicInset||(null===(J=S._experimental)||void 0===J?void 0:J.dynamicInset),ne=te&&"r"===ee[0][1],re=te&&"b"===ee[0][0];ne?(Z.right=j,Z.left=X):(Z.left=M,Z.right=X),re?(Z.bottom=N,Z.top=X):(Z.top=B,Z.bottom=X)}var ae={};return $&&($.includes("height")&&z?ae.height=z:$.includes("minHeight")&&z&&(ae.minHeight=z),$.includes("width")&&U?ae.width=U:$.includes("minWidth")&&U&&(ae.minWidth=U)),f||(ae.pointerEvents="none"),o.createElement(P,{open:A||H,getContainer:x&&function(){return x(u)},autoDestroy:D},o.createElement(Bt,{prefixCls:i,open:f,zIndex:I,mask:y,motion:C}),o.createElement(De,{onResize:V,disabled:!f},function(e){return o.createElement(Lt,(0,l.A)({motionAppear:!0,motionEnter:!0,motionLeave:!0,removeOnLeave:!1,forceRender:A,leavedClassName:"".concat(i,"-hidden")},O,{onAppearPrepare:F,onEnterPrepare:F,visible:f,onVisibleChanged:function(e){var t;null==O||null===(t=O.onVisibleChanged)||void 0===t||t.call(O,e),p(e)}}),function(n,l){var u=n.className,d=n.style,p=a()(i,u,r);return o.createElement("div",{ref:(0,m.K4)(e,t,l),className:p,style:(0,c.A)((0,c.A)((0,c.A)((0,c.A)({"--arrow-x":"".concat(E.x||0,"px"),"--arrow-y":"".concat(E.y||0,"px")},Z),ae),d),{},{boxSizing:"border-box",zIndex:I},s),onMouseEnter:R,onMouseLeave:T,onPointerEnter:k,onClick:b,onPointerDownCapture:_},w&&o.createElement(Mt,{prefixCls:i,arrow:w,arrowPos:E,align:S}),o.createElement(jt,{cache:!f&&!g},W))})}))});const Vt=Nt,Ft=o.forwardRef(function(e,t){var n=e.children,r=e.getTriggerDOMNode,a=(0,m.f3)(n),i=o.useCallback(function(e){(0,m.Xf)(t,r?r(e):e)},[r]),s=(0,m.xK)(i,(0,m.A9)(n));return a?o.cloneElement(n,{ref:s}):n}),$t=o.createContext(null);function Ut(e){return e?Array.isArray(e)?e:[e]:[]}function zt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return(arguments.length>2?arguments[2]:void 0)?e[0]===t[0]:e[0]===t[0]&&e[1]===t[1]}function Wt(e,t,n,r){return t||(n?{motionName:"".concat(e,"-").concat(n)}:r?{motionName:r}:null)}function Ht(e){return e.ownerDocument.defaultView}function Gt(e){for(var t=[],n=null==e?void 0:e.parentElement,r=["hidden","scroll","clip","auto"];n;){var a=Ht(n).getComputedStyle(n);[a.overflowX,a.overflowY,a.overflow].some(function(e){return r.includes(e)})&&t.push(n),n=n.parentElement}return t}function qt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return Number.isNaN(e)?t:e}function Qt(e){return qt(parseFloat(e),0)}function Yt(e,t){var n=(0,c.A)({},e);return(t||[]).forEach(function(e){if(!(e instanceof HTMLBodyElement||e instanceof HTMLHtmlElement)){var t=Ht(e).getComputedStyle(e),r=t.overflow,a=t.overflowClipMargin,o=t.borderTopWidth,i=t.borderBottomWidth,s=t.borderLeftWidth,l=t.borderRightWidth,c=e.getBoundingClientRect(),u=e.offsetHeight,d=e.clientHeight,p=e.offsetWidth,f=e.clientWidth,h=Qt(o),m=Qt(i),g=Qt(s),b=Qt(l),v=qt(Math.round(c.width/p*1e3)/1e3),y=qt(Math.round(c.height/u*1e3)/1e3),w=(p-f-g-b)*v,E=(u-d-h-m)*y,S=h*y,O=m*y,C=g*v,A=b*v,x=0,D=0;if("clip"===r){var P=Qt(a);x=P*v,D=P*y}var I=c.x+C-x,R=c.y+S-D,T=I+c.width+2*x-C-A-w,k=R+c.height+2*D-S-O-E;n.left=Math.max(n.left,I),n.top=Math.max(n.top,R),n.right=Math.min(n.right,T),n.bottom=Math.min(n.bottom,k)}}),n}function Kt(e){var t="".concat(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0),n=t.match(/^(.*)\%$/);return n?e*(parseFloat(n[1])/100):parseFloat(t)}function Xt(e,t){var n=t||[],r=(0,d.A)(n,2),a=r[0],o=r[1];return[Kt(e.width,a),Kt(e.height,o)]}function Zt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return[e[0],e[1]]}function Jt(e,t){var n,r=t[0],a=t[1];return n="t"===r?e.y:"b"===r?e.y+e.height:e.y+e.height/2,{x:"l"===a?e.x:"r"===a?e.x+e.width:e.x+e.width/2,y:n}}function en(e,t){var n={t:"b",b:"t",l:"r",r:"l"};return e.map(function(e,r){return r===t?n[e]||"c":e}).join("")}var tn=["prefixCls","children","action","showAction","hideAction","popupVisible","defaultPopupVisible","onPopupVisibleChange","afterPopupVisibleChange","mouseEnterDelay","mouseLeaveDelay","focusDelay","blurDelay","mask","maskClosable","getPopupContainer","forceRender","autoDestroy","destroyPopupOnHide","popup","popupClassName","popupStyle","popupPlacement","builtinPlacements","popupAlign","zIndex","stretch","getPopupClassNameFromAlign","fresh","alignPoint","onPopupClick","onPopupAlign","arrow","popupMotion","maskMotion","popupTransitionName","popupAnimation","maskTransitionName","maskAnimation","className","getTriggerDOMNode"];const nn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,t=o.forwardRef(function(t,n){var r=t.prefixCls,i=void 0===r?"rc-trigger-popup":r,s=t.children,l=t.action,p=void 0===l?"hover":l,f=t.showAction,h=t.hideAction,m=t.popupVisible,g=t.defaultPopupVisible,y=t.onPopupVisibleChange,w=t.afterPopupVisibleChange,E=t.mouseEnterDelay,S=t.mouseLeaveDelay,O=void 0===S?.1:S,C=t.focusDelay,A=t.blurDelay,x=t.mask,D=t.maskClosable,P=void 0===D||D,I=t.getPopupContainer,R=t.forceRender,T=t.autoDestroy,k=t.destroyPopupOnHide,_=t.popup,L=t.popupClassName,M=t.popupStyle,B=t.popupPlacement,j=t.builtinPlacements,N=void 0===j?{}:j,V=t.popupAlign,$=t.zIndex,U=t.stretch,z=t.getPopupClassNameFromAlign,W=t.fresh,H=t.alignPoint,G=t.onPopupClick,q=t.onPopupAlign,Q=t.arrow,Y=t.popupMotion,K=t.maskMotion,X=t.popupTransitionName,Z=t.popupAnimation,J=t.maskTransitionName,ee=t.maskAnimation,te=t.className,ne=t.getTriggerDOMNode,re=(0,u.A)(t,tn),ae=T||k||!1,oe=o.useState(!1),ie=(0,d.A)(oe,2),se=ie[0],le=ie[1];(0,v.A)(function(){le(function(){if("undefined"==typeof navigator||"undefined"==typeof window)return!1;var e=navigator.userAgent||navigator.vendor||window.opera;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(null==e?void 0:e.substr(0,4))}())},[]);var ce=o.useRef({}),ue=o.useContext($t),de=o.useMemo(function(){return{registerSubPopup:function(e,t){ce.current[e]=t,null==ue||ue.registerSubPopup(e,t)}}},[ue]),pe=_e(),fe=o.useState(null),he=(0,d.A)(fe,2),me=he[0],ge=he[1],be=o.useRef(null),ve=(0,Re.A)(function(e){be.current=e,F(e)&&me!==e&&ge(e),null==ue||ue.registerSubPopup(pe,e)}),ye=o.useState(null),we=(0,d.A)(ye,2),Ee=we[0],Se=we[1],Oe=o.useRef(null),Ce=(0,Re.A)(function(e){F(e)&&Ee!==e&&(Se(e),Oe.current=e)}),Ae=o.Children.only(s),xe=(null==Ae?void 0:Ae.props)||{},Pe={},Te=(0,Re.A)(function(e){var t,n,r=Ee;return(null==r?void 0:r.contains(e))||(null===(t=Ie(r))||void 0===t?void 0:t.host)===e||e===r||(null==me?void 0:me.contains(e))||(null===(n=Ie(me))||void 0===n?void 0:n.host)===e||e===me||Object.values(ce.current).some(function(t){return(null==t?void 0:t.contains(e))||e===t})}),ke=Wt(i,Y,Z,X),Le=Wt(i,K,ee,J),Me=o.useState(g||!1),Be=(0,d.A)(Me,2),je=Be[0],Ne=Be[1],Ve=null!=m?m:je,Fe=(0,Re.A)(function(e){void 0===m&&Ne(e)});(0,v.A)(function(){Ne(m||!1)},[m]);var $e=o.useRef(Ve);$e.current=Ve;var Ue=o.useRef([]);Ue.current=[];var ze=(0,Re.A)(function(e){var t;Fe(e),(null!==(t=Ue.current[Ue.current.length-1])&&void 0!==t?t:Ve)!==e&&(Ue.current.push(e),null==y||y(e))}),We=o.useRef(),He=function(){clearTimeout(We.current)},Ge=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;He(),0===t?ze(e):We.current=setTimeout(function(){ze(e)},1e3*t)};o.useEffect(function(){return He},[]);var qe=o.useState(!1),Qe=(0,d.A)(qe,2),Ye=Qe[0],Ke=Qe[1];(0,v.A)(function(e){e&&!Ve||Ke(!0)},[Ve]);var Xe=o.useState(null),Ze=(0,d.A)(Xe,2),Je=Ze[0],et=Ze[1],tt=o.useState(null),nt=(0,d.A)(tt,2),rt=nt[0],at=nt[1],ot=function(e){at([e.clientX,e.clientY])},it=function(e,t,n,r,a,i,s){var l=o.useState({ready:!1,offsetX:0,offsetY:0,offsetR:0,offsetB:0,arrowX:0,arrowY:0,scaleX:1,scaleY:1,align:a[r]||{}}),u=(0,d.A)(l,2),p=u[0],f=u[1],h=o.useRef(0),m=o.useMemo(function(){return t?Gt(t):[]},[t]),g=o.useRef({});e||(g.current={});var b=(0,Re.A)(function(){if(t&&n&&e){var o,l,u,p,h,b=t,v=b.ownerDocument,y=Ht(b),w=y.getComputedStyle(b).position,E=b.style.left,S=b.style.top,O=b.style.right,C=b.style.bottom,A=b.style.overflow,x=(0,c.A)((0,c.A)({},a[r]),i),D=v.createElement("div");if(null===(o=b.parentElement)||void 0===o||o.appendChild(D),D.style.left="".concat(b.offsetLeft,"px"),D.style.top="".concat(b.offsetTop,"px"),D.style.position=w,D.style.height="".concat(b.offsetHeight,"px"),D.style.width="".concat(b.offsetWidth,"px"),b.style.left="0",b.style.top="0",b.style.right="auto",b.style.bottom="auto",b.style.overflow="hidden",Array.isArray(n))h={x:n[0],y:n[1],width:0,height:0};else{var P,I,R=n.getBoundingClientRect();R.x=null!==(P=R.x)&&void 0!==P?P:R.left,R.y=null!==(I=R.y)&&void 0!==I?I:R.top,h={x:R.x,y:R.y,width:R.width,height:R.height}}var T=b.getBoundingClientRect(),k=y.getComputedStyle(b),_=k.height,L=k.width;T.x=null!==(l=T.x)&&void 0!==l?l:T.left,T.y=null!==(u=T.y)&&void 0!==u?u:T.top;var M=v.documentElement,B=M.clientWidth,j=M.clientHeight,N=M.scrollWidth,V=M.scrollHeight,$=M.scrollTop,U=M.scrollLeft,z=T.height,W=T.width,H=h.height,G=h.width,q={left:0,top:0,right:B,bottom:j},Q={left:-U,top:-$,right:N-U,bottom:V-$},Y=x.htmlRegion,K="visible",X="visibleFirst";"scroll"!==Y&&Y!==X&&(Y=K);var Z=Y===X,J=Yt(Q,m),ee=Yt(q,m),te=Y===K?ee:J,ne=Z?ee:te;b.style.left="auto",b.style.top="auto",b.style.right="0",b.style.bottom="0";var re=b.getBoundingClientRect();b.style.left=E,b.style.top=S,b.style.right=O,b.style.bottom=C,b.style.overflow=A,null===(p=b.parentElement)||void 0===p||p.removeChild(D);var ae=qt(Math.round(W/parseFloat(L)*1e3)/1e3),oe=qt(Math.round(z/parseFloat(_)*1e3)/1e3);if(0===ae||0===oe||F(n)&&!function(e){if(!e)return!1;if(e instanceof Element){if(e.offsetParent)return!0;if(e.getBBox){var t=e.getBBox(),n=t.width,r=t.height;if(n||r)return!0}if(e.getBoundingClientRect){var a=e.getBoundingClientRect(),o=a.width,i=a.height;if(o||i)return!0}}return!1}(n))return;var ie=x.offset,se=x.targetOffset,le=Xt(T,ie),ce=(0,d.A)(le,2),ue=ce[0],de=ce[1],pe=Xt(h,se),fe=(0,d.A)(pe,2),he=fe[0],me=fe[1];h.x-=he,h.y-=me;var ge=x.points||[],be=(0,d.A)(ge,2),ve=be[0],ye=Zt(be[1]),we=Zt(ve),Ee=Jt(h,ye),Se=Jt(T,we),Oe=(0,c.A)({},x),Ce=Ee.x-Se.x+ue,Ae=Ee.y-Se.y+de;function vt(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:te,r=T.x+e,a=T.y+t,o=r+W,i=a+z,s=Math.max(r,n.left),l=Math.max(a,n.top),c=Math.min(o,n.right),u=Math.min(i,n.bottom);return Math.max(0,(c-s)*(u-l))}var xe,De,Pe,Ie,Re=vt(Ce,Ae),Te=vt(Ce,Ae,ee),ke=Jt(h,["t","l"]),_e=Jt(T,["t","l"]),Le=Jt(h,["b","r"]),Me=Jt(T,["b","r"]),Be=x.overflow||{},je=Be.adjustX,Ne=Be.adjustY,Ve=Be.shiftX,Fe=Be.shiftY,$e=function(e){return"boolean"==typeof e?e:e>=0};function yt(){xe=T.y+Ae,De=xe+z,Pe=T.x+Ce,Ie=Pe+W}yt();var Ue=$e(Ne),ze=we[0]===ye[0];if(Ue&&"t"===we[0]&&(De>ne.bottom||g.current.bt)){var We=Ae;ze?We-=z-H:We=ke.y-Me.y-de;var He=vt(Ce,We),Ge=vt(Ce,We,ee);He>Re||He===Re&&(!Z||Ge>=Te)?(g.current.bt=!0,Ae=We,de=-de,Oe.points=[en(we,0),en(ye,0)]):g.current.bt=!1}if(Ue&&"b"===we[0]&&(xe<ne.top||g.current.tb)){var qe=Ae;ze?qe+=z-H:qe=Le.y-_e.y-de;var Qe=vt(Ce,qe),Ye=vt(Ce,qe,ee);Qe>Re||Qe===Re&&(!Z||Ye>=Te)?(g.current.tb=!0,Ae=qe,de=-de,Oe.points=[en(we,0),en(ye,0)]):g.current.tb=!1}var Ke=$e(je),Xe=we[1]===ye[1];if(Ke&&"l"===we[1]&&(Ie>ne.right||g.current.rl)){var Ze=Ce;Xe?Ze-=W-G:Ze=ke.x-Me.x-ue;var Je=vt(Ze,Ae),et=vt(Ze,Ae,ee);Je>Re||Je===Re&&(!Z||et>=Te)?(g.current.rl=!0,Ce=Ze,ue=-ue,Oe.points=[en(we,1),en(ye,1)]):g.current.rl=!1}if(Ke&&"r"===we[1]&&(Pe<ne.left||g.current.lr)){var tt=Ce;Xe?tt+=W-G:tt=Le.x-_e.x-ue;var nt=vt(tt,Ae),rt=vt(tt,Ae,ee);nt>Re||nt===Re&&(!Z||rt>=Te)?(g.current.lr=!0,Ce=tt,ue=-ue,Oe.points=[en(we,1),en(ye,1)]):g.current.lr=!1}yt();var at=!0===Ve?0:Ve;"number"==typeof at&&(Pe<ee.left&&(Ce-=Pe-ee.left-ue,h.x+G<ee.left+at&&(Ce+=h.x-ee.left+G-at)),Ie>ee.right&&(Ce-=Ie-ee.right-ue,h.x>ee.right-at&&(Ce+=h.x-ee.right+at)));var ot=!0===Fe?0:Fe;"number"==typeof ot&&(xe<ee.top&&(Ae-=xe-ee.top-de,h.y+H<ee.top+ot&&(Ae+=h.y-ee.top+H-ot)),De>ee.bottom&&(Ae-=De-ee.bottom-de,h.y>ee.bottom-ot&&(Ae+=h.y-ee.bottom+ot)));var it=T.x+Ce,st=it+W,lt=T.y+Ae,ct=lt+z,ut=h.x,dt=ut+G,pt=h.y,ft=pt+H,ht=(Math.max(it,ut)+Math.min(st,dt))/2-it,mt=(Math.max(lt,pt)+Math.min(ct,ft))/2-lt;null==s||s(t,Oe);var gt=re.right-T.x-(Ce+T.width),bt=re.bottom-T.y-(Ae+T.height);1===ae&&(Ce=Math.round(Ce),gt=Math.round(gt)),1===oe&&(Ae=Math.round(Ae),bt=Math.round(bt)),f({ready:!0,offsetX:Ce/ae,offsetY:Ae/oe,offsetR:gt/ae,offsetB:bt/oe,arrowX:ht/ae,arrowY:mt/oe,scaleX:ae,scaleY:oe,align:Oe})}}),y=function(){f(function(e){return(0,c.A)((0,c.A)({},e),{},{ready:!1})})};return(0,v.A)(y,[r]),(0,v.A)(function(){e||y()},[e]),[p.ready,p.offsetX,p.offsetY,p.offsetR,p.offsetB,p.arrowX,p.arrowY,p.scaleX,p.scaleY,p.align,function(){h.current+=1;var e=h.current;Promise.resolve().then(function(){h.current===e&&b()})}]}(Ve,me,H&&null!==rt?rt:Ee,B,N,V,q),st=(0,d.A)(it,11),lt=st[0],ct=st[1],ut=st[2],dt=st[3],pt=st[4],ft=st[5],ht=st[6],mt=st[7],gt=st[8],bt=st[9],vt=st[10],yt=function(e,t,n,r){return o.useMemo(function(){var a=Ut(null!=n?n:t),o=Ut(null!=r?r:t),i=new Set(a),s=new Set(o);return e&&(i.has("hover")&&(i.delete("hover"),i.add("click")),s.has("hover")&&(s.delete("hover"),s.add("click"))),[i,s]},[e,t,n,r])}(se,p,f,h),wt=(0,d.A)(yt,2),Et=wt[0],St=wt[1],Ot=Et.has("click"),Ct=St.has("click")||St.has("contextMenu"),At=(0,Re.A)(function(){Ye||vt()});!function(e,t,n,r){(0,v.A)(function(){if(e&&t&&n){var a=n,o=Gt(t),i=Gt(a),s=Ht(a),l=new Set([s].concat((0,b.A)(o),(0,b.A)(i)));function c(){r(),$e.current&&H&&Ct&&Ge(!1)}return l.forEach(function(e){e.addEventListener("scroll",c,{passive:!0})}),s.addEventListener("resize",c,{passive:!0}),r(),function(){l.forEach(function(e){e.removeEventListener("scroll",c),s.removeEventListener("resize",c)})}}},[e,t,n])}(Ve,Ee,me,At),(0,v.A)(function(){At()},[rt,B]),(0,v.A)(function(){!Ve||null!=N&&N[B]||At()},[JSON.stringify(V)]);var xt=o.useMemo(function(){var e=function(e,t,n,r){for(var a=n.points,o=Object.keys(e),i=0;i<o.length;i+=1){var s,l=o[i];if(zt(null===(s=e[l])||void 0===s?void 0:s.points,a,r))return"".concat(t,"-placement-").concat(l)}return""}(N,i,bt,H);return a()(e,null==z?void 0:z(bt))},[bt,z,N,i,H]);o.useImperativeHandle(n,function(){return{nativeElement:Oe.current,popupElement:be.current,forceAlign:At}});var Dt=o.useState(0),Pt=(0,d.A)(Dt,2),It=Pt[0],Rt=Pt[1],Tt=o.useState(0),kt=(0,d.A)(Tt,2),_t=kt[0],Lt=kt[1],Mt=function(){if(U&&Ee){var e=Ee.getBoundingClientRect();Rt(e.width),Lt(e.height)}};function Bt(e,t,n,r){Pe[e]=function(a){var o;null==r||r(a),Ge(t,n);for(var i=arguments.length,s=new Array(i>1?i-1:0),l=1;l<i;l++)s[l-1]=arguments[l];null===(o=xe[e])||void 0===o||o.call.apply(o,[xe,a].concat(s))}}(0,v.A)(function(){Je&&(vt(),Je(),et(null))},[Je]),(Ot||Ct)&&(Pe.onClick=function(e){var t;$e.current&&Ct?Ge(!1):!$e.current&&Ot&&(ot(e),Ge(!0));for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];null===(t=xe.onClick)||void 0===t||t.call.apply(t,[xe,e].concat(r))});var jt,Nt,Qt=function(e,t,n,r,a,i,s,l){var c=o.useRef(e);c.current=e;var u=o.useRef(!1);return o.useEffect(function(){if(t&&r&&(!a||i)){var e=function(){u.current=!1},o=function(e){var t;!c.current||s((null===(t=e.composedPath)||void 0===t||null===(t=t.call(e))||void 0===t?void 0:t[0])||e.target)||u.current||l(!1)},d=Ht(r);d.addEventListener("pointerdown",e,!0),d.addEventListener("mousedown",o,!0),d.addEventListener("contextmenu",o,!0);var p=Ie(n);return p&&(p.addEventListener("mousedown",o,!0),p.addEventListener("contextmenu",o,!0)),function(){d.removeEventListener("pointerdown",e,!0),d.removeEventListener("mousedown",o,!0),d.removeEventListener("contextmenu",o,!0),p&&(p.removeEventListener("mousedown",o,!0),p.removeEventListener("contextmenu",o,!0))}}},[t,n,r,a,i]),function(){u.current=!0}}(Ve,Ct,Ee,me,x,P,Te,Ge),Kt=Et.has("hover"),nn=St.has("hover");Kt&&(Bt("onMouseEnter",!0,E,function(e){ot(e)}),Bt("onPointerEnter",!0,E,function(e){ot(e)}),jt=function(e){(Ve||Ye)&&null!=me&&me.contains(e.target)&&Ge(!0,E)},H&&(Pe.onMouseMove=function(e){var t;null===(t=xe.onMouseMove)||void 0===t||t.call(xe,e)})),nn&&(Bt("onMouseLeave",!1,O),Bt("onPointerLeave",!1,O),Nt=function(){Ge(!1,O)}),Et.has("focus")&&Bt("onFocus",!0,C),St.has("focus")&&Bt("onBlur",!1,A),Et.has("contextMenu")&&(Pe.onContextMenu=function(e){var t;$e.current&&St.has("contextMenu")?Ge(!1):(ot(e),Ge(!0)),e.preventDefault();for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];null===(t=xe.onContextMenu)||void 0===t||t.call.apply(t,[xe,e].concat(r))}),te&&(Pe.className=a()(xe.className,te));var rn=(0,c.A)((0,c.A)({},xe),Pe),an={};["onContextMenu","onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur"].forEach(function(e){re[e]&&(an[e]=function(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];null===(t=rn[e])||void 0===t||t.call.apply(t,[rn].concat(r)),re[e].apply(re,r)})});var on=o.cloneElement(Ae,(0,c.A)((0,c.A)({},rn),an)),sn={x:ft,y:ht},ln=Q?(0,c.A)({},!0!==Q?Q:{}):null;return o.createElement(o.Fragment,null,o.createElement(De,{disabled:!Ve,ref:Ce,onResize:function(){Mt(),At()}},o.createElement(Ft,{getTriggerDOMNode:ne},on)),o.createElement($t.Provider,{value:de},o.createElement(Vt,{portal:e,ref:ve,prefixCls:i,popup:_,className:a()(L,xt),style:M,target:Ee,onMouseEnter:jt,onMouseLeave:Nt,onPointerEnter:jt,zIndex:$,open:Ve,keepDom:Ye,fresh:W,onClick:G,onPointerDownCapture:Qt,mask:x,motion:ke,maskMotion:Le,onVisibleChanged:function(e){Ke(!1),vt(),null==w||w(e)},onPrepare:function(){return new Promise(function(e){Mt(),et(function(){return e})})},forceRender:R,autoDestroy:ae,getPopupContainer:I,align:bt,arrow:ln,arrowPos:sn,ready:lt,offsetX:ct,offsetY:ut,offsetR:dt,offsetB:pt,onAlign:At,stretch:U,targetWidth:It/mt,targetHeight:_t/gt})))});return t}(B);var rn={shiftX:64,adjustY:1},an={adjustX:1,shiftY:!0},on=[0,0],sn={left:{points:["cr","cl"],overflow:an,offset:[-4,0],targetOffset:on},right:{points:["cl","cr"],overflow:an,offset:[4,0],targetOffset:on},top:{points:["bc","tc"],overflow:rn,offset:[0,-4],targetOffset:on},bottom:{points:["tc","bc"],overflow:rn,offset:[0,4],targetOffset:on},topLeft:{points:["bl","tl"],overflow:rn,offset:[0,-4],targetOffset:on},leftTop:{points:["tr","tl"],overflow:an,offset:[-4,0],targetOffset:on},topRight:{points:["br","tr"],overflow:rn,offset:[0,-4],targetOffset:on},rightTop:{points:["tl","tr"],overflow:an,offset:[4,0],targetOffset:on},bottomRight:{points:["tr","br"],overflow:rn,offset:[0,4],targetOffset:on},rightBottom:{points:["bl","br"],overflow:an,offset:[4,0],targetOffset:on},bottomLeft:{points:["tl","bl"],overflow:rn,offset:[0,4],targetOffset:on},leftBottom:{points:["br","bl"],overflow:an,offset:[-4,0],targetOffset:on}},ln=["overlayClassName","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle","prefixCls","children","onVisibleChange","afterVisibleChange","transitionName","animation","motion","placement","align","destroyTooltipOnHide","defaultVisible","getTooltipContainer","overlayInnerStyle","arrowContent","overlay","id","showArrow","classNames","styles"],cn=function(e,t){var n=e.overlayClassName,r=e.trigger,i=void 0===r?["hover"]:r,d=e.mouseEnterDelay,p=void 0===d?0:d,f=e.mouseLeaveDelay,h=void 0===f?.1:f,m=e.overlayStyle,g=e.prefixCls,b=void 0===g?"rc-tooltip":g,v=e.children,y=e.onVisibleChange,w=e.afterVisibleChange,E=e.transitionName,S=e.animation,O=e.motion,C=e.placement,A=void 0===C?"right":C,x=e.align,D=void 0===x?{}:x,P=e.destroyTooltipOnHide,I=void 0!==P&&P,R=e.defaultVisible,T=e.getTooltipContainer,k=e.overlayInnerStyle,_=(e.arrowContent,e.overlay),L=e.id,M=e.showArrow,B=void 0===M||M,j=e.classNames,N=e.styles,V=(0,u.A)(e,ln),F=_e(L),$=(0,o.useRef)(null);(0,o.useImperativeHandle)(t,function(){return $.current});var U,z,W,H=(0,c.A)({},V);return"visible"in e&&(H.popupVisible=e.visible),o.createElement(nn,(0,l.A)({popupClassName:a()(n,null==j?void 0:j.root),prefixCls:b,popup:function(){return o.createElement(s,{key:"content",prefixCls:b,id:F,bodyClassName:null==j?void 0:j.body,overlayInnerStyle:(0,c.A)((0,c.A)({},k),null==N?void 0:N.body)},_)},action:i,builtinPlacements:sn,popupPlacement:A,ref:$,popupAlign:D,getPopupContainer:T,onPopupVisibleChange:y,afterPopupVisibleChange:w,popupTransitionName:E,popupAnimation:S,popupMotion:O,defaultPopupVisible:R,autoDestroy:I,mouseLeaveDelay:h,popupStyle:(0,c.A)((0,c.A)({},m),null==N?void 0:N.root),mouseEnterDelay:p,arrow:B},H),(z=(null==(U=o.Children.only(v))?void 0:U.props)||{},W=(0,c.A)((0,c.A)({},z),{},{"aria-describedby":_?F:null}),o.cloneElement(v,W)))};const un=(0,o.forwardRef)(cn)},3241:e=>{"use strict";e.exports=a},3489:(e,t,n)=>{"use strict";const r=n(7944),a=n(8395),o=n(144);e.exports=(e,t)=>{e=new a(e,t);let n=new r("0.0.0");if(e.test(n))return n;if(n=new r("0.0.0-0"),e.test(n))return n;n=null;for(let t=0;t<e.set.length;++t){const a=e.set[t];let i=null;a.forEach(e=>{const t=new r(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":i&&!o(t,i)||(i=t);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${e.operator}`)}}),!i||n&&!o(n,i)||(n=i)}return n&&e.test(n)?n:null}},3806:e=>{"use strict";e.exports=i},3811:(e,t,n)=>{"use strict";const r=n(6909),a=n(7659),o=n(144),i=n(2077),s=n(599),l=n(7092);e.exports=(e,t,n,c)=>{switch(t){case"===":return"object"==typeof e&&(e=e.version),"object"==typeof n&&(n=n.version),e===n;case"!==":return"object"==typeof e&&(e=e.version),"object"==typeof n&&(n=n.version),e!==n;case"":case"=":case"==":return r(e,n,c);case"!=":return a(e,n,c);case">":return o(e,n,c);case">=":return i(e,n,c);case"<":return s(e,n,c);case"<=":return l(e,n,c);default:throw new TypeError(`Invalid operator: ${t}`)}}},4031:e=>{"use strict";const t=/^[0-9]+$/,n=(e,n)=>{const r=t.test(e),a=t.test(n);return r&&a&&(e=+e,n=+n),e===n?0:r&&!a?-1:a&&!r?1:e<n?-1:1};e.exports={compareIdentifiers:n,rcompareIdentifiers:(e,t)=>n(t,e)}},4266:(e,t,n)=>{"use strict";const r=n(5463);e.exports=(e,t,n)=>r(e,t,"<",n)},4271:(e,t,n)=>{"use strict";e.exports=n(8299)},4300:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(7451),a=n(6438);function o(e){return function(e){if(Array.isArray(e))return(0,r.A)(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||(0,a.A)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},4354:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>b});var r=n(5292),a=n.n(r),o=n(9893),i=n.n(o),s=n(9383),l=n.n(s),c=n(6884),u=n.n(c),d=n(9088),p=n.n(d),f=n(7997),h=n.n(f),m=n(6005),g={};g.styleTagTransform=h(),g.setAttributes=u(),g.insert=l().bind(null,"head"),g.domAPI=i(),g.insertStyleElement=p(),a()(m.A,g);const b=m.A&&m.A.locals?m.A.locals:void 0},4358:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>c});var r={},a=[];function o(e,t){}function i(e,t){}function s(e,t,n){t||r[n]||(e(!1,n),r[n]=!0)}function l(e,t){s(o,e,t)}l.preMessage=function(e){a.push(e)},l.resetWarned=function(){r={}},l.noteOnce=function(e,t){s(i,e,t)};const c=l},4452:(e,t)=>{var n;!function(){"use strict";var r={}.hasOwnProperty;function a(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];n&&(e=i(e,o(n)))}return e}function o(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return a.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var n in e)r.call(e,n)&&e[n]&&(t=i(t,n));return t}function i(e,t){return t?e?e+" "+t:e+t:e}e.exports?(a.default=a,e.exports=a):void 0===(n=function(){return a}.apply(t,[]))||(e.exports=n)}()},4636:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}t.default=void 0;var a=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=o?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(a,i,s):a[i]=e[i]}return a.default=e,n&&n.set(e,a),a}(n(5959)),o=d(n(2688)),i=d(n(7842)),s=n(414),l=n(544),c=d(n(9482)),u=["breakpoint","breakpoints","cols","layouts","margin","containerPadding","onBreakpointChange","onLayoutChange","onWidthChange"];function d(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function f(){return f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f.apply(this,arguments)}function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach(function(t){w(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t){return b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},b(e,t)}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e){return y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},y(e)}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var E=function(e){return Object.prototype.toString.call(e)};function S(e,t){return null==e?null:Array.isArray(e)?e:e[t]}var O=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&b(e,t)}(E,e);var t,n,o,d,p,h=(d=E,p=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t=y(d);if(p){var n=y(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return v(e)}(this,e)});function E(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,E);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return w(v(e=h.call.apply(h,[this].concat(n))),"state",e.generateInitialState()),w(v(e),"onLayoutChange",function(t){e.props.onLayoutChange(t,m(m({},e.props.layouts),{},w({},e.state.breakpoint,t)))}),e}return t=E,o=[{key:"getDerivedStateFromProps",value:function(e,t){if(!(0,i.default)(e.layouts,t.layouts)){var n=t.breakpoint,r=t.cols;return{layout:(0,l.findOrGenerateResponsiveLayout)(e.layouts,e.breakpoints,n,n,r,e.compactType),layouts:e.layouts}}return null}}],(n=[{key:"generateInitialState",value:function(){var e=this.props,t=e.width,n=e.breakpoints,r=e.layouts,a=e.cols,o=(0,l.getBreakpointFromWidth)(n,t),i=(0,l.getColsFromBreakpoint)(o,a),s=!1===this.props.verticalCompact?null:this.props.compactType;return{layout:(0,l.findOrGenerateResponsiveLayout)(r,n,o,o,i,s),breakpoint:o,cols:i}}},{key:"componentDidUpdate",value:function(e){this.props.width==e.width&&this.props.breakpoint===e.breakpoint&&(0,i.default)(this.props.breakpoints,e.breakpoints)&&(0,i.default)(this.props.cols,e.cols)||this.onWidthChange(e)}},{key:"onWidthChange",value:function(e){var t=this.props,n=t.breakpoints,r=t.cols,a=t.layouts,o=t.compactType,i=this.props.breakpoint||(0,l.getBreakpointFromWidth)(this.props.breakpoints,this.props.width),c=this.state.breakpoint,u=(0,l.getColsFromBreakpoint)(i,r),d=m({},a);if(c!==i||e.breakpoints!==n||e.cols!==r){c in d||(d[c]=(0,s.cloneLayout)(this.state.layout));var p=(0,l.findOrGenerateResponsiveLayout)(d,n,i,c,u,o);p=(0,s.synchronizeLayoutWithChildren)(p,this.props.children,u,o,this.props.allowOverlap),d[i]=p,this.props.onLayoutChange(p,d),this.props.onBreakpointChange(i,u),this.setState({breakpoint:i,layout:p,cols:u})}var f=S(this.props.margin,i),h=S(this.props.containerPadding,i);this.props.onWidthChange(this.props.width,f,u,h)}},{key:"render",value:function(){var e=this.props,t=(e.breakpoint,e.breakpoints,e.cols,e.layouts,e.margin),n=e.containerPadding,r=(e.onBreakpointChange,e.onLayoutChange,e.onWidthChange,function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,u));return a.createElement(c.default,f({},r,{margin:S(t,this.state.breakpoint),containerPadding:S(n,this.state.breakpoint),onLayoutChange:this.onLayoutChange,layout:this.state.layout,cols:this.state.cols}))}}])&&g(t.prototype,n),o&&g(t,o),Object.defineProperty(t,"prototype",{writable:!1}),E}(a.Component);t.default=O,w(O,"propTypes",{breakpoint:o.default.string,breakpoints:o.default.object,allowOverlap:o.default.bool,cols:o.default.object,margin:o.default.oneOfType([o.default.array,o.default.object]),containerPadding:o.default.oneOfType([o.default.array,o.default.object]),layouts:function(e,t){if("[object Object]"!==E(e[t]))throw new Error("Layout property must be an object. Received: "+E(e[t]));Object.keys(e[t]).forEach(function(t){if(!(t in e.breakpoints))throw new Error("Each key in layouts must align with a key in breakpoints.");(0,s.validateLayout)(e.layouts[t],"layouts."+t)})},width:o.default.number.isRequired,onBreakpointChange:o.default.func,onLayoutChange:o.default.func,onWidthChange:o.default.func}),w(O,"defaultProps",{breakpoints:{lg:1200,md:996,sm:768,xs:480,xxs:0},cols:{lg:12,md:10,sm:6,xs:4,xxs:2},containerPadding:{lg:null,md:null,sm:null,xs:null,xxs:null},layouts:{},margin:[10,10],allowOverlap:!1,onBreakpointChange:s.noop,onLayoutChange:s.noop,onWidthChange:s.noop})},4942:e=>{"use strict";e.exports=function(e){var t=e[1],n=e[3];if(!n)return t;if("function"==typeof btoa){var r=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),a="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(r),o="/*# ".concat(a," */");return[t].concat([o]).join("\n")}return[t].join("\n")}},5292:e=>{"use strict";var t=[];function n(e){for(var n=-1,r=0;r<t.length;r++)if(t[r].identifier===e){n=r;break}return n}function r(e,r){for(var o={},i=[],s=0;s<e.length;s++){var l=e[s],c=r.base?l[0]+r.base:l[0],u=o[c]||0,d="".concat(c," ").concat(u);o[c]=u+1;var p=n(d),f={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==p)t[p].references++,t[p].updater(f);else{var h=a(f,r);r.byIndex=s,t.splice(s,0,{identifier:d,updater:h,references:1})}i.push(d)}return i}function a(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,a){var o=r(e=e||[],a=a||{});return function(e){e=e||[];for(var i=0;i<o.length;i++){var s=n(o[i]);t[s].references--}for(var l=r(e,a),c=0;c<o.length;c++){var u=n(o[c]);0===t[u].references&&(t[u].updater(),t.splice(u,1))}o=l}}},5334:(e,t,n)=>{"use strict";const r=n(7944),a=n(5860),{safeRe:o,t:i}=n(6850);e.exports=(e,t)=>{if(e instanceof r)return e;if("number"==typeof e&&(e=String(e)),"string"!=typeof e)return null;let n=null;if((t=t||{}).rtl){const r=t.includePrerelease?o[i.COERCERTLFULL]:o[i.COERCERTL];let a;for(;(a=r.exec(e))&&(!n||n.index+n[0].length!==e.length);)n&&a.index+a[0].length===n.index+n[0].length||(n=a),r.lastIndex=a.index+a[1].length+a[2].length;r.lastIndex=-1}else n=e.match(t.includePrerelease?o[i.COERCEFULL]:o[i.COERCE]);if(null===n)return null;const s=n[2],l=n[3]||"0",c=n[4]||"0",u=t.includePrerelease&&n[5]?`-${n[5]}`:"",d=t.includePrerelease&&n[6]?`+${n[6]}`:"";return a(`${s}.${l}.${c}${u}${d}`,t)}},5380:(e,t,n)=>{"use strict";const r=n(7944);e.exports=(e,t,n)=>new r(e,n).compare(new r(t,n))},5463:(e,t,n)=>{"use strict";const r=n(7944),a=n(9524),{ANY:o}=a,i=n(8395),s=n(1722),l=n(144),c=n(599),u=n(7092),d=n(2077);e.exports=(e,t,n,p)=>{let f,h,m,g,b;switch(e=new r(e,p),t=new i(t,p),n){case">":f=l,h=u,m=c,g=">",b=">=";break;case"<":f=c,h=d,m=l,g="<",b="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(s(e,t,p))return!1;for(let n=0;n<t.set.length;++n){const r=t.set[n];let i=null,s=null;if(r.forEach(e=>{e.semver===o&&(e=new a(">=0.0.0")),i=i||e,s=s||e,f(e.semver,i.semver,p)?i=e:m(e.semver,s.semver,p)&&(s=e)}),i.operator===g||i.operator===b)return!1;if((!s.operator||s.operator===g)&&h(e,s.semver))return!1;if(s.operator===b&&m(e,s.semver))return!1}return!0}},5860:(e,t,n)=>{"use strict";const r=n(7944);e.exports=(e,t,n=!1)=>{if(e instanceof r)return e;try{return new r(e,t)}catch(e){if(!n)return null;throw e}}},5955:(e,t,n)=>{"use strict";const r=n(7944);e.exports=(e,t,n,a,o)=>{"string"==typeof n&&(o=a,a=n,n=void 0);try{return new r(e instanceof r?e.version:e,n).inc(t,a,o).version}catch(e){return null}}},5959:e=>{"use strict";e.exports=n},5986:(e,t,n)=>{"use strict";const r=n(7944);e.exports=(e,t)=>new r(e,t).minor},6005:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(4942),a=n.n(r),o=n(278),i=n.n(o)()(a());i.push([e.id,".rc-slider {\n  position: relative;\n  width: 100%;\n  height: 14px;\n  padding: 5px 0;\n  border-radius: 6px;\n  touch-action: none;\n  box-sizing: border-box;\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n}\n.rc-slider * {\n  box-sizing: border-box;\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n}\n.rc-slider-rail {\n  position: absolute;\n  width: 100%;\n  height: 4px;\n  background-color: #e9e9e9;\n  border-radius: 6px;\n}\n.rc-slider-track,\n.rc-slider-tracks {\n  position: absolute;\n  height: 4px;\n  background-color: #abe2fb;\n  border-radius: 6px;\n}\n.rc-slider-track-draggable {\n  z-index: 1;\n  box-sizing: content-box;\n  background-clip: content-box;\n  border-top: 5px solid rgba(0, 0, 0, 0);\n  border-bottom: 5px solid rgba(0, 0, 0, 0);\n  transform: translateY(-5px);\n}\n.rc-slider-handle {\n  position: absolute;\n  z-index: 1;\n  width: 14px;\n  height: 14px;\n  margin-top: -5px;\n  background-color: #fff;\n  border: solid 2px #96dbfa;\n  border-radius: 50%;\n  cursor: pointer;\n  cursor: -webkit-grab;\n  cursor: grab;\n  opacity: 0.8;\n  touch-action: pan-x;\n}\n.rc-slider-handle-dragging.rc-slider-handle-dragging.rc-slider-handle-dragging {\n  border-color: #57c5f7;\n  box-shadow: 0 0 0 5px #96dbfa;\n}\n.rc-slider-handle:focus {\n  outline: none;\n  box-shadow: none;\n}\n.rc-slider-handle:focus-visible {\n  border-color: #2db7f5;\n  box-shadow: 0 0 0 3px #96dbfa;\n}\n.rc-slider-handle-click-focused:focus {\n  border-color: #96dbfa;\n  box-shadow: unset;\n}\n.rc-slider-handle:hover {\n  border-color: #57c5f7;\n}\n.rc-slider-handle:active {\n  border-color: #57c5f7;\n  box-shadow: 0 0 5px #57c5f7;\n  cursor: -webkit-grabbing;\n  cursor: grabbing;\n}\n.rc-slider-mark {\n  position: absolute;\n  top: 18px;\n  left: 0;\n  width: 100%;\n  font-size: 12px;\n}\n.rc-slider-mark-text {\n  position: absolute;\n  display: inline-block;\n  color: #999;\n  text-align: center;\n  vertical-align: middle;\n  cursor: pointer;\n}\n.rc-slider-mark-text-active {\n  color: #666;\n}\n.rc-slider-step {\n  position: absolute;\n  width: 100%;\n  height: 4px;\n  background: transparent;\n}\n.rc-slider-dot {\n  position: absolute;\n  bottom: -2px;\n  width: 8px;\n  height: 8px;\n  vertical-align: middle;\n  background-color: #fff;\n  border: 2px solid #e9e9e9;\n  border-radius: 50%;\n  cursor: pointer;\n}\n.rc-slider-dot-active {\n  border-color: #96dbfa;\n}\n.rc-slider-dot-reverse {\n  margin-right: -4px;\n}\n.rc-slider-disabled {\n  background-color: #e9e9e9;\n}\n.rc-slider-disabled .rc-slider-track {\n  background-color: #ccc;\n}\n.rc-slider-disabled .rc-slider-handle,\n.rc-slider-disabled .rc-slider-dot {\n  background-color: #fff;\n  border-color: #ccc;\n  box-shadow: none;\n  cursor: not-allowed;\n}\n.rc-slider-disabled .rc-slider-mark-text,\n.rc-slider-disabled .rc-slider-dot {\n  cursor: not-allowed !important;\n}\n.rc-slider-vertical {\n  width: 14px;\n  height: 100%;\n  padding: 0 5px;\n}\n.rc-slider-vertical .rc-slider-rail {\n  width: 4px;\n  height: 100%;\n}\n.rc-slider-vertical .rc-slider-track {\n  bottom: 0;\n  left: 5px;\n  width: 4px;\n}\n.rc-slider-vertical .rc-slider-track-draggable {\n  border-top: 0;\n  border-bottom: 0;\n  border-right: 5px solid rgba(0, 0, 0, 0);\n  border-left: 5px solid rgba(0, 0, 0, 0);\n  transform: translateX(-5px);\n}\n.rc-slider-vertical .rc-slider-handle {\n  position: absolute;\n  z-index: 1;\n  margin-top: 0;\n  margin-left: -5px;\n  touch-action: pan-y;\n}\n.rc-slider-vertical .rc-slider-mark {\n  top: 0;\n  left: 18px;\n  height: 100%;\n}\n.rc-slider-vertical .rc-slider-step {\n  width: 4px;\n  height: 100%;\n}\n.rc-slider-vertical .rc-slider-dot {\n  margin-left: -2px;\n}\n.rc-slider-tooltip-zoom-down-enter,\n.rc-slider-tooltip-zoom-down-appear {\n  display: block !important;\n  animation-duration: 0.3s;\n  animation-fill-mode: both;\n  animation-play-state: paused;\n}\n.rc-slider-tooltip-zoom-down-leave {\n  display: block !important;\n  animation-duration: 0.3s;\n  animation-fill-mode: both;\n  animation-play-state: paused;\n}\n.rc-slider-tooltip-zoom-down-enter.rc-slider-tooltip-zoom-down-enter-active,\n.rc-slider-tooltip-zoom-down-appear.rc-slider-tooltip-zoom-down-appear-active {\n  animation-name: rcSliderTooltipZoomDownIn;\n  animation-play-state: running;\n}\n.rc-slider-tooltip-zoom-down-leave.rc-slider-tooltip-zoom-down-leave-active {\n  animation-name: rcSliderTooltipZoomDownOut;\n  animation-play-state: running;\n}\n.rc-slider-tooltip-zoom-down-enter,\n.rc-slider-tooltip-zoom-down-appear {\n  transform: scale(0, 0);\n  animation-timing-function: cubic-bezier(0.23, 1, 0.32, 1);\n}\n.rc-slider-tooltip-zoom-down-leave {\n  animation-timing-function: cubic-bezier(0.755, 0.05, 0.855, 0.06);\n}\n@keyframes rcSliderTooltipZoomDownIn {\n  0% {\n    transform: scale(0, 0);\n    transform-origin: 50% 100%;\n    opacity: 0;\n  }\n  100% {\n    transform: scale(1, 1);\n    transform-origin: 50% 100%;\n  }\n}\n@keyframes rcSliderTooltipZoomDownOut {\n  0% {\n    transform: scale(1, 1);\n    transform-origin: 50% 100%;\n  }\n  100% {\n    transform: scale(0, 0);\n    transform-origin: 50% 100%;\n    opacity: 0;\n  }\n}\n.rc-slider-tooltip {\n  position: absolute;\n  top: -9999px;\n  left: -9999px;\n  visibility: visible;\n  box-sizing: border-box;\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n}\n.rc-slider-tooltip * {\n  box-sizing: border-box;\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n}\n.rc-slider-tooltip-hidden {\n  display: none;\n}\n.rc-slider-tooltip-placement-top {\n  padding: 4px 0 8px 0;\n}\n.rc-slider-tooltip-inner {\n  min-width: 24px;\n  height: 24px;\n  padding: 6px 2px;\n  color: #fff;\n  font-size: 12px;\n  line-height: 1;\n  text-align: center;\n  text-decoration: none;\n  background-color: #6c6c6c;\n  border-radius: 6px;\n  box-shadow: 0 0 4px #d9d9d9;\n}\n.rc-slider-tooltip-arrow {\n  position: absolute;\n  width: 0;\n  height: 0;\n  border-color: transparent;\n  border-style: solid;\n}\n.rc-slider-tooltip-placement-top .rc-slider-tooltip-arrow {\n  bottom: 4px;\n  left: 50%;\n  margin-left: -4px;\n  border-width: 4px 4px 0;\n  border-top-color: #6c6c6c;\n}\n","",{version:3,sources:["webpack://./../node_modules/@volkovlabs/components/node_modules/rc-slider/assets/index.css"],names:[],mappings:"AAAA;EACE,kBAAkB;EAClB,WAAW;EACX,YAAY;EACZ,cAAc;EACd,kBAAkB;EAClB,kBAAkB;EAClB,sBAAsB;EACtB,6CAA6C;AAC/C;AACA;EACE,sBAAsB;EACtB,6CAA6C;AAC/C;AACA;EACE,kBAAkB;EAClB,WAAW;EACX,WAAW;EACX,yBAAyB;EACzB,kBAAkB;AACpB;AACA;;EAEE,kBAAkB;EAClB,WAAW;EACX,yBAAyB;EACzB,kBAAkB;AACpB;AACA;EACE,UAAU;EACV,uBAAuB;EACvB,4BAA4B;EAC5B,sCAAsC;EACtC,yCAAyC;EACzC,2BAA2B;AAC7B;AACA;EACE,kBAAkB;EAClB,UAAU;EACV,WAAW;EACX,YAAY;EACZ,gBAAgB;EAChB,sBAAsB;EACtB,yBAAyB;EACzB,kBAAkB;EAClB,eAAe;EACf,oBAAoB;EACpB,YAAY;EACZ,YAAY;EACZ,mBAAmB;AACrB;AACA;EACE,qBAAqB;EACrB,6BAA6B;AAC/B;AACA;EACE,aAAa;EACb,gBAAgB;AAClB;AACA;EACE,qBAAqB;EACrB,6BAA6B;AAC/B;AACA;EACE,qBAAqB;EACrB,iBAAiB;AACnB;AACA;EACE,qBAAqB;AACvB;AACA;EACE,qBAAqB;EACrB,2BAA2B;EAC3B,wBAAwB;EACxB,gBAAgB;AAClB;AACA;EACE,kBAAkB;EAClB,SAAS;EACT,OAAO;EACP,WAAW;EACX,eAAe;AACjB;AACA;EACE,kBAAkB;EAClB,qBAAqB;EACrB,WAAW;EACX,kBAAkB;EAClB,sBAAsB;EACtB,eAAe;AACjB;AACA;EACE,WAAW;AACb;AACA;EACE,kBAAkB;EAClB,WAAW;EACX,WAAW;EACX,uBAAuB;AACzB;AACA;EACE,kBAAkB;EAClB,YAAY;EACZ,UAAU;EACV,WAAW;EACX,sBAAsB;EACtB,sBAAsB;EACtB,yBAAyB;EACzB,kBAAkB;EAClB,eAAe;AACjB;AACA;EACE,qBAAqB;AACvB;AACA;EACE,kBAAkB;AACpB;AACA;EACE,yBAAyB;AAC3B;AACA;EACE,sBAAsB;AACxB;AACA;;EAEE,sBAAsB;EACtB,kBAAkB;EAClB,gBAAgB;EAChB,mBAAmB;AACrB;AACA;;EAEE,8BAA8B;AAChC;AACA;EACE,WAAW;EACX,YAAY;EACZ,cAAc;AAChB;AACA;EACE,UAAU;EACV,YAAY;AACd;AACA;EACE,SAAS;EACT,SAAS;EACT,UAAU;AACZ;AACA;EACE,aAAa;EACb,gBAAgB;EAChB,wCAAwC;EACxC,uCAAuC;EACvC,2BAA2B;AAC7B;AACA;EACE,kBAAkB;EAClB,UAAU;EACV,aAAa;EACb,iBAAiB;EACjB,mBAAmB;AACrB;AACA;EACE,MAAM;EACN,UAAU;EACV,YAAY;AACd;AACA;EACE,UAAU;EACV,YAAY;AACd;AACA;EACE,iBAAiB;AACnB;AACA;;EAEE,yBAAyB;EACzB,wBAAwB;EACxB,yBAAyB;EACzB,4BAA4B;AAC9B;AACA;EACE,yBAAyB;EACzB,wBAAwB;EACxB,yBAAyB;EACzB,4BAA4B;AAC9B;AACA;;EAEE,yCAAyC;EACzC,6BAA6B;AAC/B;AACA;EACE,0CAA0C;EAC1C,6BAA6B;AAC/B;AACA;;EAEE,sBAAsB;EACtB,yDAAyD;AAC3D;AACA;EACE,iEAAiE;AACnE;AACA;EACE;IACE,sBAAsB;IACtB,0BAA0B;IAC1B,UAAU;EACZ;EACA;IACE,sBAAsB;IACtB,0BAA0B;EAC5B;AACF;AACA;EACE;IACE,sBAAsB;IACtB,0BAA0B;EAC5B;EACA;IACE,sBAAsB;IACtB,0BAA0B;IAC1B,UAAU;EACZ;AACF;AACA;EACE,kBAAkB;EAClB,YAAY;EACZ,aAAa;EACb,mBAAmB;EACnB,sBAAsB;EACtB,6CAA6C;AAC/C;AACA;EACE,sBAAsB;EACtB,6CAA6C;AAC/C;AACA;EACE,aAAa;AACf;AACA;EACE,oBAAoB;AACtB;AACA;EACE,eAAe;EACf,YAAY;EACZ,gBAAgB;EAChB,WAAW;EACX,eAAe;EACf,cAAc;EACd,kBAAkB;EAClB,qBAAqB;EACrB,yBAAyB;EACzB,kBAAkB;EAClB,2BAA2B;AAC7B;AACA;EACE,kBAAkB;EAClB,QAAQ;EACR,SAAS;EACT,yBAAyB;EACzB,mBAAmB;AACrB;AACA;EACE,WAAW;EACX,SAAS;EACT,iBAAiB;EACjB,uBAAuB;EACvB,yBAAyB;AAC3B",sourcesContent:[".rc-slider {\n  position: relative;\n  width: 100%;\n  height: 14px;\n  padding: 5px 0;\n  border-radius: 6px;\n  touch-action: none;\n  box-sizing: border-box;\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n}\n.rc-slider * {\n  box-sizing: border-box;\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n}\n.rc-slider-rail {\n  position: absolute;\n  width: 100%;\n  height: 4px;\n  background-color: #e9e9e9;\n  border-radius: 6px;\n}\n.rc-slider-track,\n.rc-slider-tracks {\n  position: absolute;\n  height: 4px;\n  background-color: #abe2fb;\n  border-radius: 6px;\n}\n.rc-slider-track-draggable {\n  z-index: 1;\n  box-sizing: content-box;\n  background-clip: content-box;\n  border-top: 5px solid rgba(0, 0, 0, 0);\n  border-bottom: 5px solid rgba(0, 0, 0, 0);\n  transform: translateY(-5px);\n}\n.rc-slider-handle {\n  position: absolute;\n  z-index: 1;\n  width: 14px;\n  height: 14px;\n  margin-top: -5px;\n  background-color: #fff;\n  border: solid 2px #96dbfa;\n  border-radius: 50%;\n  cursor: pointer;\n  cursor: -webkit-grab;\n  cursor: grab;\n  opacity: 0.8;\n  touch-action: pan-x;\n}\n.rc-slider-handle-dragging.rc-slider-handle-dragging.rc-slider-handle-dragging {\n  border-color: #57c5f7;\n  box-shadow: 0 0 0 5px #96dbfa;\n}\n.rc-slider-handle:focus {\n  outline: none;\n  box-shadow: none;\n}\n.rc-slider-handle:focus-visible {\n  border-color: #2db7f5;\n  box-shadow: 0 0 0 3px #96dbfa;\n}\n.rc-slider-handle-click-focused:focus {\n  border-color: #96dbfa;\n  box-shadow: unset;\n}\n.rc-slider-handle:hover {\n  border-color: #57c5f7;\n}\n.rc-slider-handle:active {\n  border-color: #57c5f7;\n  box-shadow: 0 0 5px #57c5f7;\n  cursor: -webkit-grabbing;\n  cursor: grabbing;\n}\n.rc-slider-mark {\n  position: absolute;\n  top: 18px;\n  left: 0;\n  width: 100%;\n  font-size: 12px;\n}\n.rc-slider-mark-text {\n  position: absolute;\n  display: inline-block;\n  color: #999;\n  text-align: center;\n  vertical-align: middle;\n  cursor: pointer;\n}\n.rc-slider-mark-text-active {\n  color: #666;\n}\n.rc-slider-step {\n  position: absolute;\n  width: 100%;\n  height: 4px;\n  background: transparent;\n}\n.rc-slider-dot {\n  position: absolute;\n  bottom: -2px;\n  width: 8px;\n  height: 8px;\n  vertical-align: middle;\n  background-color: #fff;\n  border: 2px solid #e9e9e9;\n  border-radius: 50%;\n  cursor: pointer;\n}\n.rc-slider-dot-active {\n  border-color: #96dbfa;\n}\n.rc-slider-dot-reverse {\n  margin-right: -4px;\n}\n.rc-slider-disabled {\n  background-color: #e9e9e9;\n}\n.rc-slider-disabled .rc-slider-track {\n  background-color: #ccc;\n}\n.rc-slider-disabled .rc-slider-handle,\n.rc-slider-disabled .rc-slider-dot {\n  background-color: #fff;\n  border-color: #ccc;\n  box-shadow: none;\n  cursor: not-allowed;\n}\n.rc-slider-disabled .rc-slider-mark-text,\n.rc-slider-disabled .rc-slider-dot {\n  cursor: not-allowed !important;\n}\n.rc-slider-vertical {\n  width: 14px;\n  height: 100%;\n  padding: 0 5px;\n}\n.rc-slider-vertical .rc-slider-rail {\n  width: 4px;\n  height: 100%;\n}\n.rc-slider-vertical .rc-slider-track {\n  bottom: 0;\n  left: 5px;\n  width: 4px;\n}\n.rc-slider-vertical .rc-slider-track-draggable {\n  border-top: 0;\n  border-bottom: 0;\n  border-right: 5px solid rgba(0, 0, 0, 0);\n  border-left: 5px solid rgba(0, 0, 0, 0);\n  transform: translateX(-5px);\n}\n.rc-slider-vertical .rc-slider-handle {\n  position: absolute;\n  z-index: 1;\n  margin-top: 0;\n  margin-left: -5px;\n  touch-action: pan-y;\n}\n.rc-slider-vertical .rc-slider-mark {\n  top: 0;\n  left: 18px;\n  height: 100%;\n}\n.rc-slider-vertical .rc-slider-step {\n  width: 4px;\n  height: 100%;\n}\n.rc-slider-vertical .rc-slider-dot {\n  margin-left: -2px;\n}\n.rc-slider-tooltip-zoom-down-enter,\n.rc-slider-tooltip-zoom-down-appear {\n  display: block !important;\n  animation-duration: 0.3s;\n  animation-fill-mode: both;\n  animation-play-state: paused;\n}\n.rc-slider-tooltip-zoom-down-leave {\n  display: block !important;\n  animation-duration: 0.3s;\n  animation-fill-mode: both;\n  animation-play-state: paused;\n}\n.rc-slider-tooltip-zoom-down-enter.rc-slider-tooltip-zoom-down-enter-active,\n.rc-slider-tooltip-zoom-down-appear.rc-slider-tooltip-zoom-down-appear-active {\n  animation-name: rcSliderTooltipZoomDownIn;\n  animation-play-state: running;\n}\n.rc-slider-tooltip-zoom-down-leave.rc-slider-tooltip-zoom-down-leave-active {\n  animation-name: rcSliderTooltipZoomDownOut;\n  animation-play-state: running;\n}\n.rc-slider-tooltip-zoom-down-enter,\n.rc-slider-tooltip-zoom-down-appear {\n  transform: scale(0, 0);\n  animation-timing-function: cubic-bezier(0.23, 1, 0.32, 1);\n}\n.rc-slider-tooltip-zoom-down-leave {\n  animation-timing-function: cubic-bezier(0.755, 0.05, 0.855, 0.06);\n}\n@keyframes rcSliderTooltipZoomDownIn {\n  0% {\n    transform: scale(0, 0);\n    transform-origin: 50% 100%;\n    opacity: 0;\n  }\n  100% {\n    transform: scale(1, 1);\n    transform-origin: 50% 100%;\n  }\n}\n@keyframes rcSliderTooltipZoomDownOut {\n  0% {\n    transform: scale(1, 1);\n    transform-origin: 50% 100%;\n  }\n  100% {\n    transform: scale(0, 0);\n    transform-origin: 50% 100%;\n    opacity: 0;\n  }\n}\n.rc-slider-tooltip {\n  position: absolute;\n  top: -9999px;\n  left: -9999px;\n  visibility: visible;\n  box-sizing: border-box;\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n}\n.rc-slider-tooltip * {\n  box-sizing: border-box;\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n}\n.rc-slider-tooltip-hidden {\n  display: none;\n}\n.rc-slider-tooltip-placement-top {\n  padding: 4px 0 8px 0;\n}\n.rc-slider-tooltip-inner {\n  min-width: 24px;\n  height: 24px;\n  padding: 6px 2px;\n  color: #fff;\n  font-size: 12px;\n  line-height: 1;\n  text-align: center;\n  text-decoration: none;\n  background-color: #6c6c6c;\n  border-radius: 6px;\n  box-shadow: 0 0 4px #d9d9d9;\n}\n.rc-slider-tooltip-arrow {\n  position: absolute;\n  width: 0;\n  height: 0;\n  border-color: transparent;\n  border-style: solid;\n}\n.rc-slider-tooltip-placement-top .rc-slider-tooltip-arrow {\n  bottom: 4px;\n  left: 50%;\n  margin-left: -4px;\n  border-width: 4px 4px 0;\n  border-top-color: #6c6c6c;\n}\n"],sourceRoot:""}]);const s=i},6033:(e,t,n)=>{"use strict";const r=n(2801);e.exports=(e,t)=>e.sort((e,n)=>r(n,e,t))},6089:e=>{"use strict";e.exports=r},6333:(e,t,n)=>{"use strict";t.__esModule=!0,t.resizableProps=void 0;var r,a=(r=n(2688))&&r.__esModule?r:{default:r};n(8230);var o={axis:a.default.oneOf(["both","x","y","none"]),className:a.default.string,children:a.default.element.isRequired,draggableOpts:a.default.shape({allowAnyClick:a.default.bool,cancel:a.default.string,children:a.default.node,disabled:a.default.bool,enableUserSelectHack:a.default.bool,offsetParent:a.default.node,grid:a.default.arrayOf(a.default.number),handle:a.default.string,nodeRef:a.default.object,onStart:a.default.func,onDrag:a.default.func,onStop:a.default.func,onMouseDown:a.default.func,scale:a.default.number}),height:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,o=t[0];return"both"===o.axis||"y"===o.axis?(r=a.default.number).isRequired.apply(r,t):a.default.number.apply(a.default,t)},handle:a.default.oneOfType([a.default.node,a.default.func]),handleSize:a.default.arrayOf(a.default.number),lockAspectRatio:a.default.bool,maxConstraints:a.default.arrayOf(a.default.number),minConstraints:a.default.arrayOf(a.default.number),onResizeStop:a.default.func,onResizeStart:a.default.func,onResize:a.default.func,resizeHandles:a.default.arrayOf(a.default.oneOf(["s","w","e","n","sw","nw","se","ne"])),transformScale:a.default.number,width:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,o=t[0];return"both"===o.axis||"x"===o.axis?(r=a.default.number).isRequired.apply(r,t):a.default.number.apply(a.default,t)}};t.resizableProps=o},6438:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var r=n(7451);function a(e,t){if(e){if("string"==typeof e)return(0,r.A)(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,r.A)(e,t):void 0}}},6441:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},6609:(e,t,n)=>{"use strict";t.default=void 0;var r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(n(5959)),a=l(n(2688)),o=l(n(1794)),i=n(6333),s=["handle","handleSize","onResize","onResizeStart","onResizeStop","draggableOpts","minConstraints","maxConstraints","lockAspectRatio","axis","width","height","resizeHandles","style","transformScale"];function l(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function u(){return u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u.apply(this,arguments)}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach(function(t){f(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function f(e,t,n){return(t=function(e){var t=function(e){if("object"!=typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e,t){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},h(e,t)}var m=function(e){var t,n;function a(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={width:t.props.width,height:t.props.height,propsWidth:t.props.width,propsHeight:t.props.height},t.onResize=function(e,n){var r=n.size;t.props.onResize?(null==e.persist||e.persist(),t.setState(r,function(){return t.props.onResize&&t.props.onResize(e,n)})):t.setState(r)},t}return n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,h(t,n),a.getDerivedStateFromProps=function(e,t){return t.propsWidth!==e.width||t.propsHeight!==e.height?{width:e.width,height:e.height,propsWidth:e.width,propsHeight:e.height}:null},a.prototype.render=function(){var e=this.props,t=e.handle,n=e.handleSize,a=(e.onResize,e.onResizeStart),i=e.onResizeStop,l=e.draggableOpts,c=e.minConstraints,d=e.maxConstraints,f=e.lockAspectRatio,h=e.axis,m=(e.width,e.height,e.resizeHandles),g=e.style,b=e.transformScale,v=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,s);return r.createElement(o.default,{axis:h,draggableOpts:l,handle:t,handleSize:n,height:this.state.height,lockAspectRatio:f,maxConstraints:d,minConstraints:c,onResizeStart:a,onResize:this.onResize,onResizeStop:i,resizeHandles:m,transformScale:b,width:this.state.width},r.createElement("div",u({},v,{style:p(p({},g),{},{width:this.state.width+"px",height:this.state.height+"px"})})))},a}(r.Component);t.default=m,m.propTypes=p(p({},i.resizableProps),{},{children:a.default.element})},6732:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dontSetMe=function(e,t,n){if(e[t])return new Error(`Invalid prop ${t} passed to ${n} - do not set this, set it on the child.`)},t.findInArray=function(e,t){for(let n=0,r=e.length;n<r;n++)if(t.apply(t,[e[n],n,e]))return e[n]},t.int=function(e){return parseInt(e,10)},t.isFunction=function(e){return"function"==typeof e||"[object Function]"===Object.prototype.toString.call(e)},t.isNum=function(e){return"number"==typeof e&&!isNaN(e)}},6805:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}t.default=function(e){var t;return t=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p(e,t)}(v,t);var n,o,l,c,b=(n=v,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t=h(n);if(o){var a=h(this).constructor;e=Reflect.construct(t,arguments,a)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return f(e)}(this,e)});function v(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,v);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return m(f(e=b.call.apply(b,[this].concat(n))),"state",{width:1280}),m(f(e),"elementRef",a.createRef()),m(f(e),"mounted",!1),m(f(e),"onWindowResize",function(){if(e.mounted){var t=e.elementRef.current;t instanceof HTMLElement&&t.offsetWidth&&e.setState({width:t.offsetWidth})}}),e}return l=v,(c=[{key:"componentDidMount",value:function(){this.mounted=!0,window.addEventListener("resize",this.onWindowResize),this.onWindowResize()}},{key:"componentWillUnmount",value:function(){this.mounted=!1,window.removeEventListener("resize",this.onWindowResize)}},{key:"render",value:function(){var t=this.props,n=t.measureBeforeMount,r=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(t,s);return n&&!this.mounted?a.createElement("div",{className:(0,i.default)(this.props.className,g),style:this.props.style,ref:this.elementRef}):a.createElement(e,u({innerRef:this.elementRef},r,this.state))}}])&&d(l.prototype,c),Object.defineProperty(l,"prototype",{writable:!1}),v}(a.Component),m(t,"defaultProps",{measureBeforeMount:!1}),m(t,"propTypes",{measureBeforeMount:o.default.bool}),t};var a=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=o?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(a,i,s):a[i]=e[i]}return a.default=e,n&&n.set(e,a),a}(n(5959)),o=l(n(2688)),i=l(n(7256)),s=["measureBeforeMount"];function l(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function u(){return u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u.apply(this,arguments)}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},p(e,t)}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g="react-grid-layout"},6850:(e,t,n)=>{"use strict";const{MAX_SAFE_COMPONENT_LENGTH:r,MAX_SAFE_BUILD_LENGTH:a,MAX_LENGTH:o}=n(9630),i=n(9796),s=(t=e.exports={}).re=[],l=t.safeRe=[],c=t.src=[],u=t.safeSrc=[],d=t.t={};let p=0;const f="[a-zA-Z0-9-]",h=[["\\s",1],["\\d",o],[f,a]],m=(e,t,n)=>{const r=(e=>{for(const[t,n]of h)e=e.split(`${t}*`).join(`${t}{0,${n}}`).split(`${t}+`).join(`${t}{1,${n}}`);return e})(t),a=p++;i(e,a,t),d[e]=a,c[a]=t,u[a]=r,s[a]=new RegExp(t,n?"g":void 0),l[a]=new RegExp(r,n?"g":void 0)};m("NUMERICIDENTIFIER","0|[1-9]\\d*"),m("NUMERICIDENTIFIERLOOSE","\\d+"),m("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${f}*`),m("MAINVERSION",`(${c[d.NUMERICIDENTIFIER]})\\.(${c[d.NUMERICIDENTIFIER]})\\.(${c[d.NUMERICIDENTIFIER]})`),m("MAINVERSIONLOOSE",`(${c[d.NUMERICIDENTIFIERLOOSE]})\\.(${c[d.NUMERICIDENTIFIERLOOSE]})\\.(${c[d.NUMERICIDENTIFIERLOOSE]})`),m("PRERELEASEIDENTIFIER",`(?:${c[d.NONNUMERICIDENTIFIER]}|${c[d.NUMERICIDENTIFIER]})`),m("PRERELEASEIDENTIFIERLOOSE",`(?:${c[d.NONNUMERICIDENTIFIER]}|${c[d.NUMERICIDENTIFIERLOOSE]})`),m("PRERELEASE",`(?:-(${c[d.PRERELEASEIDENTIFIER]}(?:\\.${c[d.PRERELEASEIDENTIFIER]})*))`),m("PRERELEASELOOSE",`(?:-?(${c[d.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${c[d.PRERELEASEIDENTIFIERLOOSE]})*))`),m("BUILDIDENTIFIER",`${f}+`),m("BUILD",`(?:\\+(${c[d.BUILDIDENTIFIER]}(?:\\.${c[d.BUILDIDENTIFIER]})*))`),m("FULLPLAIN",`v?${c[d.MAINVERSION]}${c[d.PRERELEASE]}?${c[d.BUILD]}?`),m("FULL",`^${c[d.FULLPLAIN]}$`),m("LOOSEPLAIN",`[v=\\s]*${c[d.MAINVERSIONLOOSE]}${c[d.PRERELEASELOOSE]}?${c[d.BUILD]}?`),m("LOOSE",`^${c[d.LOOSEPLAIN]}$`),m("GTLT","((?:<|>)?=?)"),m("XRANGEIDENTIFIERLOOSE",`${c[d.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),m("XRANGEIDENTIFIER",`${c[d.NUMERICIDENTIFIER]}|x|X|\\*`),m("XRANGEPLAIN",`[v=\\s]*(${c[d.XRANGEIDENTIFIER]})(?:\\.(${c[d.XRANGEIDENTIFIER]})(?:\\.(${c[d.XRANGEIDENTIFIER]})(?:${c[d.PRERELEASE]})?${c[d.BUILD]}?)?)?`),m("XRANGEPLAINLOOSE",`[v=\\s]*(${c[d.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[d.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[d.XRANGEIDENTIFIERLOOSE]})(?:${c[d.PRERELEASELOOSE]})?${c[d.BUILD]}?)?)?`),m("XRANGE",`^${c[d.GTLT]}\\s*${c[d.XRANGEPLAIN]}$`),m("XRANGELOOSE",`^${c[d.GTLT]}\\s*${c[d.XRANGEPLAINLOOSE]}$`),m("COERCEPLAIN",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?`),m("COERCE",`${c[d.COERCEPLAIN]}(?:$|[^\\d])`),m("COERCEFULL",c[d.COERCEPLAIN]+`(?:${c[d.PRERELEASE]})?`+`(?:${c[d.BUILD]})?(?:$|[^\\d])`),m("COERCERTL",c[d.COERCE],!0),m("COERCERTLFULL",c[d.COERCEFULL],!0),m("LONETILDE","(?:~>?)"),m("TILDETRIM",`(\\s*)${c[d.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",m("TILDE",`^${c[d.LONETILDE]}${c[d.XRANGEPLAIN]}$`),m("TILDELOOSE",`^${c[d.LONETILDE]}${c[d.XRANGEPLAINLOOSE]}$`),m("LONECARET","(?:\\^)"),m("CARETTRIM",`(\\s*)${c[d.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",m("CARET",`^${c[d.LONECARET]}${c[d.XRANGEPLAIN]}$`),m("CARETLOOSE",`^${c[d.LONECARET]}${c[d.XRANGEPLAINLOOSE]}$`),m("COMPARATORLOOSE",`^${c[d.GTLT]}\\s*(${c[d.LOOSEPLAIN]})$|^$`),m("COMPARATOR",`^${c[d.GTLT]}\\s*(${c[d.FULLPLAIN]})$|^$`),m("COMPARATORTRIM",`(\\s*)${c[d.GTLT]}\\s*(${c[d.LOOSEPLAIN]}|${c[d.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",m("HYPHENRANGE",`^\\s*(${c[d.XRANGEPLAIN]})\\s+-\\s+(${c[d.XRANGEPLAIN]})\\s*$`),m("HYPHENRANGELOOSE",`^\\s*(${c[d.XRANGEPLAINLOOSE]})\\s+-\\s+(${c[d.XRANGEPLAINLOOSE]})\\s*$`),m("STAR","(<|>)?=?\\s*\\*"),m("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),m("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")},6884:(e,t,n)=>{"use strict";e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},6909:(e,t,n)=>{"use strict";const r=n(5380);e.exports=(e,t,n)=>0===r(e,t,n)},7023:(e,t,n)=>{"use strict";const r=n(5380);e.exports=(e,t)=>r(e,t,!0)},7092:(e,t,n)=>{"use strict";const r=n(5380);e.exports=(e,t,n)=>r(e,t,n)<=0},7095:e=>{"use strict";const t=Object.freeze({loose:!0}),n=Object.freeze({});e.exports=e=>e?"object"!=typeof e?t:e:n},7222:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resizeHandleType=t.resizeHandleAxesType=t.default=void 0;var r=o(n(2688)),a=o(n(5959));function o(e){return e&&e.__esModule?e:{default:e}}var i=r.default.arrayOf(r.default.oneOf(["s","w","e","n","sw","nw","se","ne"]));t.resizeHandleAxesType=i;var s=r.default.oneOfType([r.default.node,r.default.func]);t.resizeHandleType=s;var l={className:r.default.string,style:r.default.object,width:r.default.number,autoSize:r.default.bool,cols:r.default.number,draggableCancel:r.default.string,draggableHandle:r.default.string,verticalCompact:function(e){e.verticalCompact},compactType:r.default.oneOf(["vertical","horizontal"]),layout:function(e){var t=e.layout;void 0!==t&&n(414).validateLayout(t,"layout")},margin:r.default.arrayOf(r.default.number),containerPadding:r.default.arrayOf(r.default.number),rowHeight:r.default.number,maxRows:r.default.number,isBounded:r.default.bool,isDraggable:r.default.bool,isResizable:r.default.bool,allowOverlap:r.default.bool,preventCollision:r.default.bool,useCSSTransforms:r.default.bool,transformScale:r.default.number,isDroppable:r.default.bool,resizeHandles:i,resizeHandle:s,onLayoutChange:r.default.func,onDragStart:r.default.func,onDrag:r.default.func,onDragStop:r.default.func,onResizeStart:r.default.func,onResize:r.default.func,onResizeStop:r.default.func,onDrop:r.default.func,droppingItem:r.default.shape({i:r.default.string.isRequired,w:r.default.number.isRequired,h:r.default.number.isRequired}),children:function(e,t){var n=e[t],r={};a.default.Children.forEach(n,function(e){if(null!=(null==e?void 0:e.key)){if(r[e.key])throw new Error('Duplicate child key "'+e.key+'" found! This will cause problems in ReactGridLayout.');r[e.key]=!0}})},innerRef:r.default.any};t.default=l},7256:(e,t,n)=>{"use strict";function r(e){var t,n,a="";if("string"==typeof e||"number"==typeof e)a+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=r(e[t]))&&(a&&(a+=" "),a+=n);else for(t in e)e[t]&&(a&&(a+=" "),a+=t);return a}function a(){for(var e,t,n=0,a="";n<arguments.length;)(e=arguments[n++])&&(t=r(e))&&(a&&(a+=" "),a+=t);return a}n.r(t),n.d(t,{clsx:()=>a,default:()=>o});const o=a},7350:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.browserPrefixToKey=a,t.browserPrefixToStyle=function(e,t){return t?`-${t.toLowerCase()}-${e}`:e},t.default=void 0,t.getPrefix=r;const n=["Moz","Webkit","O","ms"];function r(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"transform";if("undefined"==typeof window)return"";const t=window.document?.documentElement?.style;if(!t)return"";if(e in t)return"";for(let r=0;r<n.length;r++)if(a(e,n[r])in t)return n[r];return""}function a(e,t){return t?`${t}${function(e){let t="",n=!0;for(let r=0;r<e.length;r++)n?(t+=e[r].toUpperCase(),n=!1):"-"===e[r]?n=!0:t+=e[r];return t}(e)}`:e}t.default=r()},7405:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(1705);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach(function(t){(0,r.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}},7434:e=>{e.exports=function(e,t,n){return e===t||e.className===t.className&&n(e.style,t.style)&&e.width===t.width&&e.autoSize===t.autoSize&&e.cols===t.cols&&e.draggableCancel===t.draggableCancel&&e.draggableHandle===t.draggableHandle&&n(e.verticalCompact,t.verticalCompact)&&n(e.compactType,t.compactType)&&n(e.layout,t.layout)&&n(e.margin,t.margin)&&n(e.containerPadding,t.containerPadding)&&e.rowHeight===t.rowHeight&&e.maxRows===t.maxRows&&e.isBounded===t.isBounded&&e.isDraggable===t.isDraggable&&e.isResizable===t.isResizable&&e.allowOverlap===t.allowOverlap&&e.preventCollision===t.preventCollision&&e.useCSSTransforms===t.useCSSTransforms&&e.transformScale===t.transformScale&&e.isDroppable===t.isDroppable&&n(e.resizeHandles,t.resizeHandles)&&n(e.resizeHandle,t.resizeHandle)&&e.onLayoutChange===t.onLayoutChange&&e.onDragStart===t.onDragStart&&e.onDrag===t.onDrag&&e.onDragStop===t.onDragStop&&e.onResizeStart===t.onResizeStart&&e.onResize===t.onResize&&e.onResizeStop===t.onResizeStop&&e.onDrop===t.onDrop&&n(e.droppingItem,t.droppingItem)&&n(e.innerRef,t.innerRef)}},7451:(e,t,n)=>{"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,{A:()=>r})},7494:(e,t,n)=>{"use strict";const r=n(8395);e.exports=(e,t)=>{try{return new r(e,t).range||"*"}catch(e){return null}}},7645:(e,t,n)=>{"use strict";const r=n(5860);e.exports=(e,t)=>{const n=r(e,t);return n?n.version:null}},7659:(e,t,n)=>{"use strict";const r=n(5380);e.exports=(e,t,n)=>0!==r(e,t,n)},7694:e=>{"use strict";e.exports=u},7774:(e,t,n)=>{"use strict";var r=n(9997),a=n(2007),o=n(5959),i=n(6089),s=n(3241),l=n(8531),c=n(9781),u=n(7781),d=n(1269),p=n(9089);n(4354);const f={form:{root:r.createSelector(e=>`data-testid form-${e}`),sectionHeader:r.createSelector(e=>`data-testid form section-${e}`,"headerDataTestId"),sectionContent:r.createSelector(e=>`data-testid form section-content-${e}`,"contentDataTestId"),fieldSelect:r.createSelector(e=>`form field-select-${e}`),fieldCustom:r.createSelector(e=>`data-testid form field-custom-${e}`),fieldSlider:r.createSelector(e=>`data-testid form field-slider-${e}`),fieldRangeSlider:r.createSelector(e=>`form field-range-slider-${e}`,"sliderAriaLabel"),fieldNumberInput:r.createSelector(e=>`data-testid form field-number-input-${e}`),fieldColor:r.createSelector(e=>`data-testid form field-color-${e}`),fieldInput:r.createSelector(e=>`data-testid form field-input-${e}`),fieldDatetime:r.createSelector(()=>"data-testid date-time-input"),fieldRadio:r.createSelector(e=>`data-testid form field-radio-${e}`)},codeEditor:{copyButton:r.createSelector(()=>"data-testid code-editor copy-button"),copyPasteText:r.createSelector(()=>"data-testid code-editor copy-paste-text"),modal:r.createSelector(()=>"data-testid code-editor modal-window"),miniMapButton:r.createSelector(()=>"data-testid code-editor mini-map-button"),modalButton:r.createSelector(e=>`data-testid code-editor modal-button-${e}`),pasteButton:r.createSelector(()=>"data-testid code-editor paste-button"),wrapButton:r.createSelector(()=>"data-testid code-editor wrap-button")},datasourceEditor:{fieldSelect:r.createSelector("data-testid datasource-editor field-select")},payloadEditor:{loadingMessage:r.createSelector("data-testid payload-editor loading-message"),errorMessage:r.createSelector("data-testid payload-editor error-message")},alertWithDetails:{root:r.createSelector("data-testid alert-with-details root"),detailsSectionHeader:r.createSelector("data-testid alert-with-details details-section-header"),detailsSectionContent:r.createSelector("data-testid alert-with-details details-section-content")}},h=e=>({header:i.css({display:"flex",cursor:"pointer",boxSizing:"border-box",flexDirection:"row-reverse",position:"relative",justifyContent:"space-between",fontSize:e.typography.size.lg,padding:`${e.spacing(.5)} 0`,"&:focus-within":{outline:"2px dotted transparent",outlineOffset:"2px",boxShadow:`0 0 0 2px ${e.colors.background.canvas}, 0 0 0px 4px ${e.colors.primary.main}`,transitionTimingFunction:"cubic-bezier(0.19, 1, 0.22, 1)",transitionDuration:"0.2s",transitionProperty:"outline, outline-offset, box-shadow"}}),button:i.css({all:"unset","&:focus-visible":{outline:"none",outlineOffset:"unset",transition:"none",boxShadow:"none"}}),icon:i.css({color:e.colors.text.secondary}),content:i.css({padding:`${e.spacing(2)} 0`}),spinner:i.css({display:"flex",alignItems:"center",width:e.spacing(2)}),label:i.css({display:"flex"})}),m=e=>({line:i.css`
      margin: 0 0;
      border: 1px solid ${e.colors.border.medium};
      border-bottom: 0;
      background: ${e.colors.background.secondary};
      padding: ${e.spacing(.5)};
    `,modal:i.css`
      width: 80%;
      height: 80%;
    `,content:i.css`
      padding: ${e.spacing(1)};
      height: 100%;
    `,modalBody:i.css`
      height: 100%;
    `,modalIconLine:i.css`
      margin: ${e.spacing(.5)} 0 0 ${e.spacing(.5)};
    `,modalEditor:i.css`
      height: 100%;
      border-radius: 2px;
      border: 1px solid ${e.colors.border.medium};
    `,copyPasteSection:i.css`
      margin: ${e.spacing(.5)} 0 0 ${e.spacing(1)};
    `,copyPasteIcon:i.css`
      margin: ${e.spacing(0)};
    `,copyPasteText:i.css`
      margin: ${e.spacing(0)};
      font-size: 12px;
      color: ${e.colors.text.secondary};
      transition: width 0.5s ease;
    `,text:i.css`
      position: absolute;
      left: -20%;
      opacity: 0;
      top: 8px;
      transition:
        left 0.5s ease,
        opacity 0.5s ease;
    `,left:i.css`
      left: 0;
      opacity: 1;
    `}),g=({monacoEditor:e,setIsOpen:t,editorValue:n,isModal:r=!1,setCurrentMonacoOptions:s,currentMonacoOptions:l,isShowMiniMap:c,setIsShowMiniMap:u,readOnly:d})=>{const p=a.useStyles2(m),[h,g]=o.useState("");return o.useEffect(()=>{h&&setTimeout(()=>{g("")},1e3)},[h]),o.createElement(a.PageToolbar,{buttonOverflowAlignment:"right",className:p.line,forceShowLeftItems:!0,leftItems:[o.createElement(a.ToolbarButton,{key:"code-editor-button-modal",tooltip:r?"Collapse code editor":"Expand code editor",icon:r?"compress-arrows":"expand-arrows-alt",iconSize:"lg",onClick:()=>t(!r),...f.codeEditor.modalButton.apply(r?"modal-close":"modal-open")})]},o.createElement(a.InlineFieldRow,{className:p.copyPasteSection},o.createElement(a.ToolbarButton,{className:p.copyPasteIcon,tooltip:"Copy code",icon:"file-blank",iconSize:"lg",onClick:()=>{navigator.clipboard.writeText(n).then(()=>{g("Copied!")})},...f.codeEditor.copyButton.apply()}),o.createElement(a.ToolbarButton,{disabled:d,className:p.copyPasteIcon,tooltip:d?"Cannot edit in read-only mode":"Paste code",icon:"file-alt",iconSize:"lg",onClick:async()=>{if(e){const t=e.getSelection(),n=await navigator.clipboard.readText(),r={startLineNumber:t?.startLineNumber||1,startColumn:t?.startColumn||1,endLineNumber:t?.endLineNumber||1,endColumn:t?.endColumn||1};e.executeEdits("clipboard",[{range:r,text:n,forceMoveMarkers:!1}]),e.focus(),g("Pasted!")}},...f.codeEditor.pasteButton.apply()}),o.createElement(a.InlineField,{className:i.cx(p.copyPasteText,h?i.css`
                  width: 45px;
                `:i.css`
                  width: 10px;
                `),...f.codeEditor.copyPasteText.apply()},o.createElement("div",{className:i.cx(p.text,h?p.left:"")},h))),o.createElement(a.ToolbarButton,{tooltip:"Wrap code on new lines",icon:"wrap-text",iconSize:"lg",variant:"on"===l?.wordWrap?"active":"default",onClick:()=>{const e="on"===l?.wordWrap?"off":"on";s({...l,wordWrap:e})},...f.codeEditor.wrapButton.apply()}),n&&n.length>100&&o.createElement(a.ToolbarButton,{tooltip:c?"Hide mini map":"Show mini map",icon:"gf-movepane-right",iconSize:"lg",variant:c?"active":"default",onClick:()=>{u(e=>!e)},...f.codeEditor.miniMapButton.apply()}))},b=(e,t,n)=>{const r=18*e.split("\n").length,a=t||200,o=n||1e3;return r<a?a:r>o?o:r},v=e=>({rootOutline:i.css`
      border: 1px solid ${e.colors.border.weak};
      background-color: ${e.colors.background.primary};
    `,header:i.css`
      padding: ${e.spacing(.5,.5)};
      min-height: ${e.spacing(4)};
      display: flex;
      align-items: center;
      justify-content: flex-start;
      white-space: nowrap;

      &:focus {
        outline: none;
      }
    `,headerSolid:i.css`
      border-radius: ${e.shape.radius?.default};
      background: ${e.colors.background.secondary};
    `,title:i.css`
      font-weight: ${e.typography.fontWeightBold};
      margin: ${e.spacing(0,.5)};
      overflow: hidden;
      text-overflow: ellipsis;
    `,collapseIcon:i.css`
      margin-left: ${e.spacing(.5)};
      color: ${e.colors.text.disabled};
    `,actions:i.css`
      margin-left: auto;
      display: flex;
      align-items: center;
    `});class y{constructor(e,t){this.error=e,e&&"object"==typeof e?"message"in e&&"string"==typeof e.message?this.message=e.message:this.message=JSON.stringify(e,null,2):this.message="Unknown Error",this.message+=`\nRequest: ${t}`}}const w=()=>{const[e,t]=o.useState([]);return o.useEffect(()=>{(async()=>{const e=l.getDataSourceSrv().getList({alerting:!1,tracing:!1,metrics:!1,logs:!1,dashboard:!1,mixed:!1,variables:!0,annotations:!1,filter:e=>"grafana"!==e.uid});t(e)})()},[]),e};var E=(e=>(e.SELECT="select",e.SLIDER="slider",e.GROUP="group",e.CUSTOM="custom",e.COLOR="color",e.RADIO="radio",e.HIDDEN="hidden",e.INPUT="input",e.NUMBER_INPUT="numberInput",e.RANGE_SLIDER="rangeSlider",e.DATETIME_PICKER="datetimePicker",e))(E||{});const S=(e,t)=>{if(0===t.length)return e;let n=0;for(;n<t.length;){if(e<=t[n]){if(e===t[n])return e;const r=t[Math.max(n-1,0)],a=t[n];return e-r<a-e?r:a}n+=1}return t[t.length-1]},O=({value:e,onChange:t,min:n,max:r,step:i,steps:s,...l})=>{const c=o.useRef(null),u=o.useRef(!1),[d,p]=o.useState(e?.toString()??"0"),f=o.useCallback(e=>{p(e.currentTarget.value),u.current=!0},[]),h=o.useCallback(()=>{let e=Number(d);if(Number.isNaN(e)&&(e=0),void 0!==i){let t=1e3*i;for(void 0!==n&&(t=1e3*n);t<1e3*e;)t+=1e3*i;e=t/1e3}void 0!==r&&e>r?e=r:void 0!==n&&e<n&&(e=n),void 0!==s&&(e=S(e,s)),u.current&&(t?.(e),p(e.toString()),u.current=!1)},[d,r,n,t,i,s]),m=o.useCallback(e=>{"Enter"===e.key&&c.current?.blur()},[h]);return o.useEffect(()=>{p(e?.toString()||"0")},[e]),o.createElement(a.Input,{ref:c,...l,type:"text",value:d,onChange:f,onBlur:h,onKeyDown:m})},{default:C}=n(3072),{default:A}=(a.stylesFactory((e,t,n=!1)=>{const{spacing:r}=e,a=e.colors.border.strong,o=e.colors.primary.main,s=e.colors.primary.main,l=`box-shadow: 0px 0px 0px 6px ${e.colors.primary.transparent}`;return{container:i.css({width:"100%",margin:t?r(1,0,2.5):r(1,3,1,1),paddingBottom:t&&n?e.spacing(1):"inherit",height:t?"auto":"100%"}),slider:i.css`
      .rc-slider {
        display: flex;
        flex-grow: 1;
        margin-left: 7px; // half the size of the handle to align handle to the left on 0 value
      }
      .rc-slider-mark {
        top: ${e.spacing(1.75)};
      }
      .rc-slider-mark-text {
        color: ${e.colors.text.disabled};
        font-size: ${e.typography.bodySmall.fontSize};
      }
      .rc-slider-mark-text-active {
        color: ${e.colors.text.primary};
      }
      .rc-slider-handle {
        border: none;
        background-color: ${s};
        box-shadow: ${e.shadows.z1};
        cursor: pointer;
        opacity: 1;
      }

      .rc-slider-handle:hover,
      .rc-slider-handle:active,
      .rc-slider-handle-click-focused:focus {
        ${l};
      }

      // The triple class names is needed because that's the specificity used in the source css :(
      .rc-slider-handle-dragging.rc-slider-handle-dragging.rc-slider-handle-dragging,
      .rc-slider-handle:focus-visible {
        box-shadow: 0 0 0 4px ${e.colors.text.primary};
      }

      .rc-slider-dot,
      .rc-slider-dot-active {
        background-color: ${e.colors.text.primary};
        border-color: ${e.colors.text.primary};
      }

      .rc-slider-track {
        background-color: ${o};
      }
      .rc-slider-rail {
        background-color: ${a};
        cursor: pointer;
      }
    `,tooltip:p.css`
      body {
        .rc-slider-tooltip {
          cursor: grab;
          user-select: none;
          z-index: ${e.zIndex.tooltip};
        }

        .rc-slider-tooltip-inner {
          color: ${e.colors.text.primary};
          background-color: transparent !important;
          border-radius: 0;
          box-shadow: none;
        }

        .rc-slider-tooltip-placement-top .rc-slider-tooltip-arrow {
          display: none;
        }

        .rc-slider-tooltip-placement-top {
          padding: 0;
        }
        
        .rc-tooltip-hidden {
          display: none;
        }
      }
    `,sliderInput:i.css({display:"flex",flexDirection:"row",alignItems:"center",width:"100%"}),sliderInputVertical:i.css({flexDirection:"column",height:"100%",".rc-slider":{margin:0,order:2}}),sliderInputField:i.css({marginLeft:e.spacing(3),input:{textAlign:"center"}}),sliderInputFieldVertical:i.css({margin:`0 0 ${e.spacing(3)} 0`,order:1})}}),n(8002)),{default:x}=n(8002);f.form;t.v4=({value:e,onChange:t,onBlur:n,minHeight:r,maxHeight:i,height:s,onEditorDidMount:l,monacoOptions:c,showMiniMap:u,isEscaping:d=!1,...p})=>{const h=a.useStyles2(m),[v,y]=o.useState(!1),[w,E]=o.useState(u),[S,O]=o.useState(c),[C,A]=o.useState(null),[x,D]=o.useState(null),[P,I]=o.useState(b(e,r,i)),R=o.useCallback((e,t)=>{if(d){const n=e.getModel();n?.setEOL(t.editor.EndOfLineSequence.LF)}},[d]),T=o.useCallback((e,t)=>{R(e,t),A(e),l&&l(e,t)},[R,l]),k=o.useCallback((e,t)=>{if(R(e,t),D(e),C){const t=C?.getPosition();t&&(e.setPosition({lineNumber:t.lineNumber,column:t.column}),e.focus(),setTimeout(()=>{e.revealLineInCenter(t.lineNumber)},0))}l&&l(e,t)},[R,C,l]),_=o.useCallback(e=>{const n=d?e.replaceAll("\n","\\n"):e;t?.(n),I(b(e,r,i))},[i,r,t,d]),L=o.useCallback(e=>{const t=d?e.replaceAll("\n","\\n"):e;n?.(t)},[n,d]);return o.useEffect(()=>{I(b(e,r,i))},[e,r,i]),o.createElement(o.Fragment,null,o.createElement(g,{editorValue:e,setIsOpen:y,monacoEditor:C,isShowMiniMap:w,setIsShowMiniMap:E,currentMonacoOptions:S,setCurrentMonacoOptions:O,readOnly:p.readOnly}),o.createElement(a.CodeEditor,{value:d?e.replaceAll("\\n","\n"):e,showMiniMap:w,height:s??P,monacoOptions:S,onEditorDidMount:T,onChange:_,onBlur:L,...p}),o.createElement(a.Modal,{title:"Code editor",isOpen:v,onDismiss:()=>y(!1),className:h.modal,contentClassName:h.modalBody,closeOnEscape:!0,trapFocus:!0},o.createElement("div",{className:h.content,...f.codeEditor.modal.apply()},o.createElement(g,{isModal:!0,editorValue:e,setIsOpen:y,isShowMiniMap:w,monacoEditor:x,setIsShowMiniMap:E,currentMonacoOptions:S,setCurrentMonacoOptions:O,readOnly:p.readOnly}),o.createElement(a.CodeEditor,{value:d?e.replaceAll("\\n","\n"):e,showMiniMap:w,containerStyles:h.modalEditor,monacoOptions:S,onEditorDidMount:k,onChange:_,onBlur:L,...p}))))},t.OA=class{constructor(e,t=a.CodeEditorSuggestionItemKind.Property){this.detail=e,this.kind=t,this.value={}}},t.Fn=class{constructor(e,t="context"){this.suggestions=[],this.suggestions.push({label:t,kind:a.CodeEditorSuggestionItemKind.Constant,detail:e.detail}),this.addSuggestions(t,e)}addSuggestions(e,t){Object.entries(t.items).forEach(([t,n])=>{const r=`${e}.${t}`;if("items"in n)return this.suggestions.push({label:r,detail:n.detail,kind:a.CodeEditorSuggestionItemKind.Property}),void this.addSuggestions(r,n);this.suggestions.push({label:r,detail:n.detail,kind:n.kind})})}create(e){return e}},t.MU=({label:e,isOpen:t,onToggle:n,className:r,contentClassName:l,children:c,labelId:u,loading:d=!1,headerDataTestId:p,contentDataTestId:f})=>{const[m,g]=o.useState(t),b=a.useStyles2(h),v=e=>{e.target instanceof HTMLElement&&"A"===e.target.tagName||(e.preventDefault(),e.stopPropagation(),n?.(!m),g(!m))},{current:y}=o.useRef(s.uniqueId()),w=u??`collapse-label-${y}`;return o.useEffect(()=>{g(t)},[t]),o.createElement(o.Fragment,null,o.createElement("div",{onClick:v,className:i.cx(b.header,r)},o.createElement("button",{type:"button",id:`collapse-button-${y}`,className:b.button,onClick:v,"aria-expanded":m&&!d,"aria-controls":`collapse-content-${y}`,"aria-labelledby":w},d?o.createElement(a.Spinner,{className:b.spinner}):o.createElement(a.Icon,{name:m?"angle-up":"angle-down",className:b.icon})),o.createElement("div",{className:b.label,id:`collapse-label-${y}`,"data-testid":p},e)),m&&o.createElement("div",{id:`collapse-content-${y}`,className:i.cx(b.content,l),"data-testid":f},c))},t.SD=({title:e,actions:t,children:n,isOpen:r=!1,onToggle:s,headerTestId:l,contentTestId:c,fill:u="outline",isInlineContent:d=!1,isExpandDisabled:p=!1})=>{const f=a.useTheme2(),h=a.useStyles2(v),m="solid"===u,g="outline"===u;return o.createElement("div",{className:i.cx({[h.rootOutline]:g})},o.createElement("div",{className:i.cx(h.header,{[h.headerSolid]:m}),"data-testid":l,onClick:()=>{p||s?.(!r)}},o.createElement(a.IconButton,{name:r?"angle-down":"angle-right",tooltip:r?"Collapse":"Expand",className:h.collapseIcon,disabled:p,"aria-expanded":r}),o.createElement("div",{className:h.title},e),t&&o.createElement("div",{className:h.actions,onClick:e=>e.stopPropagation()},t)),r&&o.createElement("div",{style:{padding:d?0:f.spacing(.5)},"data-testid":c},n))},t.dy=({value:e,onChange:t})=>{const n=w(),r=o.useMemo(()=>n.map(e=>({label:e.name,value:e.uid})),[n]);return o.createElement(a.Select,{onChange:e=>{t(e.value)},options:r,value:e,...f.datasourceEditor.fieldSelect.apply()})},t.lp=({value:e,onChange:t,datasourceUid:n})=>{const r=l.getDataSourceSrv(),i=l.getTemplateSrv(),[s,c]=o.useState(),[u,d]=o.useState(!0),{startTimer:p,removeTimer:h}=(()=>{const e=o.useRef(null),t=o.useCallback(()=>{e.current&&(clearTimeout(e.current),e.current=null)},[]);return{startTimer:o.useCallback(n=>{t(),e.current=setTimeout(()=>{n(),e.current=null},1e3)},[t]),removeTimer:t}})(),[m,g]=o.useState(e),[b,v]=o.useState(!1),y=o.useCallback(e=>{g(e),v(!0)},[]),w=o.useCallback(()=>null,[]),E=o.useCallback(()=>{t(m),v(!1)},[t,m]);if(o.useEffect(()=>{const e=async e=>{d(!0);const t=await r.get(e);return d(!1),t};(async()=>{const t=s,r=i.replace(n);if(t&&t.uid!==r){const n=await e(r);t.type!==n.type&&y({}),c(n)}r&&!s&&c(await e(r))})()},[n,r,s,y,i]),o.useEffect(()=>(b?p(E):h(),()=>{h()}),[p,b,E,h]),u)return o.createElement(a.Alert,{severity:"info",title:"Please Wait",...f.payloadEditor.loadingMessage.apply()},o.createElement(a.LoadingPlaceholder,{text:"Loading..."}));if(!s||!s.components?.QueryEditor)return o.createElement(a.Alert,{title:"No Query Editor",severity:"error",...f.payloadEditor.errorMessage.apply()});const S=s.components.QueryEditor;return o.createElement(S,{datasource:s,query:m,onChange:y,onRunQuery:w})},t.Q7=O,t.rC=()=>o.useCallback(()=>window.__grafanaSceneContext?c.sceneGraph.getTimeRange(window.__grafanaSceneContext)?.onRefresh():l.getAppEvents().publish({type:"variables-changed",payload:{refreshAll:!0}}),[]),t.ki=()=>o.useCallback(async({query:e,datasource:t,replaceVariables:n,payload:r})=>{const a=await l.getDataSourceSrv().get(t),o=n(JSON.stringify(e,null,2),{payload:{value:r}}),i=JSON.parse(o);try{const e=a.query({targets:[i]}),t=e=>{if(e.state&&e.state===u.LoadingState.Error)throw e?.errors?.[0]||e;return e};return e instanceof Promise?await e.then(t):await d.lastValueFrom(e).then(t)}catch(e){throw new y(e,o)}},[])},7781:t=>{"use strict";t.exports=e},7840:(e,t,n)=>{"use strict";const r=n(7944),a=n(8395);e.exports=(e,t,n)=>{let o=null,i=null,s=null;try{s=new a(t,n)}catch(e){return null}return e.forEach(e=>{s.test(e)&&(o&&-1!==i.compare(e)||(o=e,i=new r(o,n)))}),o}},7842:(e,t,n)=>{e=n.nmd(e);var r="__lodash_hash_undefined__",a=9007199254740991,o="[object Arguments]",i="[object Array]",s="[object Boolean]",l="[object Date]",c="[object Error]",u="[object Function]",d="[object Map]",p="[object Number]",f="[object Object]",h="[object Promise]",m="[object RegExp]",g="[object Set]",b="[object String]",v="[object WeakMap]",y="[object ArrayBuffer]",w="[object DataView]",E=/^\[object .+?Constructor\]$/,S=/^(?:0|[1-9]\d*)$/,O={};O["[object Float32Array]"]=O["[object Float64Array]"]=O["[object Int8Array]"]=O["[object Int16Array]"]=O["[object Int32Array]"]=O["[object Uint8Array]"]=O["[object Uint8ClampedArray]"]=O["[object Uint16Array]"]=O["[object Uint32Array]"]=!0,O[o]=O[i]=O[y]=O[s]=O[w]=O[l]=O[c]=O[u]=O[d]=O[p]=O[f]=O[m]=O[g]=O[b]=O[v]=!1;var C="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,A="object"==typeof self&&self&&self.Object===Object&&self,x=C||A||Function("return this")(),D=t&&!t.nodeType&&t,P=D&&e&&!e.nodeType&&e,I=P&&P.exports===D,R=I&&C.process,T=function(){try{return R&&R.binding&&R.binding("util")}catch(e){}}(),k=T&&T.isTypedArray;function _(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function L(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}function M(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}var B,j,N,V=Array.prototype,F=Function.prototype,$=Object.prototype,U=x["__core-js_shared__"],z=F.toString,W=$.hasOwnProperty,H=(B=/[^.]+$/.exec(U&&U.keys&&U.keys.IE_PROTO||""))?"Symbol(src)_1."+B:"",G=$.toString,q=RegExp("^"+z.call(W).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Q=I?x.Buffer:void 0,Y=x.Symbol,K=x.Uint8Array,X=$.propertyIsEnumerable,Z=V.splice,J=Y?Y.toStringTag:void 0,ee=Object.getOwnPropertySymbols,te=Q?Q.isBuffer:void 0,ne=(j=Object.keys,N=Object,function(e){return j(N(e))}),re=Pe(x,"DataView"),ae=Pe(x,"Map"),oe=Pe(x,"Promise"),ie=Pe(x,"Set"),se=Pe(x,"WeakMap"),le=Pe(Object,"create"),ce=ke(re),ue=ke(ae),de=ke(oe),pe=ke(ie),fe=ke(se),he=Y?Y.prototype:void 0,me=he?he.valueOf:void 0;function ge(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function be(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function ve(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function ye(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new ve;++t<n;)this.add(e[t])}function we(e){var t=this.__data__=new be(e);this.size=t.size}function Ee(e,t){for(var n=e.length;n--;)if(_e(e[n][0],t))return n;return-1}function Se(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":J&&J in Object(e)?function(e){var t=W.call(e,J),n=e[J];try{e[J]=void 0;var r=!0}catch(e){}var a=G.call(e);return r&&(t?e[J]=n:delete e[J]),a}(e):function(e){return G.call(e)}(e)}function Oe(e){return Fe(e)&&Se(e)==o}function Ce(e,t,n,r,a){return e===t||(null==e||null==t||!Fe(e)&&!Fe(t)?e!=e&&t!=t:function(e,t,n,r,a,u){var h=Me(e),v=Me(t),E=h?i:Re(e),S=v?i:Re(t),O=(E=E==o?f:E)==f,C=(S=S==o?f:S)==f,A=E==S;if(A&&Be(e)){if(!Be(t))return!1;h=!0,O=!1}if(A&&!O)return u||(u=new we),h||$e(e)?Ae(e,t,n,r,a,u):function(e,t,n,r,a,o,i){switch(n){case w:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case y:return!(e.byteLength!=t.byteLength||!o(new K(e),new K(t)));case s:case l:case p:return _e(+e,+t);case c:return e.name==t.name&&e.message==t.message;case m:case b:return e==t+"";case d:var u=L;case g:var f=1&r;if(u||(u=M),e.size!=t.size&&!f)return!1;var h=i.get(e);if(h)return h==t;r|=2,i.set(e,t);var v=Ae(u(e),u(t),r,a,o,i);return i.delete(e),v;case"[object Symbol]":if(me)return me.call(e)==me.call(t)}return!1}(e,t,E,n,r,a,u);if(!(1&n)){var x=O&&W.call(e,"__wrapped__"),D=C&&W.call(t,"__wrapped__");if(x||D){var P=x?e.value():e,I=D?t.value():t;return u||(u=new we),a(P,I,n,r,u)}}return!!A&&(u||(u=new we),function(e,t,n,r,a,o){var i=1&n,s=xe(e),l=s.length;if(l!=xe(t).length&&!i)return!1;for(var c=l;c--;){var u=s[c];if(!(i?u in t:W.call(t,u)))return!1}var d=o.get(e);if(d&&o.get(t))return d==t;var p=!0;o.set(e,t),o.set(t,e);for(var f=i;++c<l;){var h=e[u=s[c]],m=t[u];if(r)var g=i?r(m,h,u,t,e,o):r(h,m,u,e,t,o);if(!(void 0===g?h===m||a(h,m,n,r,o):g)){p=!1;break}f||(f="constructor"==u)}if(p&&!f){var b=e.constructor,v=t.constructor;b==v||!("constructor"in e)||!("constructor"in t)||"function"==typeof b&&b instanceof b&&"function"==typeof v&&v instanceof v||(p=!1)}return o.delete(e),o.delete(t),p}(e,t,n,r,a,u))}(e,t,n,r,Ce,a))}function Ae(e,t,n,r,a,o){var i=1&n,s=e.length,l=t.length;if(s!=l&&!(i&&l>s))return!1;var c=o.get(e);if(c&&o.get(t))return c==t;var u=-1,d=!0,p=2&n?new ye:void 0;for(o.set(e,t),o.set(t,e);++u<s;){var f=e[u],h=t[u];if(r)var m=i?r(h,f,u,t,e,o):r(f,h,u,e,t,o);if(void 0!==m){if(m)continue;d=!1;break}if(p){if(!_(t,function(e,t){if(i=t,!p.has(i)&&(f===e||a(f,e,n,r,o)))return p.push(t);var i})){d=!1;break}}else if(f!==h&&!a(f,h,n,r,o)){d=!1;break}}return o.delete(e),o.delete(t),d}function xe(e){return function(e,t,n){var r=t(e);return Me(e)?r:function(e,t){for(var n=-1,r=t.length,a=e.length;++n<r;)e[a+n]=t[n];return e}(r,n(e))}(e,Ue,Ie)}function De(e,t){var n,r,a=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?a["string"==typeof t?"string":"hash"]:a.map}function Pe(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return function(e){return!(!Ve(e)||function(e){return!!H&&H in e}(e))&&(je(e)?q:E).test(ke(e))}(n)?n:void 0}ge.prototype.clear=function(){this.__data__=le?le(null):{},this.size=0},ge.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},ge.prototype.get=function(e){var t=this.__data__;if(le){var n=t[e];return n===r?void 0:n}return W.call(t,e)?t[e]:void 0},ge.prototype.has=function(e){var t=this.__data__;return le?void 0!==t[e]:W.call(t,e)},ge.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=le&&void 0===t?r:t,this},be.prototype.clear=function(){this.__data__=[],this.size=0},be.prototype.delete=function(e){var t=this.__data__,n=Ee(t,e);return!(n<0||(n==t.length-1?t.pop():Z.call(t,n,1),--this.size,0))},be.prototype.get=function(e){var t=this.__data__,n=Ee(t,e);return n<0?void 0:t[n][1]},be.prototype.has=function(e){return Ee(this.__data__,e)>-1},be.prototype.set=function(e,t){var n=this.__data__,r=Ee(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},ve.prototype.clear=function(){this.size=0,this.__data__={hash:new ge,map:new(ae||be),string:new ge}},ve.prototype.delete=function(e){var t=De(this,e).delete(e);return this.size-=t?1:0,t},ve.prototype.get=function(e){return De(this,e).get(e)},ve.prototype.has=function(e){return De(this,e).has(e)},ve.prototype.set=function(e,t){var n=De(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},ye.prototype.add=ye.prototype.push=function(e){return this.__data__.set(e,r),this},ye.prototype.has=function(e){return this.__data__.has(e)},we.prototype.clear=function(){this.__data__=new be,this.size=0},we.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},we.prototype.get=function(e){return this.__data__.get(e)},we.prototype.has=function(e){return this.__data__.has(e)},we.prototype.set=function(e,t){var n=this.__data__;if(n instanceof be){var r=n.__data__;if(!ae||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new ve(r)}return n.set(e,t),this.size=n.size,this};var Ie=ee?function(e){return null==e?[]:(e=Object(e),function(e,t){for(var n=-1,r=null==e?0:e.length,a=0,o=[];++n<r;){var i=e[n];t(i)&&(o[a++]=i)}return o}(ee(e),function(t){return X.call(e,t)}))}:function(){return[]},Re=Se;function Te(e,t){return!!(t=null==t?a:t)&&("number"==typeof e||S.test(e))&&e>-1&&e%1==0&&e<t}function ke(e){if(null!=e){try{return z.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function _e(e,t){return e===t||e!=e&&t!=t}(re&&Re(new re(new ArrayBuffer(1)))!=w||ae&&Re(new ae)!=d||oe&&Re(oe.resolve())!=h||ie&&Re(new ie)!=g||se&&Re(new se)!=v)&&(Re=function(e){var t=Se(e),n=t==f?e.constructor:void 0,r=n?ke(n):"";if(r)switch(r){case ce:return w;case ue:return d;case de:return h;case pe:return g;case fe:return v}return t});var Le=Oe(function(){return arguments}())?Oe:function(e){return Fe(e)&&W.call(e,"callee")&&!X.call(e,"callee")},Me=Array.isArray,Be=te||function(){return!1};function je(e){if(!Ve(e))return!1;var t=Se(e);return t==u||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Ne(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=a}function Ve(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Fe(e){return null!=e&&"object"==typeof e}var $e=k?function(e){return function(t){return e(t)}}(k):function(e){return Fe(e)&&Ne(e.length)&&!!O[Se(e)]};function Ue(e){return null!=(t=e)&&Ne(t.length)&&!je(t)?function(e,t){var n=Me(e),r=!n&&Le(e),a=!n&&!r&&Be(e),o=!n&&!r&&!a&&$e(e),i=n||r||a||o,s=i?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],l=s.length;for(var c in e)!t&&!W.call(e,c)||i&&("length"==c||a&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||Te(c,l))||s.push(c);return s}(e):function(e){if(n=(t=e)&&t.constructor,t!==("function"==typeof n&&n.prototype||$))return ne(e);var t,n,r=[];for(var a in Object(e))W.call(e,a)&&"constructor"!=a&&r.push(a);return r}(e);var t}e.exports=function(e,t){return Ce(e,t)}},7850:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var r=n(6438);function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}(e,t)||(0,r.A)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},7871:(e,t,n)=>{"use strict";const r=n(5463);e.exports=(e,t,n)=>r(e,t,">",n)},7930:(e,t,n)=>{"use strict";const r=n(7944),a=n(8395);e.exports=(e,t,n)=>{let o=null,i=null,s=null;try{s=new a(t,n)}catch(e){return null}return e.forEach(e=>{s.test(e)&&(o&&1!==i.compare(e)||(o=e,i=new r(o,n)))}),o}},7944:(e,t,n)=>{"use strict";const r=n(9796),{MAX_LENGTH:a,MAX_SAFE_INTEGER:o}=n(9630),{safeRe:i,t:s}=n(6850),l=n(7095),{compareIdentifiers:c}=n(4031);class u{constructor(e,t){if(t=l(t),e instanceof u){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease)return e;e=e.version}else if("string"!=typeof e)throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>a)throw new TypeError(`version is longer than ${a} characters`);r("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;const n=e.trim().match(t.loose?i[s.LOOSE]:i[s.FULL]);if(!n)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>o||this.major<0)throw new TypeError("Invalid major version");if(this.minor>o||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>o||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(e=>{if(/^[0-9]+$/.test(e)){const t=+e;if(t>=0&&t<o)return t}return e}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(r("SemVer.compare",this.version,this.options,e),!(e instanceof u)){if("string"==typeof e&&e===this.version)return 0;e=new u(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof u||(e=new u(e,this.options)),c(this.major,e.major)||c(this.minor,e.minor)||c(this.patch,e.patch)}comparePre(e){if(e instanceof u||(e=new u(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{const n=this.prerelease[t],a=e.prerelease[t];if(r("prerelease compare",t,n,a),void 0===n&&void 0===a)return 0;if(void 0===a)return 1;if(void 0===n)return-1;if(n!==a)return c(n,a)}while(++t)}compareBuild(e){e instanceof u||(e=new u(e,this.options));let t=0;do{const n=this.build[t],a=e.build[t];if(r("build compare",t,n,a),void 0===n&&void 0===a)return 0;if(void 0===a)return 1;if(void 0===n)return-1;if(n!==a)return c(n,a)}while(++t)}inc(e,t,n){if(e.startsWith("pre")){if(!t&&!1===n)throw new Error("invalid increment argument: identifier is empty");if(t){const e=`-${t}`.match(this.options.loose?i[s.PRERELEASELOOSE]:i[s.PRERELEASE]);if(!e||e[1]!==t)throw new Error(`invalid identifier: ${t}`)}}switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t,n),this.inc("pre",t,n);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t,n),this.inc("pre",t,n);break;case"release":if(0===this.prerelease.length)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":{const e=Number(n)?1:0;if(0===this.prerelease.length)this.prerelease=[e];else{let r=this.prerelease.length;for(;--r>=0;)"number"==typeof this.prerelease[r]&&(this.prerelease[r]++,r=-2);if(-1===r){if(t===this.prerelease.join(".")&&!1===n)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(e)}}if(t){let r=[t,e];!1===n&&(r=[t]),0===c(this.prerelease[0],t)?isNaN(this.prerelease[1])&&(this.prerelease=r):this.prerelease=r}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}e.exports=u},7988:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){}},7994:(e,t,n)=>{"use strict";const r=n(5860);e.exports=(e,t)=>{const n=r(e.trim().replace(/^[=v]+/,""),t);return n?n.version:null}},7997:e=>{"use strict";e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},8002:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>_});var r=n(7405),a=n(1705),o=n(4300),i=n(7850),s=n(694),l=n(4452),c=n.n(l),u=n(9273),d=n(2086),p=n(4358),f=n(5959),h=n(8102),m=n(9644);function g(e,t,n){return(e-t)/(n-t)}function b(e,t,n,r){var a=g(t,n,r),o={};switch(e){case"rtl":o.right="".concat(100*a,"%"),o.transform="translateX(50%)";break;case"btt":o.bottom="".concat(100*a,"%"),o.transform="translateY(50%)";break;case"ttb":o.top="".concat(100*a,"%"),o.transform="translateY(-50%)";break;default:o.left="".concat(100*a,"%"),o.transform="translateX(-50%)"}return o}function v(e,t){return Array.isArray(e)?e[t]:e}var y=n(2772);const w=f.createContext({min:0,max:0,direction:"ltr",step:1,includedStart:0,includedEnd:0,tabIndex:0,keyboard:!0,styles:{},classNames:{}});var E=["prefixCls","value","valueIndex","onStartMove","style","render","dragging","onOffsetChange","onChangeComplete","onFocus","onMouseEnter"];const S=f.forwardRef(function(e,t){var n,o=e.prefixCls,i=e.value,s=e.valueIndex,l=e.onStartMove,u=e.style,d=e.render,p=e.dragging,g=e.onOffsetChange,S=e.onChangeComplete,O=e.onFocus,C=e.onMouseEnter,A=(0,m.A)(e,E),x=f.useContext(w),D=x.min,P=x.max,I=x.direction,R=x.disabled,T=x.keyboard,k=x.range,_=x.tabIndex,L=x.ariaLabelForHandle,M=x.ariaLabelledByForHandle,B=x.ariaValueTextFormatterForHandle,j=x.styles,N=x.classNames,V="".concat(o,"-handle"),F=function(e){R||l(e,s)},$=b(I,i,D,P),U={};null!==s&&(U={tabIndex:R?null:v(_,s),role:"slider","aria-valuemin":D,"aria-valuemax":P,"aria-valuenow":i,"aria-disabled":R,"aria-label":v(L,s),"aria-labelledby":v(M,s),"aria-valuetext":null===(n=v(B,s))||void 0===n?void 0:n(i),"aria-orientation":"ltr"===I||"rtl"===I?"horizontal":"vertical",onMouseDown:F,onTouchStart:F,onFocus:function(e){null==O||O(e,s)},onMouseEnter:function(e){C(e,s)},onKeyDown:function(e){if(!R&&T){var t=null;switch(e.which||e.keyCode){case y.A.LEFT:t="ltr"===I||"btt"===I?-1:1;break;case y.A.RIGHT:t="ltr"===I||"btt"===I?1:-1;break;case y.A.UP:t="ttb"!==I?1:-1;break;case y.A.DOWN:t="ttb"!==I?-1:1;break;case y.A.HOME:t="min";break;case y.A.END:t="max";break;case y.A.PAGE_UP:t=2;break;case y.A.PAGE_DOWN:t=-2}null!==t&&(e.preventDefault(),g(t,s))}},onKeyUp:function(e){switch(e.which||e.keyCode){case y.A.LEFT:case y.A.RIGHT:case y.A.UP:case y.A.DOWN:case y.A.HOME:case y.A.END:case y.A.PAGE_UP:case y.A.PAGE_DOWN:null==S||S()}}});var z=f.createElement("div",(0,h.A)({ref:t,className:c()(V,(0,a.A)((0,a.A)({},"".concat(V,"-").concat(s+1),null!==s&&k),"".concat(V,"-dragging"),p),N.handle),style:(0,r.A)((0,r.A)((0,r.A)({},$),u),j.handle)},U,A));return d&&(z=d(z,{index:s,prefixCls:o,value:i,dragging:p})),z});var O=["prefixCls","style","onStartMove","onOffsetChange","values","handleRender","activeHandleRender","draggingIndex","onFocus"];const C=f.forwardRef(function(e,t){var n=e.prefixCls,a=e.style,o=e.onStartMove,s=e.onOffsetChange,l=e.values,c=e.handleRender,u=e.activeHandleRender,d=e.draggingIndex,p=e.onFocus,g=(0,m.A)(e,O),b=f.useRef({});f.useImperativeHandle(t,function(){return{focus:function(e){var t;null===(t=b.current[e])||void 0===t||t.focus()}}});var y=f.useState(-1),w=(0,i.A)(y,2),E=w[0],C=w[1],A=(0,r.A)({prefixCls:n,onStartMove:o,onOffsetChange:s,render:c,onFocus:function(e,t){C(t),null==p||p(e)},onMouseEnter:function(e,t){C(t)}},g);return f.createElement(f.Fragment,null,l.map(function(e,t){return f.createElement(S,(0,h.A)({ref:function(e){e?b.current[t]=e:delete b.current[t]},dragging:d===t,style:v(a,t),key:t,value:e,valueIndex:t},A))}),u&&f.createElement(S,(0,h.A)({key:"a11y"},A,{value:l[E],valueIndex:null,dragging:-1!==d,render:u,style:{pointerEvents:"none"},tabIndex:null,"aria-hidden":!0})))}),A=function(e){var t=e.prefixCls,n=e.style,o=e.children,i=e.value,s=e.onClick,l=f.useContext(w),u=l.min,d=l.max,p=l.direction,h=l.includedStart,m=l.includedEnd,g=l.included,v="".concat(t,"-text"),y=b(p,i,u,d);return f.createElement("span",{className:c()(v,(0,a.A)({},"".concat(v,"-active"),g&&h<=i&&i<=m)),style:(0,r.A)((0,r.A)({},y),n),onMouseDown:function(e){e.stopPropagation()},onClick:function(){s(i)}},o)},x=function(e){var t=e.prefixCls,n=e.marks,r=e.onClick,a="".concat(t,"-mark");return n.length?f.createElement("div",{className:a},n.map(function(e){var t=e.value,n=e.style,o=e.label;return f.createElement(A,{key:t,prefixCls:a,style:n,value:t,onClick:r},o)})):null},D=function(e){var t=e.prefixCls,n=e.value,o=e.style,i=e.activeStyle,s=f.useContext(w),l=s.min,u=s.max,d=s.direction,p=s.included,h=s.includedStart,m=s.includedEnd,g="".concat(t,"-dot"),v=p&&h<=n&&n<=m,y=(0,r.A)((0,r.A)({},b(d,n,l,u)),"function"==typeof o?o(n):o);return v&&(y=(0,r.A)((0,r.A)({},y),"function"==typeof i?i(n):i)),f.createElement("span",{className:c()(g,(0,a.A)({},"".concat(g,"-active"),v)),style:y})},P=function(e){var t=e.prefixCls,n=e.marks,r=e.dots,a=e.style,o=e.activeStyle,i=f.useContext(w),s=i.min,l=i.max,c=i.step,u=f.useMemo(function(){var e=new Set;if(n.forEach(function(t){e.add(t.value)}),r&&null!==c)for(var t=s;t<=l;)e.add(t),t+=c;return Array.from(e)},[s,l,c,r,n]);return f.createElement("div",{className:"".concat(t,"-step")},u.map(function(e){return f.createElement(D,{prefixCls:t,key:e,value:e,style:a,activeStyle:o})}))},I=function(e){var t=e.prefixCls,n=e.style,o=e.start,i=e.end,s=e.index,l=e.onStartMove,u=e.replaceCls,d=f.useContext(w),p=d.direction,h=d.min,m=d.max,b=d.disabled,v=d.range,y=d.classNames,E="".concat(t,"-track"),S=g(o,h,m),O=g(i,h,m),C=function(e){!b&&l&&l(e,-1)},A={};switch(p){case"rtl":A.right="".concat(100*S,"%"),A.width="".concat(100*O-100*S,"%");break;case"btt":A.bottom="".concat(100*S,"%"),A.height="".concat(100*O-100*S,"%");break;case"ttb":A.top="".concat(100*S,"%"),A.height="".concat(100*O-100*S,"%");break;default:A.left="".concat(100*S,"%"),A.width="".concat(100*O-100*S,"%")}var x=u||c()(E,(0,a.A)((0,a.A)({},"".concat(E,"-").concat(s+1),null!==s&&v),"".concat(t,"-track-draggable"),l),y.track);return f.createElement("div",{className:x,style:(0,r.A)((0,r.A)({},A),n),onMouseDown:C,onTouchStart:C})},R=function(e){var t=e.prefixCls,n=e.style,a=e.values,o=e.startPoint,i=e.onStartMove,s=f.useContext(w),l=s.included,u=s.range,d=s.min,p=s.styles,h=s.classNames,m=f.useMemo(function(){if(!u){if(0===a.length)return[];var e=null!=o?o:d,t=a[0];return[{start:Math.min(e,t),end:Math.max(e,t)}]}for(var n=[],r=0;r<a.length-1;r+=1)n.push({start:a[r],end:a[r+1]});return n},[a,u,o,d]);if(!l)return null;var g=h.tracks||p.tracks?f.createElement(I,{index:null,prefixCls:t,start:m[0].start,end:m[m.length-1].end,replaceCls:c()(h.tracks,"".concat(t,"-tracks")),style:p.tracks}):null;return f.createElement(f.Fragment,null,g,m.map(function(e,a){var o=e.start,s=e.end;return f.createElement(I,{index:a,prefixCls:t,style:(0,r.A)((0,r.A)({},v(n,a)),p.track),start:o,end:s,key:a,onStartMove:i})}))};var T=n(291);function k(e){var t="touches"in e?e.touches[0]:e;return{pageX:t.pageX,pageY:t.pageY}}const _=f.forwardRef(function(e,t){var n=e.prefixCls,l=void 0===n?"rc-slider":n,h=e.className,m=e.style,g=e.classNames,b=e.styles,v=e.disabled,y=void 0!==v&&v,E=e.keyboard,S=void 0===E||E,O=e.autoFocus,A=e.onFocus,D=e.onBlur,I=e.min,_=void 0===I?0:I,L=e.max,M=void 0===L?100:L,B=e.step,j=void 0===B?1:B,N=e.value,V=e.defaultValue,F=e.range,$=e.count,U=e.onChange,z=e.onBeforeChange,W=e.onAfterChange,H=e.onChangeComplete,G=e.allowCross,q=void 0===G||G,Q=e.pushable,Y=void 0!==Q&&Q,K=e.draggableTrack,X=e.reverse,Z=e.vertical,J=e.included,ee=void 0===J||J,te=e.startPoint,ne=e.trackStyle,re=e.handleStyle,ae=e.railStyle,oe=e.dotStyle,ie=e.activeDotStyle,se=e.marks,le=e.dots,ce=e.handleRender,ue=e.activeHandleRender,de=e.tabIndex,pe=void 0===de?0:de,fe=e.ariaLabelForHandle,he=e.ariaLabelledByForHandle,me=e.ariaValueTextFormatterForHandle,ge=f.useRef(null),be=f.useRef(null),ve=f.useMemo(function(){return Z?X?"ttb":"btt":X?"rtl":"ltr"},[X,Z]),ye=f.useMemo(function(){return isFinite(_)?_:0},[_]),we=f.useMemo(function(){return isFinite(M)?M:100},[M]),Ee=f.useMemo(function(){return null!==j&&j<=0?1:j},[j]),Se=f.useMemo(function(){return"boolean"==typeof Y?!!Y&&Ee:Y>=0&&Y},[Y,Ee]),Oe=f.useMemo(function(){return Object.keys(se||{}).map(function(e){var t=se[e],n={value:Number(e)};return t&&"object"===(0,s.A)(t)&&!f.isValidElement(t)&&("label"in t||"style"in t)?(n.style=t.style,n.label=t.label):n.label=t,n}).filter(function(e){var t=e.label;return t||"number"==typeof t}).sort(function(e,t){return e.value-t.value})},[se]),Ce=function(e,t,n,r,a,i){var s=f.useCallback(function(n){return Math.max(e,Math.min(t,n))},[e,t]),l=f.useCallback(function(r){if(null!==n){var a=e+Math.round((s(r)-e)/n)*n,o=function(e){return(String(e).split(".")[1]||"").length},i=Math.max(o(n),o(t),o(e)),l=Number(a.toFixed(i));return e<=l&&l<=t?l:null}return null},[n,e,t,s]),c=f.useCallback(function(a){var o=s(a),i=r.map(function(e){return e.value});null!==n&&i.push(l(a)),i.push(e,t);var c=i[0],u=t-e;return i.forEach(function(e){var t=Math.abs(o-e);t<=u&&(c=e,u=t)}),c},[e,t,r,n,s,l]),u=function a(i,s,c){var u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"unit";if("number"==typeof s){var d,p=i[c],f=p+s,h=[];r.forEach(function(e){h.push(e.value)}),h.push(e,t),h.push(l(p));var m=s>0?1:-1;"unit"===u?h.push(l(p+m*n)):h.push(l(f)),h=h.filter(function(e){return null!==e}).filter(function(e){return s<0?e<=p:e>=p}),"unit"===u&&(h=h.filter(function(e){return e!==p}));var g="unit"===u?p:f;d=h[0];var b=Math.abs(d-g);if(h.forEach(function(e){var t=Math.abs(e-g);t<b&&(d=e,b=t)}),void 0===d)return s<0?e:t;if("dist"===u)return d;if(Math.abs(s)>1){var v=(0,o.A)(i);return v[c]=d,a(v,s-m,c,u)}return d}return"min"===s?e:"max"===s?t:void 0},d=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"unit",a=e[n],o=u(e,t,n,r);return{value:o,changed:o!==a}},p=function(e){return null===i&&0===e||"number"==typeof i&&e<i};return[c,function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"unit",o=e.map(c),s=o[n],l=u(o,t,n,r);if(o[n]=l,!1===a){var f=i||0;n>0&&o[n-1]!==s&&(o[n]=Math.max(o[n],o[n-1]+f)),n<o.length-1&&o[n+1]!==s&&(o[n]=Math.min(o[n],o[n+1]-f))}else if("number"==typeof i||null===i){for(var h=n+1;h<o.length;h+=1)for(var m=!0;p(o[h]-o[h-1])&&m;){var g=d(o,1,h);o[h]=g.value,m=g.changed}for(var b=n;b>0;b-=1)for(var v=!0;p(o[b]-o[b-1])&&v;){var y=d(o,-1,b-1);o[b-1]=y.value,v=y.changed}for(var w=o.length-1;w>0;w-=1)for(var E=!0;p(o[w]-o[w-1])&&E;){var S=d(o,-1,w-1);o[w-1]=S.value,E=S.changed}for(var O=0;O<o.length-1;O+=1)for(var C=!0;p(o[O+1]-o[O])&&C;){var A=d(o,1,O+1);o[O+1]=A.value,C=A.changed}}return{value:o[n],values:o}}]}(ye,we,Ee,Oe,q,Se),Ae=(0,i.A)(Ce,2),xe=Ae[0],De=Ae[1],Pe=(0,u.A)(V,{value:N}),Ie=(0,i.A)(Pe,2),Re=Ie[0],Te=Ie[1],ke=f.useMemo(function(){var e=null==Re?[]:Array.isArray(Re)?Re:[Re],t=(0,i.A)(e,1)[0],n=null===Re?[]:[void 0===t?ye:t];if(F){if(n=(0,o.A)(e),$||void 0===Re){var r=$>=0?$+1:2;for(n=n.slice(0,r);n.length<r;){var a;n.push(null!==(a=n[n.length-1])&&void 0!==a?a:ye)}}n.sort(function(e,t){return e-t})}return n.forEach(function(e,t){n[t]=xe(e)}),n},[Re,F,ye,$,xe]),_e=f.useRef(ke);_e.current=ke;var Le=function(e){return F?e:e[0]},Me=function(e){var t=(0,o.A)(e).sort(function(e,t){return e-t});U&&!(0,d.A)(t,_e.current,!0)&&U(Le(t)),Te(t)},Be=function(){var e=Le(_e.current);null==W||W(e),(0,p.Ay)(!W,"[rc-slider] `onAfterChange` is deprecated. Please use `onChangeComplete` instead."),null==H||H(e)},je=function(e,t,n,r,a,s,l,c,u){var d=f.useState(null),p=(0,i.A)(d,2),h=p[0],m=p[1],g=f.useState(-1),b=(0,i.A)(g,2),v=b[0],y=b[1],w=f.useState(n),E=(0,i.A)(w,2),S=E[0],O=E[1],C=f.useState(n),A=(0,i.A)(C,2),x=A[0],D=A[1],P=f.useRef(null),I=f.useRef(null);f.useLayoutEffect(function(){-1===v&&O(n)},[n,v]),f.useEffect(function(){return function(){document.removeEventListener("mousemove",P.current),document.removeEventListener("mouseup",I.current),document.removeEventListener("touchmove",P.current),document.removeEventListener("touchend",I.current)}},[]);var R=function(e,t){S.some(function(t,n){return t!==e[n]})&&(void 0!==t&&m(t),O(e),l(e))},_=(0,T._q)(function(e,t){if(-1===e){var n=x[0],i=x[x.length-1],l=r-n,c=a-i,d=t*(a-r);d=Math.max(d,l),d=Math.min(d,c);var p=s(n+d);d=p-n;var f=x.map(function(e){return e+d});R(f)}else{var h=(a-r)*t,m=(0,o.A)(S);m[e]=x[e];var g=u(m,h,e,"dist");R(g.values,g.value)}}),L=f.useMemo(function(){var e=(0,o.A)(n).sort(function(e,t){return e-t}),t=(0,o.A)(S).sort(function(e,t){return e-t});return e.every(function(e,n){return e===t[n]})?S:n},[n,S]);return[v,h,L,function(r,a,o){r.stopPropagation();var i=o||n,s=i[a];y(a),m(s),D(i);var l=k(r),u=l.pageX,d=l.pageY,p=function(n){n.preventDefault();var r,o=k(n),i=o.pageX,s=o.pageY,l=i-u,c=s-d,p=e.current.getBoundingClientRect(),f=p.width,h=p.height;switch(t){case"btt":r=-c/h;break;case"ttb":r=c/h;break;case"rtl":r=-l/f;break;default:r=l/f}_(a,r)},f=function e(t){t.preventDefault(),document.removeEventListener("mouseup",e),document.removeEventListener("mousemove",p),document.removeEventListener("touchend",e),document.removeEventListener("touchmove",p),P.current=null,I.current=null,y(-1),c()};document.addEventListener("mouseup",f),document.addEventListener("mousemove",p),document.addEventListener("touchend",f),document.addEventListener("touchmove",p),P.current=p,I.current=f}]}(be,ve,ke,ye,we,xe,Me,Be,De),Ne=(0,i.A)(je,4),Ve=Ne[0],Fe=Ne[1],$e=Ne[2],Ue=Ne[3],ze=function(e,t){if(!y){var n=0,r=we-ye;ke.forEach(function(t,a){var o=Math.abs(e-t);o<=r&&(r=o,n=a)});var a,i,s=(0,o.A)(ke);s[n]=e,F&&!ke.length&&void 0===$&&s.push(e),null==z||z(Le(s)),Me(s),t&&(null===(a=document.activeElement)||void 0===a||null===(i=a.blur)||void 0===i||i.call(a),ge.current.focus(n),Ue(t,n,s))}},We=f.useState(null),He=(0,i.A)(We,2),Ge=He[0],qe=He[1];f.useEffect(function(){if(null!==Ge){var e=ke.indexOf(Ge);e>=0&&ge.current.focus(e)}qe(null)},[Ge]);var Qe=f.useMemo(function(){return(!K||null!==Ee)&&K},[K,Ee]),Ye=function(e,t){Ue(e,t),null==z||z(Le(_e.current))},Ke=-1!==Ve;f.useEffect(function(){if(!Ke){var e=ke.lastIndexOf(Fe);ge.current.focus(e)}},[Ke]);var Xe=f.useMemo(function(){return(0,o.A)($e).sort(function(e,t){return e-t})},[$e]),Ze=f.useMemo(function(){return F?[Xe[0],Xe[Xe.length-1]]:[ye,Xe[0]]},[Xe,F,ye]),Je=(0,i.A)(Ze,2),et=Je[0],tt=Je[1];f.useImperativeHandle(t,function(){return{focus:function(){ge.current.focus(0)},blur:function(){var e,t=document.activeElement;null!==(e=be.current)&&void 0!==e&&e.contains(t)&&(null==t||t.blur())}}}),f.useEffect(function(){O&&ge.current.focus(0)},[]);var nt=f.useMemo(function(){return{min:ye,max:we,direction:ve,disabled:y,keyboard:S,step:Ee,included:ee,includedStart:et,includedEnd:tt,range:F,tabIndex:pe,ariaLabelForHandle:fe,ariaLabelledByForHandle:he,ariaValueTextFormatterForHandle:me,styles:b||{},classNames:g||{}}},[ye,we,ve,y,S,Ee,ee,et,tt,F,pe,fe,he,me,b,g]);return f.createElement(w.Provider,{value:nt},f.createElement("div",{ref:be,className:c()(l,h,(0,a.A)((0,a.A)((0,a.A)((0,a.A)({},"".concat(l,"-disabled"),y),"".concat(l,"-vertical"),Z),"".concat(l,"-horizontal"),!Z),"".concat(l,"-with-marks"),Oe.length)),style:m,onMouseDown:function(e){e.preventDefault();var t,n=be.current.getBoundingClientRect(),r=n.width,a=n.height,o=n.left,i=n.top,s=n.bottom,l=n.right,c=e.clientX,u=e.clientY;switch(ve){case"btt":t=(s-u)/a;break;case"ttb":t=(u-i)/a;break;case"rtl":t=(l-c)/r;break;default:t=(c-o)/r}ze(xe(ye+t*(we-ye)),e)}},f.createElement("div",{className:c()("".concat(l,"-rail"),null==g?void 0:g.rail),style:(0,r.A)((0,r.A)({},ae),null==b?void 0:b.rail)}),f.createElement(R,{prefixCls:l,style:ne,values:Xe,startPoint:te,onStartMove:Qe?Ye:void 0}),f.createElement(P,{prefixCls:l,marks:Oe,dots:le,style:oe,activeStyle:ie}),f.createElement(C,{ref:ge,prefixCls:l,style:re,values:$e,draggingIndex:Ve,onStartMove:Ye,onOffsetChange:function(e,t){if(!y){var n=De(ke,e,t);null==z||z(Le(ke)),Me(n.values),qe(n.value)}},onFocus:A,onBlur:D,handleRender:ce,activeHandleRender:ue,onChangeComplete:Be}),f.createElement(x,{prefixCls:l,marks:Oe,onClick:ze})))})},8100:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=p(n(5959)),o=p(n(2688)),i=n(8230),s=n(936),l=n(414),c=n(906),u=n(7222),d=p(n(7256));function p(e){return e&&e.__esModule?e:{default:e}}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach(function(t){y(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t){return g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},g(e,t)}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var w=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&g(e,t)}(f,e);var t,n,o,u,p=(o=f,u=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t=v(o);if(u){var n=v(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return b(e)}(this,e)});function f(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return y(b(e=p.call.apply(p,[this].concat(n))),"state",{resizing:null,dragging:null,className:""}),y(b(e),"elementRef",a.default.createRef()),y(b(e),"onDragStart",function(t,n){var r=n.node,a=e.props,o=a.onDragStart,i=a.transformScale;if(o){var s={top:0,left:0},l=r.offsetParent;if(l){var u=l.getBoundingClientRect(),d=r.getBoundingClientRect(),p=d.left/i,f=u.left/i,h=d.top/i,m=u.top/i;s.left=p-f+l.scrollLeft,s.top=h-m+l.scrollTop,e.setState({dragging:s});var g=(0,c.calcXY)(e.getPositionParams(),s.top,s.left,e.props.w,e.props.h),v=g.x,y=g.y;return o.call(b(e),e.props.i,v,y,{e:t,node:r,newPosition:s})}}}),y(b(e),"onDrag",function(t,n){var r=n.node,a=n.deltaX,o=n.deltaY,i=e.props.onDrag;if(i){if(!e.state.dragging)throw new Error("onDrag called before onDragStart.");var s=e.state.dragging.top+o,l=e.state.dragging.left+a,u=e.props,d=u.isBounded,p=u.i,f=u.w,h=u.h,m=u.containerWidth,g=e.getPositionParams();if(d){var v=r.offsetParent;if(v){var y=e.props,w=y.margin,E=y.rowHeight,S=v.clientHeight-(0,c.calcGridItemWHPx)(h,E,w[1]);s=(0,c.clamp)(s,0,S);var O=(0,c.calcGridColWidth)(g),C=m-(0,c.calcGridItemWHPx)(f,O,w[0]);l=(0,c.clamp)(l,0,C)}}var A={top:s,left:l};e.setState({dragging:A});var x=(0,c.calcXY)(g,s,l,f,h),D=x.x,P=x.y;return i.call(b(e),p,D,P,{e:t,node:r,newPosition:A})}}),y(b(e),"onDragStop",function(t,n){var r=n.node,a=e.props.onDragStop;if(a){if(!e.state.dragging)throw new Error("onDragEnd called before onDragStart.");var o=e.props,i=o.w,s=o.h,l=o.i,u=e.state.dragging,d=u.left,p=u.top,f={top:p,left:d};e.setState({dragging:null});var h=(0,c.calcXY)(e.getPositionParams(),p,d,i,s),m=h.x,g=h.y;return a.call(b(e),l,m,g,{e:t,node:r,newPosition:f})}}),y(b(e),"onResizeStop",function(t,n){e.onResizeHandler(t,n,"onResizeStop")}),y(b(e),"onResizeStart",function(t,n){e.onResizeHandler(t,n,"onResizeStart")}),y(b(e),"onResize",function(t,n){e.onResizeHandler(t,n,"onResize")}),e}return t=f,n=[{key:"shouldComponentUpdate",value:function(e,t){if(this.props.children!==e.children)return!0;if(this.props.droppingPosition!==e.droppingPosition)return!0;var n=(0,c.calcGridItemPosition)(this.getPositionParams(this.props),this.props.x,this.props.y,this.props.w,this.props.h,this.state),r=(0,c.calcGridItemPosition)(this.getPositionParams(e),e.x,e.y,e.w,e.h,t);return!(0,l.fastPositionEqual)(n,r)||this.props.useCSSTransforms!==e.useCSSTransforms}},{key:"componentDidMount",value:function(){this.moveDroppingItem({})}},{key:"componentDidUpdate",value:function(e){this.moveDroppingItem(e)}},{key:"moveDroppingItem",value:function(e){var t=this.props.droppingPosition;if(t){var n=this.elementRef.current;if(n){var r=e.droppingPosition||{left:0,top:0},a=this.state.dragging,o=a&&t.left!==r.left||t.top!==r.top;if(a){if(o){var i=t.left-a.left,s=t.top-a.top;this.onDrag(t.e,{node:n,deltaX:i,deltaY:s})}}else this.onDragStart(t.e,{node:n,deltaX:t.left,deltaY:t.top})}}}},{key:"getPositionParams",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;return{cols:e.cols,containerPadding:e.containerPadding,containerWidth:e.containerWidth,margin:e.margin,maxRows:e.maxRows,rowHeight:e.rowHeight}}},{key:"createStyle",value:function(e){var t,n=this.props,r=n.usePercentages,a=n.containerWidth;return n.useCSSTransforms?t=(0,l.setTransform)(e):(t=(0,l.setTopLeft)(e),r&&(t.left=(0,l.perc)(e.left/a),t.width=(0,l.perc)(e.width/a))),t}},{key:"mixinDraggable",value:function(e,t){return a.default.createElement(i.DraggableCore,{disabled:!t,onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop,handle:this.props.handle,cancel:".react-resizable-handle"+(this.props.cancel?","+this.props.cancel:""),scale:this.props.transformScale,nodeRef:this.elementRef},e)}},{key:"mixinResizable",value:function(e,t,n){var r=this.props,o=r.cols,i=r.x,l=r.minW,u=r.minH,d=r.maxW,p=r.maxH,f=r.transformScale,h=r.resizeHandles,m=r.resizeHandle,g=this.getPositionParams(),b=(0,c.calcGridItemPosition)(g,0,0,o-i,0).width,v=(0,c.calcGridItemPosition)(g,0,0,l,u),y=(0,c.calcGridItemPosition)(g,0,0,d,p),w=[v.width,v.height],E=[Math.min(y.width,b),Math.min(y.height,1/0)];return a.default.createElement(s.Resizable,{draggableOpts:{disabled:!n},className:n?void 0:"react-resizable-hide",width:t.width,height:t.height,minConstraints:w,maxConstraints:E,onResizeStop:this.onResizeStop,onResizeStart:this.onResizeStart,onResize:this.onResize,transformScale:f,resizeHandles:h,handle:m},e)}},{key:"onResizeHandler",value:function(e,t,n){var r=t.node,a=t.size,o=this.props[n];if(o){var i=this.props,s=i.cols,l=i.x,u=i.y,d=i.i,p=i.maxH,f=i.minH,h=this.props,m=h.minW,g=h.maxW,b=(0,c.calcWH)(this.getPositionParams(),a.width,a.height,l,u),v=b.w,y=b.h;m=Math.max(m,1),g=Math.min(g,s-l),v=(0,c.clamp)(v,m,g),y=(0,c.clamp)(y,f,p),this.setState({resizing:"onResizeStop"===n?null:a}),o.call(this,d,v,y,{e,node:r,size:a})}}},{key:"render",value:function(){var e=this.props,t=e.x,n=e.y,r=e.w,o=e.h,i=e.isDraggable,s=e.isResizable,l=e.droppingPosition,u=e.useCSSTransforms,p=(0,c.calcGridItemPosition)(this.getPositionParams(),t,n,r,o,this.state),f=a.default.Children.only(this.props.children),m=a.default.cloneElement(f,{ref:this.elementRef,className:(0,d.default)("react-grid-item",f.props.className,this.props.className,{static:this.props.static,resizing:Boolean(this.state.resizing),"react-draggable":i,"react-draggable-dragging":Boolean(this.state.dragging),dropping:Boolean(l),cssTransforms:u}),style:h(h(h({},this.props.style),f.props.style),this.createStyle(p))});return m=this.mixinResizable(m,p,s),this.mixinDraggable(m,i)}}],n&&m(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),f}(a.default.Component);t.default=w,y(w,"propTypes",{children:o.default.element,cols:o.default.number.isRequired,containerWidth:o.default.number.isRequired,rowHeight:o.default.number.isRequired,margin:o.default.array.isRequired,maxRows:o.default.number.isRequired,containerPadding:o.default.array.isRequired,x:o.default.number.isRequired,y:o.default.number.isRequired,w:o.default.number.isRequired,h:o.default.number.isRequired,minW:function(e,t){var n=e[t];return"number"!=typeof n?new Error("minWidth not Number"):n>e.w||n>e.maxW?new Error("minWidth larger than item width/maxWidth"):void 0},maxW:function(e,t){var n=e[t];return"number"!=typeof n?new Error("maxWidth not Number"):n<e.w||n<e.minW?new Error("maxWidth smaller than item width/minWidth"):void 0},minH:function(e,t){var n=e[t];return"number"!=typeof n?new Error("minHeight not Number"):n>e.h||n>e.maxH?new Error("minHeight larger than item height/maxHeight"):void 0},maxH:function(e,t){var n=e[t];return"number"!=typeof n?new Error("maxHeight not Number"):n<e.h||n<e.minH?new Error("maxHeight smaller than item height/minHeight"):void 0},i:o.default.string.isRequired,resizeHandles:u.resizeHandleAxesType,resizeHandle:u.resizeHandleType,onDragStop:o.default.func,onDragStart:o.default.func,onDrag:o.default.func,onResizeStop:o.default.func,onResizeStart:o.default.func,onResize:o.default.func,isDraggable:o.default.bool.isRequired,isResizable:o.default.bool.isRequired,isBounded:o.default.bool.isRequired,static:o.default.bool,useCSSTransforms:o.default.bool.isRequired,transformScale:o.default.number,className:o.default.string,handle:o.default.string,cancel:o.default.string,droppingPosition:o.default.shape({e:o.default.object.isRequired,left:o.default.number.isRequired,top:o.default.number.isRequired})}),y(w,"defaultProps",{className:"",cancel:"",handle:"",minH:1,minW:1,maxH:1/0,maxW:1/0,transformScale:1})},8102:(e,t,n)=>{"use strict";function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(null,arguments)}n.d(t,{A:()=>r})},8230:(e,t,n)=>{"use strict";const{default:r,DraggableCore:a}=n(9111);e.exports=r,e.exports.default=r,e.exports.DraggableCore=a},8299:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.server_context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.suspense_list"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy");Symbol.for("react.offscreen");Symbol.for("react.module.reference"),t.ForwardRef=u,t.isMemo=function(e){return function(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case a:case i:case o:case d:case p:return e;default:switch(e=e&&e.$$typeof){case c:case l:case u:case h:case f:case s:return e;default:return t}}case r:return t}}}(e)===f}},8395:(e,t,n)=>{"use strict";const r=/\s+/g;class a{constructor(e,t){if(t=i(t),e instanceof a)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new a(e.raw,t);if(e instanceof s)return this.raw=e.value,this.set=[[e]],this.formatted=void 0,this;if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e.trim().replace(r," "),this.set=this.raw.split("||").map(e=>this.parseRange(e.trim())).filter(e=>e.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const e=this.set[0];if(this.set=this.set.filter(e=>!b(e[0])),0===this.set.length)this.set=[e];else if(this.set.length>1)for(const e of this.set)if(1===e.length&&v(e[0])){this.set=[e];break}}this.formatted=void 0}get range(){if(void 0===this.formatted){this.formatted="";for(let e=0;e<this.set.length;e++){e>0&&(this.formatted+="||");const t=this.set[e];for(let e=0;e<t.length;e++)e>0&&(this.formatted+=" "),this.formatted+=t[e].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(e){const t=((this.options.includePrerelease&&m)|(this.options.loose&&g))+":"+e,n=o.get(t);if(n)return n;const r=this.options.loose,a=r?u[d.HYPHENRANGELOOSE]:u[d.HYPHENRANGE];e=e.replace(a,R(this.options.includePrerelease)),l("hyphen replace",e),e=e.replace(u[d.COMPARATORTRIM],p),l("comparator trim",e),e=e.replace(u[d.TILDETRIM],f),l("tilde trim",e),e=e.replace(u[d.CARETTRIM],h),l("caret trim",e);let i=e.split(" ").map(e=>w(e,this.options)).join(" ").split(/\s+/).map(e=>I(e,this.options));r&&(i=i.filter(e=>(l("loose invalid filter",e,this.options),!!e.match(u[d.COMPARATORLOOSE])))),l("range list",i);const c=new Map,v=i.map(e=>new s(e,this.options));for(const e of v){if(b(e))return[e];c.set(e.value,e)}c.size>1&&c.has("")&&c.delete("");const y=[...c.values()];return o.set(t,y),y}intersects(e,t){if(!(e instanceof a))throw new TypeError("a Range is required");return this.set.some(n=>y(n,t)&&e.set.some(e=>y(e,t)&&n.every(n=>e.every(e=>n.intersects(e,t)))))}test(e){if(!e)return!1;if("string"==typeof e)try{e=new c(e,this.options)}catch(e){return!1}for(let t=0;t<this.set.length;t++)if(T(this.set[t],e,this.options))return!0;return!1}}e.exports=a;const o=new(n(1158)),i=n(7095),s=n(9524),l=n(9796),c=n(7944),{safeRe:u,t:d,comparatorTrimReplace:p,tildeTrimReplace:f,caretTrimReplace:h}=n(6850),{FLAG_INCLUDE_PRERELEASE:m,FLAG_LOOSE:g}=n(9630),b=e=>"<0.0.0-0"===e.value,v=e=>""===e.value,y=(e,t)=>{let n=!0;const r=e.slice();let a=r.pop();for(;n&&r.length;)n=r.every(e=>a.intersects(e,t)),a=r.pop();return n},w=(e,t)=>(l("comp",e,t),e=C(e,t),l("caret",e),e=S(e,t),l("tildes",e),e=x(e,t),l("xrange",e),e=P(e,t),l("stars",e),e),E=e=>!e||"x"===e.toLowerCase()||"*"===e,S=(e,t)=>e.trim().split(/\s+/).map(e=>O(e,t)).join(" "),O=(e,t)=>{const n=t.loose?u[d.TILDELOOSE]:u[d.TILDE];return e.replace(n,(t,n,r,a,o)=>{let i;return l("tilde",e,t,n,r,a,o),E(n)?i="":E(r)?i=`>=${n}.0.0 <${+n+1}.0.0-0`:E(a)?i=`>=${n}.${r}.0 <${n}.${+r+1}.0-0`:o?(l("replaceTilde pr",o),i=`>=${n}.${r}.${a}-${o} <${n}.${+r+1}.0-0`):i=`>=${n}.${r}.${a} <${n}.${+r+1}.0-0`,l("tilde return",i),i})},C=(e,t)=>e.trim().split(/\s+/).map(e=>A(e,t)).join(" "),A=(e,t)=>{l("caret",e,t);const n=t.loose?u[d.CARETLOOSE]:u[d.CARET],r=t.includePrerelease?"-0":"";return e.replace(n,(t,n,a,o,i)=>{let s;return l("caret",e,t,n,a,o,i),E(n)?s="":E(a)?s=`>=${n}.0.0${r} <${+n+1}.0.0-0`:E(o)?s="0"===n?`>=${n}.${a}.0${r} <${n}.${+a+1}.0-0`:`>=${n}.${a}.0${r} <${+n+1}.0.0-0`:i?(l("replaceCaret pr",i),s="0"===n?"0"===a?`>=${n}.${a}.${o}-${i} <${n}.${a}.${+o+1}-0`:`>=${n}.${a}.${o}-${i} <${n}.${+a+1}.0-0`:`>=${n}.${a}.${o}-${i} <${+n+1}.0.0-0`):(l("no pr"),s="0"===n?"0"===a?`>=${n}.${a}.${o}${r} <${n}.${a}.${+o+1}-0`:`>=${n}.${a}.${o}${r} <${n}.${+a+1}.0-0`:`>=${n}.${a}.${o} <${+n+1}.0.0-0`),l("caret return",s),s})},x=(e,t)=>(l("replaceXRanges",e,t),e.split(/\s+/).map(e=>D(e,t)).join(" ")),D=(e,t)=>{e=e.trim();const n=t.loose?u[d.XRANGELOOSE]:u[d.XRANGE];return e.replace(n,(n,r,a,o,i,s)=>{l("xRange",e,n,r,a,o,i,s);const c=E(a),u=c||E(o),d=u||E(i),p=d;return"="===r&&p&&(r=""),s=t.includePrerelease?"-0":"",c?n=">"===r||"<"===r?"<0.0.0-0":"*":r&&p?(u&&(o=0),i=0,">"===r?(r=">=",u?(a=+a+1,o=0,i=0):(o=+o+1,i=0)):"<="===r&&(r="<",u?a=+a+1:o=+o+1),"<"===r&&(s="-0"),n=`${r+a}.${o}.${i}${s}`):u?n=`>=${a}.0.0${s} <${+a+1}.0.0-0`:d&&(n=`>=${a}.${o}.0${s} <${a}.${+o+1}.0-0`),l("xRange return",n),n})},P=(e,t)=>(l("replaceStars",e,t),e.trim().replace(u[d.STAR],"")),I=(e,t)=>(l("replaceGTE0",e,t),e.trim().replace(u[t.includePrerelease?d.GTE0PRE:d.GTE0],"")),R=e=>(t,n,r,a,o,i,s,l,c,u,d,p)=>`${n=E(r)?"":E(a)?`>=${r}.0.0${e?"-0":""}`:E(o)?`>=${r}.${a}.0${e?"-0":""}`:i?`>=${n}`:`>=${n}${e?"-0":""}`} ${l=E(c)?"":E(u)?`<${+c+1}.0.0-0`:E(d)?`<${c}.${+u+1}.0-0`:p?`<=${c}.${u}.${d}-${p}`:e?`<${c}.${u}.${+d+1}-0`:`<=${l}`}`.trim(),T=(e,t,n)=>{for(let n=0;n<e.length;n++)if(!e[n].test(t))return!1;if(t.prerelease.length&&!n.includePrerelease){for(let n=0;n<e.length;n++)if(l(e[n].semver),e[n].semver!==s.ANY&&e[n].semver.prerelease.length>0){const r=e[n].semver;if(r.major===t.major&&r.minor===t.minor&&r.patch===t.patch)return!0}return!1}return!0}},8398:e=>{"use strict";e.exports=l},8449:(e,t,n)=>{"use strict";const r=n(6850),a=n(9630),o=n(7944),i=n(4031),s=n(5860),l=n(7645),c=n(7994),u=n(5955),d=n(660),p=n(2966),f=n(5986),h=n(1617),m=n(9613),g=n(5380),b=n(2862),v=n(7023),y=n(2801),w=n(603),E=n(6033),S=n(144),O=n(599),C=n(6909),A=n(7659),x=n(2077),D=n(7092),P=n(3811),I=n(5334),R=n(9524),T=n(8395),k=n(1722),_=n(651),L=n(7840),M=n(7930),B=n(3489),j=n(7494),N=n(5463),V=n(7871),F=n(4266),$=n(1112),U=n(1465),z=n(9252);e.exports={parse:s,valid:l,clean:c,inc:u,diff:d,major:p,minor:f,patch:h,prerelease:m,compare:g,rcompare:b,compareLoose:v,compareBuild:y,sort:w,rsort:E,gt:S,lt:O,eq:C,neq:A,gte:x,lte:D,cmp:P,coerce:I,Comparator:R,Range:T,satisfies:k,toComparators:_,maxSatisfying:L,minSatisfying:M,minVersion:B,validRange:j,outside:N,gtr:V,ltr:F,intersects:$,simplifyRange:U,subset:z,SemVer:o,re:r.re,src:r.src,tokens:r.t,SEMVER_SPEC_VERSION:a.SEMVER_SPEC_VERSION,RELEASE_TYPES:a.RELEASE_TYPES,compareIdentifiers:i.compareIdentifiers,rcompareIdentifiers:i.rcompareIdentifiers}},8531:e=>{"use strict";e.exports=o},8728:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var r=n(5959);function a(e){var t=r.useRef();t.current=e;var n=r.useCallback(function(){for(var e,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return null===(e=t.current)||void 0===e?void 0:e.call.apply(e,[t].concat(r))},[]);return n}},8784:e=>{function t(e){var n,r,a="";if("string"==typeof e||"number"==typeof e)a+=e;else if("object"==typeof e)if(Array.isArray(e)){var o=e.length;for(n=0;n<o;n++)e[n]&&(r=t(e[n]))&&(a&&(a+=" "),a+=r)}else for(r in e)e[r]&&(a&&(a+=" "),a+=r);return a}function n(){for(var e,n,r=0,a="",o=arguments.length;r<o;r++)(e=arguments[r])&&(n=t(e))&&(a&&(a+=" "),a+=n);return a}e.exports=n,e.exports.clsx=n},9088:e=>{"use strict";e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},9089:e=>{"use strict";e.exports=c},9111:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"DraggableCore",{enumerable:!0,get:function(){return u.default}}),t.default=void 0;var r=function(e){if("function"==typeof WeakMap){var t=new WeakMap;new WeakMap}return function(e){if(e&&e.__esModule)return e;var n,r,a={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return a;if(n=t){if(n.has(e))return n.get(e);n.set(e,a)}for(const t in e)"default"!==t&&{}.hasOwnProperty.call(e,t)&&((r=(n=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(r.get||r.set)?n(a,t,r):a[t]=e[t]);return a}(e)}(n(5959)),a=p(n(2688)),o=p(n(8398)),i=n(8784),s=n(2837),l=n(402),c=n(6732),u=p(n(1060)),d=p(n(7988));function p(e){return e&&e.__esModule?e:{default:e}}function f(){return f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f.apply(null,arguments)}function h(e,t,n){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class m extends r.Component{static getDerivedStateFromProps(e,t){let{position:n}=e,{prevPropsPosition:r}=t;return!n||r&&n.x===r.x&&n.y===r.y?null:((0,d.default)("Draggable: getDerivedStateFromProps %j",{position:n,prevPropsPosition:r}),{x:n.x,y:n.y,prevPropsPosition:{...n}})}constructor(e){super(e),h(this,"onDragStart",(e,t)=>{if((0,d.default)("Draggable: onDragStart: %j",t),!1===this.props.onStart(e,(0,l.createDraggableData)(this,t)))return!1;this.setState({dragging:!0,dragged:!0})}),h(this,"onDrag",(e,t)=>{if(!this.state.dragging)return!1;(0,d.default)("Draggable: onDrag: %j",t);const n=(0,l.createDraggableData)(this,t),r={x:n.x,y:n.y,slackX:0,slackY:0};if(this.props.bounds){const{x:e,y:t}=r;r.x+=this.state.slackX,r.y+=this.state.slackY;const[a,o]=(0,l.getBoundPosition)(this,r.x,r.y);r.x=a,r.y=o,r.slackX=this.state.slackX+(e-r.x),r.slackY=this.state.slackY+(t-r.y),n.x=r.x,n.y=r.y,n.deltaX=r.x-this.state.x,n.deltaY=r.y-this.state.y}if(!1===this.props.onDrag(e,n))return!1;this.setState(r)}),h(this,"onDragStop",(e,t)=>{if(!this.state.dragging)return!1;if(!1===this.props.onStop(e,(0,l.createDraggableData)(this,t)))return!1;(0,d.default)("Draggable: onDragStop: %j",t);const n={dragging:!1,slackX:0,slackY:0};if(Boolean(this.props.position)){const{x:e,y:t}=this.props.position;n.x=e,n.y=t}this.setState(n)}),this.state={dragging:!1,dragged:!1,x:e.position?e.position.x:e.defaultPosition.x,y:e.position?e.position.y:e.defaultPosition.y,prevPropsPosition:{...e.position},slackX:0,slackY:0,isElementSVG:!1},!e.position||e.onDrag||e.onStop||console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}componentDidMount(){void 0!==window.SVGElement&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}componentWillUnmount(){this.state.dragging&&this.setState({dragging:!1})}findDOMNode(){return this.props?.nodeRef?.current??o.default.findDOMNode(this)}render(){const{axis:e,bounds:t,children:n,defaultPosition:a,defaultClassName:o,defaultClassNameDragging:c,defaultClassNameDragged:d,position:p,positionOffset:h,scale:m,...g}=this.props;let b={},v=null;const y=!Boolean(p)||this.state.dragging,w=p||a,E={x:(0,l.canDragX)(this)&&y?this.state.x:w.x,y:(0,l.canDragY)(this)&&y?this.state.y:w.y};this.state.isElementSVG?v=(0,s.createSVGTransform)(E,h):b=(0,s.createCSSTransform)(E,h);const S=(0,i.clsx)(n.props.className||"",o,{[c]:this.state.dragging,[d]:this.state.dragged});return r.createElement(u.default,f({},g,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),r.cloneElement(r.Children.only(n),{className:S,style:{...n.props.style,...b},transform:v}))}}t.default=m,h(m,"displayName","Draggable"),h(m,"propTypes",{...u.default.propTypes,axis:a.default.oneOf(["both","x","y","none"]),bounds:a.default.oneOfType([a.default.shape({left:a.default.number,right:a.default.number,top:a.default.number,bottom:a.default.number}),a.default.string,a.default.oneOf([!1])]),defaultClassName:a.default.string,defaultClassNameDragging:a.default.string,defaultClassNameDragged:a.default.string,defaultPosition:a.default.shape({x:a.default.number,y:a.default.number}),positionOffset:a.default.shape({x:a.default.oneOfType([a.default.number,a.default.string]),y:a.default.oneOfType([a.default.number,a.default.string])}),position:a.default.shape({x:a.default.number,y:a.default.number}),className:c.dontSetMe,style:c.dontSetMe,transform:c.dontSetMe}),h(m,"defaultProps",{...u.default.defaultProps,axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1})},9115:(e,t,n)=>{"use strict";n.d(t,{K4:()=>c,Xf:()=>l,A9:()=>f,f3:()=>d,xK:()=>u});var r=n(694),a=n(5959),o=n(4271),i=n(9572),s=Number(a.version.split(".")[0]),l=function(e,t){"function"==typeof e?e(t):"object"===(0,r.A)(e)&&e&&"current"in e&&(e.current=t)},c=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.filter(Boolean);return r.length<=1?r[0]:function(e){t.forEach(function(t){l(t,e)})}},u=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r=function(){return c.apply(void 0,t)},o=t,i=function(e,t){return e.length!==t.length||e.every(function(e,n){return e!==t[n]})},"value"in(s=a.useRef({})).current&&!i(s.current.condition,o)||(s.current.value=r(),s.current.condition=o),s.current.value;var r,o,i,s},d=function(e){var t,n;if(!e)return!1;if(p(e)&&s>=19)return!0;var r=(0,o.isMemo)(e)?e.type.type:e.type;return!!("function"!=typeof r||null!==(t=r.prototype)&&void 0!==t&&t.render||r.$$typeof===o.ForwardRef)&&!!("function"!=typeof e||null!==(n=e.prototype)&&void 0!==n&&n.render||e.$$typeof===o.ForwardRef)};function p(e){return(0,a.isValidElement)(e)&&!(0,i.A)(e)}var f=function(e){if(e&&p(e)){var t=e;return t.props.propertyIsEnumerable("ref")?t.props.ref:t.ref}return null}},9252:(e,t,n)=>{"use strict";const r=n(8395),a=n(9524),{ANY:o}=a,i=n(1722),s=n(5380),l=[new a(">=0.0.0-0")],c=[new a(">=0.0.0")],u=(e,t,n)=>{if(e===t)return!0;if(1===e.length&&e[0].semver===o){if(1===t.length&&t[0].semver===o)return!0;e=n.includePrerelease?l:c}if(1===t.length&&t[0].semver===o){if(n.includePrerelease)return!0;t=c}const r=new Set;let a,u,f,h,m,g,b;for(const t of e)">"===t.operator||">="===t.operator?a=d(a,t,n):"<"===t.operator||"<="===t.operator?u=p(u,t,n):r.add(t.semver);if(r.size>1)return null;if(a&&u){if(f=s(a.semver,u.semver,n),f>0)return null;if(0===f&&(">="!==a.operator||"<="!==u.operator))return null}for(const e of r){if(a&&!i(e,String(a),n))return null;if(u&&!i(e,String(u),n))return null;for(const r of t)if(!i(e,String(r),n))return!1;return!0}let v=!(!u||n.includePrerelease||!u.semver.prerelease.length)&&u.semver,y=!(!a||n.includePrerelease||!a.semver.prerelease.length)&&a.semver;v&&1===v.prerelease.length&&"<"===u.operator&&0===v.prerelease[0]&&(v=!1);for(const e of t){if(b=b||">"===e.operator||">="===e.operator,g=g||"<"===e.operator||"<="===e.operator,a)if(y&&e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===y.major&&e.semver.minor===y.minor&&e.semver.patch===y.patch&&(y=!1),">"===e.operator||">="===e.operator){if(h=d(a,e,n),h===e&&h!==a)return!1}else if(">="===a.operator&&!i(a.semver,String(e),n))return!1;if(u)if(v&&e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===v.major&&e.semver.minor===v.minor&&e.semver.patch===v.patch&&(v=!1),"<"===e.operator||"<="===e.operator){if(m=p(u,e,n),m===e&&m!==u)return!1}else if("<="===u.operator&&!i(u.semver,String(e),n))return!1;if(!e.operator&&(u||a)&&0!==f)return!1}return!(a&&g&&!u&&0!==f||u&&b&&!a&&0!==f||y||v)},d=(e,t,n)=>{if(!e)return t;const r=s(e.semver,t.semver,n);return r>0?e:r<0||">"===t.operator&&">="===e.operator?t:e},p=(e,t,n)=>{if(!e)return t;const r=s(e.semver,t.semver,n);return r<0?e:r>0||"<"===t.operator&&"<="===e.operator?t:e};e.exports=(e,t,n={})=>{if(e===t)return!0;e=new r(e,n),t=new r(t,n);let a=!1;e:for(const r of e.set){for(const e of t.set){const t=u(r,e,n);if(a=a||null!==t,t)continue e}if(a)return!1}return!0}},9273:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var r=n(7850),a=n(8728),o=n(697),i=n(1773);function s(e){return void 0!==e}function l(e,t){var n=t||{},l=n.defaultValue,c=n.value,u=n.onChange,d=n.postState,p=(0,i.A)(function(){return s(c)?c:s(l)?"function"==typeof l?l():l:"function"==typeof e?e():e}),f=(0,r.A)(p,2),h=f[0],m=f[1],g=void 0!==c?c:h,b=d?d(g):g,v=(0,a.A)(u),y=(0,i.A)([g]),w=(0,r.A)(y,2),E=w[0],S=w[1];return(0,o.o)(function(){var e=E[0];h!==e&&v(h,e)},[E]),(0,o.o)(function(){s(c)||m(c)},[c]),[b,(0,a.A)(function(e,t){m(e,t),S([g],t)})]}},9370:(e,t,n)=>{"use strict";function r(){return!("undefined"==typeof window||!window.document||!window.document.createElement)}n.d(t,{A:()=>r})},9383:e=>{"use strict";var t={};e.exports=function(e,n){var r=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},9482:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=o?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(a,i,s):a[i]=e[i]}return a.default=e,n&&n.set(e,a),a}(n(5959)),o=d(n(7842)),i=d(n(7256)),s=n(414),l=n(906),c=d(n(8100)),u=d(n(7222));function d(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach(function(t){E(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function m(e,t){if(e){if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g(e,t):void 0}}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t){return v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},v(e,t)}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e){return w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},w(e)}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var S="react-grid-layout",O=!1;try{O=/firefox/i.test(navigator.userAgent)}catch(e){}var C=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&v(e,t)}(C,e);var t,n,u,d,p,f=(d=C,p=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t=w(d);if(p){var n=w(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return y(e)}(this,e)});function C(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,C);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return E(y(e=f.call.apply(f,[this].concat(n))),"state",{activeDrag:null,layout:(0,s.synchronizeLayoutWithChildren)(e.props.layout,e.props.children,e.props.cols,(0,s.compactType)(e.props),e.props.allowOverlap),mounted:!1,oldDragItem:null,oldLayout:null,oldResizeItem:null,droppingDOMNode:null,children:[]}),E(y(e),"dragEnterCounter",0),E(y(e),"onDragStart",function(t,n,r,a){var o=a.e,i=a.node,l=e.state.layout,c=(0,s.getLayoutItem)(l,t);if(c)return e.setState({oldDragItem:(0,s.cloneLayoutItem)(c),oldLayout:l}),e.props.onDragStart(l,c,c,null,o,i)}),E(y(e),"onDrag",function(t,n,r,a){var o=a.e,i=a.node,l=e.state.oldDragItem,c=e.state.layout,u=e.props,d=u.cols,p=u.allowOverlap,f=u.preventCollision,h=(0,s.getLayoutItem)(c,t);if(h){var m={w:h.w,h:h.h,x:h.x,y:h.y,placeholder:!0,i:t};c=(0,s.moveElement)(c,h,n,r,!0,f,(0,s.compactType)(e.props),d,p),e.props.onDrag(c,l,h,m,o,i),e.setState({layout:p?c:(0,s.compact)(c,(0,s.compactType)(e.props),d),activeDrag:m})}}),E(y(e),"onDragStop",function(t,n,r,a){var o=a.e,i=a.node;if(e.state.activeDrag){var l=e.state.oldDragItem,c=e.state.layout,u=e.props,d=u.cols,p=u.preventCollision,f=u.allowOverlap,h=(0,s.getLayoutItem)(c,t);if(h){c=(0,s.moveElement)(c,h,n,r,!0,p,(0,s.compactType)(e.props),d,f),e.props.onDragStop(c,l,h,null,o,i);var m=f?c:(0,s.compact)(c,(0,s.compactType)(e.props),d),g=e.state.oldLayout;e.setState({activeDrag:null,layout:m,oldDragItem:null,oldLayout:null}),e.onLayoutMaybeChanged(m,g)}}}),E(y(e),"onResizeStart",function(t,n,r,a){var o=a.e,i=a.node,l=e.state.layout,c=(0,s.getLayoutItem)(l,t);c&&(e.setState({oldResizeItem:(0,s.cloneLayoutItem)(c),oldLayout:e.state.layout}),e.props.onResizeStart(l,c,c,null,o,i))}),E(y(e),"onResize",function(t,n,r,a){var o=a.e,i=a.node,l=e.state,c=l.layout,u=l.oldResizeItem,d=e.props,p=d.cols,f=d.preventCollision,g=d.allowOverlap,b=(0,s.withLayoutItem)(c,t,function(e){var t;if(f&&!g){var a=(0,s.getAllCollisions)(c,h(h({},e),{},{w:n,h:r})).filter(function(t){return t.i!==e.i});if(t=a.length>0){var o=1/0,i=1/0;a.forEach(function(t){t.x>e.x&&(o=Math.min(o,t.x)),t.y>e.y&&(i=Math.min(i,t.y))}),Number.isFinite(o)&&(e.w=o-e.x),Number.isFinite(i)&&(e.h=i-e.y)}}return t||(e.w=n,e.h=r),e}),v=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){s=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(s)throw a}}return o}}(e,t)||m(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(b,2),y=v[0],w=v[1];if(w){var E={w:w.w,h:w.h,x:w.x,y:w.y,static:!0,i:t};e.props.onResize(y,u,w,E,o,i),e.setState({layout:g?y:(0,s.compact)(y,(0,s.compactType)(e.props),p),activeDrag:E})}}),E(y(e),"onResizeStop",function(t,n,r,a){var o=a.e,i=a.node,l=e.state,c=l.layout,u=l.oldResizeItem,d=e.props,p=d.cols,f=d.allowOverlap,h=(0,s.getLayoutItem)(c,t);e.props.onResizeStop(c,u,h,null,o,i);var m=f?c:(0,s.compact)(c,(0,s.compactType)(e.props),p),g=e.state.oldLayout;e.setState({activeDrag:null,layout:m,oldResizeItem:null,oldLayout:null}),e.onLayoutMaybeChanged(m,g)}),E(y(e),"onDragOver",function(t){var n;if(t.preventDefault(),t.stopPropagation(),O&&(null===(n=t.nativeEvent.target)||void 0===n||!n.classList.contains(S)))return!1;var r=e.props,o=r.droppingItem,i=r.onDropDragOver,s=r.margin,c=r.cols,u=r.rowHeight,d=r.maxRows,p=r.width,f=r.containerPadding,b=r.transformScale,v=null==i?void 0:i(t);if(!1===v)return e.state.droppingDOMNode&&e.removeDroppingPlaceholder(),!1;var y,w=h(h({},o),v),E=e.state.layout,C=t.nativeEvent,A=C.layerX,x=C.layerY,D={left:A/b,top:x/b,e:t};if(e.state.droppingDOMNode){if(e.state.droppingPosition){var P=e.state.droppingPosition,I=P.left,R=P.top;(I!=A||R!=x)&&e.setState({droppingPosition:D})}}else{var T={cols:c,margin:s,maxRows:d,rowHeight:u,containerWidth:p,containerPadding:f||s},k=(0,l.calcXY)(T,x,A,w.w,w.h);e.setState({droppingDOMNode:a.createElement("div",{key:w.i}),droppingPosition:D,layout:[].concat((y=E,function(e){if(Array.isArray(e))return g(e)}(y)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(y)||m(y)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),[h(h({},w),{},{x:k.x,y:k.y,static:!1,isDraggable:!0})])})}}),E(y(e),"removeDroppingPlaceholder",function(){var t=e.props,n=t.droppingItem,r=t.cols,a=e.state.layout,o=(0,s.compact)(a.filter(function(e){return e.i!==n.i}),(0,s.compactType)(e.props),r);e.setState({layout:o,droppingDOMNode:null,activeDrag:null,droppingPosition:void 0})}),E(y(e),"onDragLeave",function(t){t.preventDefault(),t.stopPropagation(),e.dragEnterCounter--,0===e.dragEnterCounter&&e.removeDroppingPlaceholder()}),E(y(e),"onDragEnter",function(t){t.preventDefault(),t.stopPropagation(),e.dragEnterCounter++}),E(y(e),"onDrop",function(t){t.preventDefault(),t.stopPropagation();var n=e.props.droppingItem,r=e.state.layout,a=r.find(function(e){return e.i===n.i});e.dragEnterCounter=0,e.removeDroppingPlaceholder(),e.props.onDrop(r,a,t)}),e}return t=C,u=[{key:"getDerivedStateFromProps",value:function(e,t){var n;return t.activeDrag?null:((0,o.default)(e.layout,t.propsLayout)&&e.compactType===t.compactType?(0,s.childrenEqual)(e.children,t.children)||(n=t.layout):n=e.layout,n?{layout:(0,s.synchronizeLayoutWithChildren)(n,e.children,e.cols,(0,s.compactType)(e),e.allowOverlap),compactType:e.compactType,children:e.children,propsLayout:e.layout}:null)}}],(n=[{key:"componentDidMount",value:function(){this.setState({mounted:!0}),this.onLayoutMaybeChanged(this.state.layout,this.props.layout)}},{key:"shouldComponentUpdate",value:function(e,t){return this.props.children!==e.children||!(0,s.fastRGLPropsEqual)(this.props,e,o.default)||this.state.activeDrag!==t.activeDrag||this.state.mounted!==t.mounted||this.state.droppingPosition!==t.droppingPosition}},{key:"componentDidUpdate",value:function(e,t){if(!this.state.activeDrag){var n=this.state.layout,r=t.layout;this.onLayoutMaybeChanged(n,r)}}},{key:"containerHeight",value:function(){if(this.props.autoSize){var e=(0,s.bottom)(this.state.layout),t=this.props.containerPadding?this.props.containerPadding[1]:this.props.margin[1];return e*this.props.rowHeight+(e-1)*this.props.margin[1]+2*t+"px"}}},{key:"onLayoutMaybeChanged",value:function(e,t){t||(t=this.state.layout),(0,o.default)(t,e)||this.props.onLayoutChange(e)}},{key:"placeholder",value:function(){var e=this.state.activeDrag;if(!e)return null;var t=this.props,n=t.width,r=t.cols,o=t.margin,i=t.containerPadding,s=t.rowHeight,l=t.maxRows,u=t.useCSSTransforms,d=t.transformScale;return a.createElement(c.default,{w:e.w,h:e.h,x:e.x,y:e.y,i:e.i,className:"react-grid-placeholder",containerWidth:n,cols:r,margin:o,containerPadding:i||o,maxRows:l,rowHeight:s,isDraggable:!1,isResizable:!1,isBounded:!1,useCSSTransforms:u,transformScale:d},a.createElement("div",null))}},{key:"processGridItem",value:function(e,t){if(e&&e.key){var n=(0,s.getLayoutItem)(this.state.layout,String(e.key));if(!n)return null;var r=this.props,o=r.width,i=r.cols,l=r.margin,u=r.containerPadding,d=r.rowHeight,p=r.maxRows,f=r.isDraggable,h=r.isResizable,m=r.isBounded,g=r.useCSSTransforms,b=r.transformScale,v=r.draggableCancel,y=r.draggableHandle,w=r.resizeHandles,E=r.resizeHandle,S=this.state,O=S.mounted,C=S.droppingPosition,A="boolean"==typeof n.isDraggable?n.isDraggable:!n.static&&f,x="boolean"==typeof n.isResizable?n.isResizable:!n.static&&h,D=n.resizeHandles||w,P=A&&m&&!1!==n.isBounded;return a.createElement(c.default,{containerWidth:o,cols:i,margin:l,containerPadding:u||l,maxRows:p,rowHeight:d,cancel:v,handle:y,onDragStop:this.onDragStop,onDragStart:this.onDragStart,onDrag:this.onDrag,onResizeStart:this.onResizeStart,onResize:this.onResize,onResizeStop:this.onResizeStop,isDraggable:A,isResizable:x,isBounded:P,useCSSTransforms:g&&O,usePercentages:!O,transformScale:b,w:n.w,h:n.h,x:n.x,y:n.y,i:n.i,minH:n.minH,minW:n.minW,maxH:n.maxH,maxW:n.maxW,static:n.static,droppingPosition:t?C:void 0,resizeHandles:D,resizeHandle:E},e)}}},{key:"render",value:function(){var e=this,t=this.props,n=t.className,r=t.style,o=t.isDroppable,l=t.innerRef,c=(0,i.default)(S,n),u=h({height:this.containerHeight()},r);return a.createElement("div",{ref:l,className:c,style:u,onDrop:o?this.onDrop:s.noop,onDragLeave:o?this.onDragLeave:s.noop,onDragEnter:o?this.onDragEnter:s.noop,onDragOver:o?this.onDragOver:s.noop},a.Children.map(this.props.children,function(t){return e.processGridItem(t)}),o&&this.state.droppingDOMNode&&this.processGridItem(this.state.droppingDOMNode,!0),this.placeholder())}}])&&b(t.prototype,n),u&&b(t,u),Object.defineProperty(t,"prototype",{writable:!1}),C}(a.Component);t.default=C,E(C,"displayName","ReactGridLayout"),E(C,"propTypes",u.default),E(C,"defaultProps",{autoSize:!0,cols:12,className:"",style:{},draggableHandle:"",draggableCancel:"",containerPadding:null,rowHeight:150,maxRows:1/0,layout:[],margin:[10,10],isBounded:!1,isDraggable:!0,isResizable:!0,allowOverlap:!1,isDroppable:!1,useCSSTransforms:!0,transformScale:1,verticalCompact:!0,compactType:"vertical",preventCollision:!1,droppingItem:{i:"__dropping-elem__",h:1,w:1},resizeHandles:["se"],onLayoutChange:s.noop,onDragStart:s.noop,onDrag:s.noop,onDragStop:s.noop,onResizeStart:s.noop,onResize:s.noop,onResizeStop:s.noop,onDrop:s.noop,onDropDragOver:s.noop})},9524:(e,t,n)=>{"use strict";const r=Symbol("SemVer ANY");class a{static get ANY(){return r}constructor(e,t){if(t=o(t),e instanceof a){if(e.loose===!!t.loose)return e;e=e.value}e=e.trim().split(/\s+/).join(" "),c("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===r?this.value="":this.value=this.operator+this.semver.version,c("comp",this)}parse(e){const t=this.options.loose?i[s.COMPARATORLOOSE]:i[s.COMPARATOR],n=e.match(t);if(!n)throw new TypeError(`Invalid comparator: ${e}`);this.operator=void 0!==n[1]?n[1]:"","="===this.operator&&(this.operator=""),n[2]?this.semver=new u(n[2],this.options.loose):this.semver=r}toString(){return this.value}test(e){if(c("Comparator.test",e,this.options.loose),this.semver===r||e===r)return!0;if("string"==typeof e)try{e=new u(e,this.options)}catch(e){return!1}return l(e,this.operator,this.semver,this.options)}intersects(e,t){if(!(e instanceof a))throw new TypeError("a Comparator is required");return""===this.operator?""===this.value||new d(e.value,t).test(this.value):""===e.operator?""===e.value||new d(this.value,t).test(e.semver):!((t=o(t)).includePrerelease&&("<0.0.0-0"===this.value||"<0.0.0-0"===e.value)||!t.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0"))||(!this.operator.startsWith(">")||!e.operator.startsWith(">"))&&(!this.operator.startsWith("<")||!e.operator.startsWith("<"))&&(this.semver.version!==e.semver.version||!this.operator.includes("=")||!e.operator.includes("="))&&!(l(this.semver,"<",e.semver,t)&&this.operator.startsWith(">")&&e.operator.startsWith("<"))&&!(l(this.semver,">",e.semver,t)&&this.operator.startsWith("<")&&e.operator.startsWith(">")))}}e.exports=a;const o=n(7095),{safeRe:i,t:s}=n(6850),l=n(3811),c=n(9796),u=n(7944),d=n(8395)},9572:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(694),a=Symbol.for("react.element"),o=Symbol.for("react.transitional.element"),i=Symbol.for("react.fragment");function s(e){return e&&"object"===(0,r.A)(e)&&(e.$$typeof===a||e.$$typeof===o)&&e.type===i}},9613:(e,t,n)=>{"use strict";const r=n(5860);e.exports=(e,t)=>{const n=r(e,t);return n&&n.prerelease.length?n.prerelease:null}},9630:e=>{"use strict";const t=Number.MAX_SAFE_INTEGER||9007199254740991;e.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:16,MAX_SAFE_BUILD_LENGTH:250,MAX_SAFE_INTEGER:t,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:"2.0.0",FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}},9644:(e,t,n)=>{"use strict";function r(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}n.d(t,{A:()=>r})},9781:(e,t,n)=>{"use strict";n.r(t),n.d(t,{AdHocFiltersVariable:()=>Ol,ConstantVariable:()=>Dc,ControlsLabel:()=>yr,CustomVariable:()=>sh,DataProviderProxy:()=>Df,DataSourceVariable:()=>fh,EmbeddedScene:()=>rm,FieldConfigBuilder:()=>kv,FieldConfigBuilders:()=>Gv,FieldConfigOverridesBuilder:()=>Sv,GroupByVariable:()=>mr,IntervalVariable:()=>Hh,LocalValueVariable:()=>Vh,MultiValueVariable:()=>Mt,NestedScene:()=>ug,NewSceneObjectAddedEvent:()=>Zh,PanelBuilders:()=>Uv,PanelOptionsBuilders:()=>Hv,QueryVariable:()=>nu,RuntimeDataSource:()=>ue,SafeSerializableSceneObject:()=>or,SceneApp:()=>wb,SceneAppPage:()=>Vb,SceneByFrameRepeater:()=>Qg,SceneByVariableRepeater:()=>Yg,SceneCSSGridItem:()=>ib,SceneCSSGridLayout:()=>ob,SceneCanvasText:()=>pg,SceneControlsSpacer:()=>Kg,SceneDataLayerBase:()=>Bd,SceneDataLayerControls:()=>jd,SceneDataLayerSet:()=>Bf,SceneDataLayerSetBase:()=>Mf,SceneDataNode:()=>Qe,SceneDataTransformer:()=>Gf,SceneDebugger:()=>Lb,SceneFlexItem:()=>Zg,SceneFlexLayout:()=>Xg,SceneGridItem:()=>lm,SceneGridLayout:()=>Xm,SceneGridRow:()=>lg,SceneObjectBase:()=>J,SceneObjectRef:()=>G,SceneObjectStateChangedEvent:()=>U,SceneObjectUrlSyncConfig:()=>Ke,SceneQueryRunner:()=>$l,SceneReactObject:()=>Ib,SceneRefreshPicker:()=>Ig,SceneTimePicker:()=>mg,SceneTimeRange:()=>st,SceneTimeRangeCompare:()=>Hg,SceneTimeRangeTransformerBase:()=>gf,SceneTimeZoneOverride:()=>xf,SceneToolbarButton:()=>fg,SceneToolbarInput:()=>hg,SceneVariableSet:()=>Jf,SceneVariableValueChangedEvent:()=>pt,SplitLayout:()=>yb,TestVariable:()=>Ch,TextBoxVariable:()=>Th,UrlSyncContextProvider:()=>nm,UrlSyncManager:()=>Jh,UserActionEvent:()=>z,VariableDependencyConfig:()=>Pc,VariableValueControl:()=>Zf,VariableValueSelectWrapper:()=>Qf,VariableValueSelectors:()=>qf,VizConfigBuilder:()=>zv,VizConfigBuilders:()=>Wv,VizPanel:()=>Dd,VizPanelBuilder:()=>$v,VizPanelExploreButton:()=>sm,VizPanelMenu:()=>om,behaviors:()=>r,dataLayers:()=>a,formatRegistry:()=>vt,getExploreURL:()=>im,isCustomVariableValue:()=>ft,isDataLayer:()=>Jt,isDataRequestEnricher:()=>Xt,isFiltersRequestEnricher:()=>Zt,isSceneObject:()=>Kt,registerQueryWithController:()=>en,registerRuntimeDataSource:()=>pe,renderSelectForVariable:()=>er,sceneGraph:()=>lu,sceneUtils:()=>qv,useSceneApp:()=>Ob,useSceneObjectState:()=>ee,useUrlSync:()=>tm});var r={};n.r(r),n.d(r,{ActWhenVariableChanged:()=>mu,CursorSync:()=>Au,LiveNowTimer:()=>Id,SceneQueryController:()=>Ne});var a={};n.r(a),n.d(a,{AnnotationsDataLayer:()=>mf});var o=n(5959),i=n.t(o,2),s=n.n(o),l=n(3806),c=n(7781),u=n(8531),d=Object.defineProperty,p=Object.getOwnPropertySymbols,f=Object.prototype.hasOwnProperty,h=Object.prototype.propertyIsEnumerable,m=(e,t,n)=>t in e?d(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function g(e,t,n){const r=((e,t)=>{for(var n in t||(t={}))f.call(t,n)&&m(e,n,t[n]);if(p)for(var n of p(t))h.call(t,n)&&m(e,n,t[n]);return e})({},t);if(n)for(const e of Object.keys(r))n.includes(e)||delete r[e];return c.urlUtil.renderUrl(c.locationUtil.assureBaseUrl(e),r)}function b(e,t){return s().createElement(e.Component,{model:e,routeProps:t})}var v=Object.defineProperty,y=Object.defineProperties,w=Object.getOwnPropertyDescriptors,E=Object.getOwnPropertySymbols,S=Object.prototype.hasOwnProperty,O=Object.prototype.propertyIsEnumerable,C=(e,t,n)=>t in e?v(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const A=new Map;var x=n(1269);const D={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let P;const I=new Uint8Array(16);function R(){if(!P&&(P="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!P))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return P(I)}const T=[];for(let e=0;e<256;++e)T.push((e+256).toString(16).slice(1));const k=function(e,t,n){if(D.randomUUID&&!t&&!e)return D.randomUUID();const r=(e=e||{}).random||(e.rng||R)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(let e=0;e<16;++e)t[n+e]=r[e];return t}return function(e,t=0){return T[e[t+0]]+T[e[t+1]]+T[e[t+2]]+T[e[t+3]]+"-"+T[e[t+4]]+T[e[t+5]]+"-"+T[e[t+6]]+T[e[t+7]]+"-"+T[e[t+8]]+T[e[t+9]]+"-"+T[e[t+10]]+T[e[t+11]]+T[e[t+12]]+T[e[t+13]]+T[e[t+14]]+T[e[t+15]]}(r)};var _=Object.defineProperty,L=Object.defineProperties,M=Object.getOwnPropertyDescriptors,B=Object.getOwnPropertySymbols,j=Object.prototype.hasOwnProperty,N=Object.prototype.propertyIsEnumerable,V=(e,t,n)=>t in e?_(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const F=s().memo(function(e){var t,n=e,{model:r}=n,a=((e,t)=>{var n={};for(var r in e)j.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&B)for(var r of B(e))t.indexOf(r)<0&&N.call(e,r)&&(n[r]=e[r]);return n})(n,["model"]);const i=null!=(t=r.constructor.Component)?t:$,[l,c]=(0,o.useState)(0);return(0,o.useEffect)(()=>{const e=r.activate();return c(e=>e+1),e},[r]),r.isActive||r.renderBeforeActivation?s().createElement(i,(u=((e,t)=>{for(var n in t||(t={}))j.call(t,n)&&V(e,n,t[n]);if(B)for(var n of B(t))N.call(t,n)&&V(e,n,t[n]);return e})({},a),L(u,M({model:r})))):null;var u});function $(e){return null}class U extends c.BusEventWithPayload{}U.type="scene-object-state-change";class z extends c.BusEventWithPayload{}z.type="scene-object-user-action";var W,H=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)};class G{constructor(e){var t,n;((e,t)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,void 0)})(this,W),n=e,H(this,t=W,"write to private field"),t.set(this,n)}resolve(){return H(this,e=W,"read from private field"),e.get(this);var e}}W=new WeakMap;var q=Object.defineProperty,Q=Object.getOwnPropertySymbols,Y=Object.prototype.hasOwnProperty,K=Object.prototype.propertyIsEnumerable,X=(e,t,n)=>t in e?q(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Z=(e,t)=>{for(var n in t||(t={}))Y.call(t,n)&&X(e,n,t[n]);if(Q)for(var n of Q(t))K.call(t,n)&&X(e,n,t[n]);return e};class J{constructor(e){this._isActive=!1,this._activationHandlers=[],this._deactivationHandlers=new Map,this._subs=new x.Subscription,this._refCount=0,this._renderBeforeActivation=!1,e.key||(e.key=k()),this._events=new c.EventBusSrv,this._state=Object.freeze(e),this._setParent(this._state)}get state(){return this._state}get isActive(){return this._isActive}get renderBeforeActivation(){return this._renderBeforeActivation}get parent(){return this._parent}get variableDependency(){return this._variableDependency}get urlSync(){return this._urlSync}get Component(){return F}_setParent(e){te(e,e=>{e._parent&&e._parent!==this&&console.warn("SceneObject already has a parent set that is different from the new parent. You cannot share the same SceneObject instance in multiple scenes or in multiple different places of the same scene graph. Use SceneObject.clone() to duplicate a SceneObject or store a state key reference and use sceneGraph.findObject to locate it.",e,this),e._parent=this})}clearParent(){this._parent=void 0}subscribeToState(e){return this._events.subscribe(U,t=>{t.payload.changedObject===this&&e(t.payload.newState,t.payload.prevState)})}subscribeToEvent(e,t){return this._events.subscribe(e,t)}setState(e){const t=this._state,n=Z(Z({},this._state),e);this._state=Object.freeze(n),this._setParent(e),this._handleActivationOfChangedStateProps(t,n),this.publishEvent(new U({prevState:t,newState:n,partialUpdate:e,changedObject:this}),!0)}_handleActivationOfChangedStateProps(e,t){this.isActive&&(e.$behaviors!==t.$behaviors&&this._handleChangedBehaviors(e.$behaviors,t.$behaviors),e.$data!==t.$data&&this._handleChangedStateActivation(e.$data,t.$data),e.$variables!==t.$variables&&this._handleChangedStateActivation(e.$variables,t.$variables),e.$timeRange!==t.$timeRange&&this._handleChangedStateActivation(e.$timeRange,t.$timeRange))}_handleChangedStateActivation(e,t){if(e){const t=this._deactivationHandlers.get(e);t&&(t(),this._deactivationHandlers.delete(e))}t&&this._deactivationHandlers.set(t,t.activate())}_handleChangedBehaviors(e,t){if(e)for(const n of e)if(!t||!t.includes(n)){const e=this._deactivationHandlers.get(n);e&&(e(),this._deactivationHandlers.delete(n))}if(t)for(const n of t)e&&e.includes(n)||this._activateBehavior(n)}publishEvent(e,t){this._events.publish(e),t&&this.parent&&this.parent.publishEvent(e,t)}getRoot(){return this._parent?this._parent.getRoot():this}_internalActivate(){this._isActive=!0;const{$data:e,$variables:t,$timeRange:n,$behaviors:r}=this.state;if(this._activationHandlers.forEach(e=>{const t=e();t&&this._deactivationHandlers.set(t,t)}),n&&!n.isActive&&this._deactivationHandlers.set(n,n.activate()),t&&!t.isActive&&this._deactivationHandlers.set(t,t.activate()),e&&!e.isActive&&this._deactivationHandlers.set(e,e.activate()),r)for(const e of r)this._activateBehavior(e)}_activateBehavior(e){if(e instanceof J)this._deactivationHandlers.set(e,e.activate());else if("function"==typeof e){const t=e(this);t&&this._deactivationHandlers.set(e,t)}}activate(){this.isActive||this._internalActivate(),this._refCount++;let e=!1;return()=>{if(this._refCount--,e)throw new Error("SceneObject cancelation handler returned by activate() called a second time");e=!0,0===this._refCount&&this._internalDeactivate()}}_internalDeactivate(){this._isActive=!1;for(let e of this._deactivationHandlers.values())e();this._deactivationHandlers.clear(),this._events.removeAllListeners(),this._subs.unsubscribe(),this._subs=new x.Subscription}useState(){return ee(this)}forceRender(){this.setState({})}clone(e){return function(e,t){const n=le(e.state,t);return new e.constructor(n)}(this,e)}addActivationHandler(e){this._activationHandlers.push(e)}forEachChild(e){te(this.state,e)}getRef(){return this._ref||(this._ref=new G(this)),this._ref}}function ee(e,t){var n;const[r,a]=(0,o.useState)(e.state),i=e.state,s=null!=(n=null==t?void 0:t.shouldActivateOrKeepAlive)&&n;return(0,o.useEffect)(()=>{let t;s&&(t=e.activate());const n=e.subscribeToState(e=>{a(e)});return e.state!==i&&a(e.state),()=>{n.unsubscribe(),t&&t()}},[e,s]),e.state}function te(e,t){for(const n of Object.values(e))if(n instanceof J&&t(n),Array.isArray(n))for(const e of n)e instanceof J&&t(e)}var ne=Object.defineProperty,re=Object.getOwnPropertySymbols,ae=Object.prototype.hasOwnProperty,oe=Object.prototype.propertyIsEnumerable,ie=(e,t,n)=>t in e?ne(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,se=(e,t)=>{for(var n in t||(t={}))ae.call(t,n)&&ie(e,n,t[n]);if(re)for(var n of re(t))oe.call(t,n)&&ie(e,n,t[n]);return e};function le(e,t){const n=se({},e);Object.assign(n,t);for(const e in n){if(t&&void 0!==t[e])continue;const r=n[e];if(r instanceof J&&(n[e]=r.clone()),r instanceof G)console.warn("Cloning object with SceneObjectRef");else if(Array.isArray(r)){const t=[];for(const e of r)e instanceof J?t.push(e.clone()):t.push(e);n[e]=t}}return n}function ce(e,t){let n,r=e;for(;r&&!n;)n=t(r),r=r.parent;return n}class ue extends c.DataSourceApi{constructor(e,t){super({name:"RuntimeDataSource-"+e,uid:t,type:e,id:1,readOnly:!0,jsonData:{},access:"direct",meta:{id:e,name:"RuntimeDataSource-"+e,type:c.PluginType.datasource,info:{author:{name:""},description:"",links:[],logos:{large:"",small:""},screenshots:[],updated:"",version:""},module:"",baseUrl:""}})}testDatasource(){return Promise.resolve({})}}const de=new Map;function pe({dataSource:e}){if(de.has(e.uid))throw new Error(`A runtime data source with uid ${e.uid} has already been registered`);de.set(e.uid,e)}var fe=n(3241);function he(e,t){const n=t.state.$variables;if(!n)return t.parent?he(e,t.parent):null;return n.getByName(e)||(t.parent?he(e,t.parent):null)}function me(e,t,...n){let r=!1;"undefined"!=typeof window&&(r="true"===localStorage.getItem("grafana.debug.scenes")),r&&console.log(`${e}: `,t,...n)}var ge,be,ve,ye,we=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},Ee=(e,t,n)=>(we(e,t,"read from private field"),n?n.call(e):t.get(e)),Se=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},Oe=(e,t,n,r)=>(we(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n);class Ce{constructor(e){this.queryController=e,Se(this,ge,null),Se(this,be,null),Se(this,ve,null),Se(this,ye,[]),this.lastFrameTime=0,this.measureTrailingFrames=(e,t,n)=>{const r=performance.now(),a=r-t;if(Ee(this,ye).push(a),r-e<2e3)Oe(this,ve,requestAnimationFrame(()=>this.measureTrailingFrames(e,r,n)));else{const t=function(e){for(let t=e.length-1;t>=0;t--)if(e[t]>30)return e.slice(0,t+1);return[e[0]]}(Ee(this,ye)),r=t.reduce((e,t)=>e+t,0);me(this.constructor.name,"Profile tail recorded, slow frames duration:",r,t,Ee(this,ge)),Oe(this,ye,[]);const a=e-n;me(this.constructor.name,"Stoped recording, total measured time (network included):",a+r),Oe(this,ve,null);const o=n+a+r;performance.measure("DashboardInteraction",{start:n,end:o});const i=function(e,t){const n=performance.getEntriesByType("resource");performance.clearResourceTimings();const r=n.filter(n=>n.startTime>=e&&n.startTime<=t);for(const e of r)performance.measure("Network entry "+e.name,{start:e.startTime,end:e.responseEnd});return function(e){if(0===e.length)return 0;e.sort((e,t)=>e.startTime-t.startTime);let t=0,n=e[0].startTime,r=e[0].responseEnd;for(let a=1;a<e.length;a++)e[a].startTime<=r?r=Math.max(r,e[a].responseEnd):(t+=r-n,n=e[a].startTime,r=e[a].responseEnd);return t+=r-n,t}(r)}(n,o);this.queryController.state.onProfileComplete&&this.queryController.state.onProfileComplete({origin:Ee(this,ge).origin,crumbs:Ee(this,ge).crumbs,duration:a+r,networkDuration:i,jsHeapSizeLimit:performance.memory?performance.memory.jsHeapSizeLimit:0,usedJSHeapSize:performance.memory?performance.memory.usedJSHeapSize:0,totalJSHeapSize:performance.memory?performance.memory.totalJSHeapSize:0}),window.__runs?window.__runs+=`${Date.now()}, ${a+r}\n`:window.__runs=`${Date.now()}, ${a+r}\n`}}}startProfile(e){Ee(this,ve)&&(cancelAnimationFrame(Ee(this,ve)),Oe(this,ve,null),me(this.constructor.name,"New profile: Stopped recording frames")),Oe(this,ge,{origin:e,crumbs:[]}),Oe(this,be,performance.now()),me(this.constructor.name,"Profile started:",Ee(this,ge),Ee(this,be))}recordProfileTail(e,t){Oe(this,ve,requestAnimationFrame(()=>this.measureTrailingFrames(e,e,t)))}tryCompletingProfile(){me(this.constructor.name,"Trying to complete profile",Ee(this,ge)),0===this.queryController.runningQueriesCount()&&Ee(this,ge)&&(me(this.constructor.name,"All queries completed, stopping profile"),this.recordProfileTail(performance.now(),Ee(this,be)))}isTailRecording(){return Boolean(Ee(this,ve))}cancelTailRecording(){Ee(this,ve)&&(cancelAnimationFrame(Ee(this,ve)),Oe(this,ve,null),me(this.constructor.name,"Cancelled recording frames, new profile started"))}addCrumb(e){Ee(this,ge)&&Ee(this,ge).crumbs.push(e)}}ge=new WeakMap,be=new WeakMap,ve=new WeakMap,ye=new WeakMap;var Ae,xe,De=Object.defineProperty,Pe=Object.defineProperties,Ie=Object.getOwnPropertyDescriptors,Re=Object.getOwnPropertySymbols,Te=Object.prototype.hasOwnProperty,ke=Object.prototype.propertyIsEnumerable,_e=(e,t,n)=>t in e?De(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Le=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},Me=(e,t,n)=>(Le(e,t,"read from private field"),n?n.call(e):t.get(e)),Be=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)};function je(e){return"isQueryController"in e}class Ne extends J{constructor(e={}){var t;super((t=((e,t)=>{for(var n in t||(t={}))Te.call(t,n)&&_e(e,n,t[n]);if(Re)for(var n of Re(t))ke.call(t,n)&&_e(e,n,t[n]);return e})({},e),Pe(t,Ie({isRunning:!1})))),this.isQueryController=!0,this.profiler=new Ce(this),Be(this,Ae,new Set),Be(this,xe,null),this.runningQueriesCount=()=>Me(this,Ae).size,this.addActivationHandler(()=>()=>Me(this,Ae).clear())}startProfile(e){this.state.enableProfiling&&this.profiler.startProfile(e.constructor.name)}queryStarted(e){Me(this,Ae).add(e),this.changeRunningQueryCount(1,e),this.state.isRunning||this.setState({isRunning:!0})}queryCompleted(e){Me(this,Ae).has(e)&&(Me(this,Ae).delete(e),this.changeRunningQueryCount(-1),0===Me(this,Ae).size&&this.setState({isRunning:!1}))}changeRunningQueryCount(e,t){var n,r,a,o;window.__grafanaRunningQueryCount=(null!=(n=window.__grafanaRunningQueryCount)?n:0)+e,1===e&&this.state.enableProfiling&&(t&&this.profiler.addCrumb(`${t.origin.constructor.name}/${t.type}`),this.profiler.isTailRecording()&&(me(this.constructor.name,"New query started, cancelling tail recording"),this.profiler.cancelTailRecording())),this.state.enableProfiling&&(Me(this,xe)&&cancelAnimationFrame(Me(this,xe)),r=this,a=xe,o=requestAnimationFrame(()=>{this.profiler.tryCompletingProfile()}),Le(r,a,"write to private field"),a.set(r,o))}cancelAll(){var e;for(const t of Me(this,Ae).values())null==(e=t.cancel)||e.call(t)}}function Ve(e){let t=e;for(;t;){if(t.state.$behaviors)for(const e of t.state.$behaviors)if(je(e))return e;t=t.parent}}Ae=new WeakMap,xe=new WeakMap;var Fe=(e=>(e.Actions="actions",e.Auto="auto",e.BasicGauge="basic",e.ColorBackground="color-background",e.ColorBackgroundSolid="color-background-solid",e.ColorText="color-text",e.Custom="custom",e.DataLinks="data-links",e.Gauge="gauge",e.GradientGauge="gradient-gauge",e.Image="image",e.JSONView="json-view",e.LcdGauge="lcd-gauge",e.Sparkline="sparkline",e))(Fe||{}),$e=(e=>(e.CSV="csv",e.Date="date",e.Distributed="distributed",e.DoubleQuote="doublequote",e.Glob="glob",e.HTML="html",e.JSON="json",e.Lucene="lucene",e.PercentEncode="percentencode",e.Pipe="pipe",e.QueryParam="queryparam",e.Raw="raw",e.Regex="regex",e.SQLString="sqlstring",e.SingleQuote="singlequote",e.Text="text",e.UriEncode="uriencode",e))($e||{});Fe.Auto;var Ue=(e=>(e.NotStarted="NotStarted",e.Loading="Loading",e.Streaming="Streaming",e.Done="Done",e.Error="Error",e))(Ue||{}),ze=Object.defineProperty,We=Object.getOwnPropertySymbols,He=Object.prototype.hasOwnProperty,Ge=Object.prototype.propertyIsEnumerable,qe=(e,t,n)=>t in e?ze(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;class Qe extends J{constructor(e){super(((e,t)=>{for(var n in t||(t={}))He.call(t,n)&&qe(e,n,t[n]);if(We)for(var n of We(t))Ge.call(t,n)&&qe(e,n,t[n]);return e})({data:Ye},e))}getResultsStream(){const e={origin:this,data:this.state.data};return(0,x.of)(e)}}const Ye={state:Ue.Done,series:[],timeRange:(0,c.getDefaultTimeRange)()};class Ke{constructor(e,t){this._sceneObject=e,this._nextChangeShouldAddHistoryStep=!1,this._keys=t.keys}getKeys(){return"function"==typeof this._keys?this._keys():this._keys}getUrlState(){return this._sceneObject.getUrlState()}updateFromUrl(e){this._sceneObject.updateFromUrl(e)}performBrowserHistoryAction(e){this._nextChangeShouldAddHistoryStep=!0,e(),this._nextChangeShouldAddHistoryStep=!1}shouldCreateHistoryStep(e){return this._nextChangeShouldAddHistoryStep}}const Xe=/^\d+[yYmMsSwWhHdD]$/;function Ze(e){if("string"!=typeof e)return null;if(-1!==e.indexOf("now"))return e;if(Xe.test(e))return e;if(8===e.length){const t=(0,c.toUtc)(e,"YYYYMMDD");if(t.isValid())return t.toISOString()}else if(15===e.length){const t=(0,c.toUtc)(e,"YYYYMMDDTHHmmss");if(t.isValid())return t.toISOString()}else if(19===e.length){const t=(0,c.toUtc)(e,"YYYY-MM-DD HH:mm:ss");if(t.isValid())return t.toISOString()}else if(24===e.length)return(0,c.toUtc)(e).toISOString();const t=parseInt(e,10);return isNaN(t)?null:(0,c.toUtc)(t).toISOString()}function Je(e,t,n,r,a,o){const i=a&&"now"===t,s=Date.now();o&&function(e){e!==et&&(et=e,(0,c.setWeekStart)(e))}(o);const l=(e,t)=>c.dateMath.toDateTime?c.dateMath.toDateTime(e,t):c.dateMath.parse(e,t.roundUp,t.timezone,t.fiscalYearStartMonth);return{to:l(i?"now-"+a:t,{roundUp:!0,timezone:n,fiscalYearStartMonth:r,now:s}),from:l(e,{roundUp:!1,timezone:n,fiscalYearStartMonth:r,now:s}),raw:{from:e,to:t}}}let et;function tt(e,t,n){return(0,c.isDateTime)(e)?e.isValid():c.dateMath.isMathString(e)?c.dateMath.isValid(e):(0,c.dateTimeParse)(e,{roundUp:t,timeZone:n}).isValid()}var nt=Object.defineProperty,rt=Object.getOwnPropertySymbols,at=Object.prototype.hasOwnProperty,ot=Object.prototype.propertyIsEnumerable,it=(e,t,n)=>t in e?nt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;class st extends J{constructor(e={}){var t;const n=e.from&&tt(e.from)?e.from:"now-6h",r=e.to&&tt(e.to)?e.to:"now",a=e.timeZone;super(((e,t)=>{for(var n in t||(t={}))at.call(t,n)&&it(e,n,t[n]);if(rt)for(var n of rt(t))ot.call(t,n)&&it(e,n,t[n]);return e})({from:n,to:r,timeZone:a,value:Je(n,r,a||(0,c.getTimeZone)(),e.fiscalYearStartMonth,e.UNSAFE_nowDelay,e.weekStart),refreshOnActivate:null!=(t=e.refreshOnActivate)?t:{percent:10}},e)),this._urlSync=new Ke(this,{keys:["from","to","timezone","time","time.window"]}),this.onTimeRangeChange=e=>{const t={};if("string"==typeof e.raw.from?t.from=e.raw.from:t.from=e.raw.from.toISOString(),"string"==typeof e.raw.to?t.to=e.raw.to:t.to=e.raw.to.toISOString(),t.value=Je(t.from,t.to,this.getTimeZone(),this.state.fiscalYearStartMonth,this.state.UNSAFE_nowDelay,this.state.weekStart),t.from!==this.state.from||t.to!==this.state.to){const e=Ve(this);null==e||e.startProfile(this),this._urlSync.performBrowserHistoryAction(()=>{this.setState(t)})}},this.onTimeZoneChange=e=>{this._urlSync.performBrowserHistoryAction(()=>{this.setState({timeZone:e})})},this.onRefresh=()=>{this.refreshRange(0),this.publishEvent(new u.RefreshEvent,!0)},this.addActivationHandler(this._onActivate.bind(this))}_onActivate(){if(!this.state.timeZone){const e=this.getTimeZoneSource();e!==this&&this._subs.add(e.subscribeToState((e,t)=>{void 0!==e.timeZone&&e.timeZone!==t.timeZone&&this.refreshRange(0)}))}return c.rangeUtil.isRelativeTimeRange(this.state.value.raw)&&this.refreshIfStale(),()=>{this.state.weekStart&&(0,c.setWeekStart)(u.config.bootData.user.weekStart)}}refreshIfStale(){var e,t,n,r;let a;void 0!==(null==(t=null==(e=this.state)?void 0:e.refreshOnActivate)?void 0:t.percent)&&(a=this.calculatePercentOfInterval(this.state.refreshOnActivate.percent)),void 0!==(null==(r=null==(n=this.state)?void 0:n.refreshOnActivate)?void 0:r.afterMs)&&(a=Math.min(this.state.refreshOnActivate.afterMs,null!=a?a:1/0)),void 0!==a&&this.refreshRange(a)}getTimeZoneSource(){if(!this.parent||!this.parent.parent)return this;return ce(this.parent.parent,e=>{if(e.state.$timeRange&&e.state.$timeRange.state.timeZone)return e.state.$timeRange})||this}refreshRange(e){var t;const n=Je(this.state.from,this.state.to,null!=(t=this.state.timeZone)?t:(0,c.getTimeZone)(),this.state.fiscalYearStartMonth,this.state.UNSAFE_nowDelay,this.state.weekStart);n.to.diff(this.state.value.to,"milliseconds")>=e&&this.setState({value:n})}calculatePercentOfInterval(e){const t=this.state.value.to.diff(this.state.value.from,"milliseconds");return Math.ceil(t/e)}getTimeZone(){if(this.state.timeZone)return this.state.timeZone;const e=this.getTimeZoneSource();return e!==this?e.state.timeZone:(0,c.getTimeZone)()}getUrlState(){const e=u.locationService.getSearchObject(),t={from:this.state.from,to:this.state.to,timezone:this.getTimeZone()};return e.time&&e["time.window"]&&(t.time=null,t["time.window"]=null),t}updateFromUrl(e){var t,n,r;const a={};let o=Ze(e.from),i=Ze(e.to);if(e.time&&e["time.window"]){const t=function(e,t){const n=isNaN(Date.parse(e))?parseInt(e,10):Date.parse(e);let r;return r=t.match(/^\d+$/)&&parseInt(t,10)?parseInt(t,10):c.rangeUtil.intervalToMs(t),{from:(0,c.toUtc)(n-r/2).toISOString(),to:(0,c.toUtc)(n+r/2).toISOString()}}(Array.isArray(e.time)?e.time[0]:e.time,Array.isArray(e["time.window"])?e["time.window"][0]:e["time.window"]);t.from&&tt(t.from)&&(o=t.from),t.to&&tt(t.to)&&(i=t.to)}if(o&&tt(o)&&(a.from=o),i&&tt(i)&&(a.to=i),"string"==typeof e.timezone&&(a.timeZone=""!==e.timezone?e.timezone:void 0),0!==Object.keys(a).length)return a.value=Je(null!=(t=a.from)?t:this.state.from,null!=(n=a.to)?n:this.state.to,null!=(r=a.timeZone)?r:this.getTimeZone(),this.state.fiscalYearStartMonth,this.state.UNSAFE_nowDelay,this.state.weekStart),this.setState(a)}}const lt=new Qe,ct=new st,ut=new class extends J{constructor(){super({variables:[]})}getByName(e){}isVariableLoadingOrWaitingToUpdate(e){return!1}};function dt(e){var t;return null!=(t=ce(e,e=>e.state.$timeRange))?t:ct}class pt extends c.BusEventWithPayload{}function ft(e){return"object"==typeof e&&"formatter"in e}pt.type="scene-variable-changed-value";let ht,mt={};function gt(e){return mt[e]||(mt[e]=(0,fe.property)(e))}class bt{constructor(e,t){this.state={name:e,value:t,type:"scopedvar"}}getValue(e){let{value:t}=this.state,n=t.value;return n=e?gt(e)(t.value):t.value,"string"===n||"number"===n||"boolean"===n?n:String(n)}getValueText(){const{value:e}=this.state;return null!=e.text?String(e.text):String(e)}}const vt=new c.Registry(()=>{const e=[{id:$e.Lucene,name:"Lucene",description:"Values are lucene escaped and multi-valued variables generate an OR expression",formatter:e=>"string"==typeof e?yt(e):Array.isArray(e)?0===e.length?"__empty__":"("+(0,fe.map)(e,e=>'"'+yt(e)+'"').join(" OR ")+")":yt(`${e}`)},{id:$e.Raw,name:"raw",description:"Keep value as is",formatter:e=>String(e)},{id:$e.Regex,name:"Regex",description:"Values are regex escaped and multi-valued variables generate a (<value>|<value>) expression",formatter:e=>{if("string"==typeof e)return(0,c.escapeRegex)(e);if(Array.isArray(e)){const t=e.map(e=>"string"==typeof e?(0,c.escapeRegex)(e):(0,c.escapeRegex)(String(e)));return 1===t.length?t[0]:"("+t.join("|")+")"}return(0,c.escapeRegex)(`${e}`)}},{id:$e.Pipe,name:"Pipe",description:"Values are separated by | character",formatter:e=>"string"==typeof e?e:Array.isArray(e)?e.join("|"):`${e}`},{id:$e.Distributed,name:"Distributed",description:"Multiple values are formatted like variable=value",formatter:(e,t,n)=>"string"==typeof e?e:Array.isArray(e)?(e=(0,fe.map)(e,(e,t)=>0!==t?n.state.name+"="+e:e),e.join(",")):`${e}`},{id:$e.CSV,name:"Csv",description:"Comma-separated values",formatter:e=>"string"==typeof e?e:(0,fe.isArray)(e)?e.join(","):String(e)},{id:$e.HTML,name:"HTML",description:"HTML escaping of values",formatter:e=>"string"==typeof e?c.textUtil.escapeHtml(e):(0,fe.isArray)(e)?c.textUtil.escapeHtml(e.join(", ")):c.textUtil.escapeHtml(String(e))},{id:$e.JSON,name:"JSON",description:"JSON stringify value",formatter:e=>"string"==typeof e?e:JSON.stringify(e)},{id:$e.PercentEncode,name:"Percent encode",description:"Useful for URL escaping values",formatter:e=>(0,fe.isArray)(e)?wt("{"+e.join(",")+"}"):wt(e)},{id:$e.SingleQuote,name:"Single quote",description:"Single quoted values",formatter:e=>{const t=new RegExp("'","g");if((0,fe.isArray)(e))return(0,fe.map)(e,e=>`'${(0,fe.replace)(e,t,"\\'")}'`).join(",");let n="string"==typeof e?e:String(e);return`'${(0,fe.replace)(n,t,"\\'")}'`}},{id:$e.DoubleQuote,name:"Double quote",description:"Double quoted values",formatter:e=>{const t=new RegExp('"',"g");if((0,fe.isArray)(e))return(0,fe.map)(e,e=>`"${(0,fe.replace)(e,t,'\\"')}"`).join(",");let n="string"==typeof e?e:String(e);return`"${(0,fe.replace)(n,t,'\\"')}"`}},{id:$e.SQLString,name:"SQL string",description:"SQL string quoting and commas for use in IN statements and other scenarios",formatter:At},{id:$e.Date,name:"Date",description:"Format date in different ways",formatter:(e,t)=>{var n;let r=NaN;if("number"==typeof e?r=e:"string"==typeof e&&(r=parseInt(e,10)),isNaN(r))return"NaN";const a=null!=(n=t[0])?n:"iso";switch(a){case"ms":return String(e);case"seconds":return`${Math.round(r/1e3)}`;case"iso":return(0,c.dateTime)(r).toISOString();default:return(t||[]).length>1?(0,c.dateTime)(r).format(t.join(":")):(0,c.dateTime)(r).format(a)}}},{id:$e.Glob,name:"Glob",description:"Format multi-valued variables using glob syntax, example {value1,value2}",formatter:e=>(0,fe.isArray)(e)&&e.length>1?"{"+e.join(",")+"}":String(e)},{id:$e.Text,name:"Text",description:"Format variables in their text representation. Example in multi-variable scenario A + B + C.",formatter:(e,t,n)=>n.getValueText?n.getValueText():String(e)},{id:$e.QueryParam,name:"Query parameter",description:"Format variables as URL parameters. Example in multi-variable scenario A + B + C => var-foo=A&var-foo=B&var-foo=C.",formatter:(e,t,n)=>{if(n.urlSync){const e=n.urlSync.getUrlState();return c.urlUtil.toUrlParams(e)}return Array.isArray(e)?e.map(e=>Ot(n.state.name,e)).join("&"):Ot(n.state.name,e)}},{id:$e.UriEncode,name:"Percent encode as URI",description:"Useful for URL escaping values, taking into URI syntax characters",formatter:e=>(0,fe.isArray)(e)?Et("{"+e.join(",")+"}"):Et(e)}];return e});function yt(e){return!1===isNaN(+e)?e:e.replace(/([\!\*\+\-\=<>\s\&\|\(\)\[\]\{\}\^\~\?\:\\/"])/g,"\\$1")}function wt(e){return"object"==typeof e&&(e=String(e)),St(encodeURIComponent(e))}const Et=e=>St(encodeURI(String(e))),St=e=>e.replace(/[!'()*]/g,e=>"%"+e.charCodeAt(0).toString(16).toUpperCase());function Ot(e,t){return`var-${e}=${wt(t)}`}const Ct={"'":"''",'"':'\\"'};function At(e){const t=new RegExp("'|\"","g");if((0,fe.isArray)(e))return(0,fe.map)(e,e=>`'${(0,fe.replace)(e,t,e=>{var t;return null!=(t=Ct[e])?t:""})}'`).join(",");let n="string"==typeof e?e:String(e);return`'${(0,fe.replace)(n,t,e=>{var t;return null!=(t=Ct[e])?t:""})}'`}const xt="All",Dt="$__all",Pt="$__auto",It=/\$(\w+)|\[\[(\w+?)(?::(\w+))?\]\]|\${(\w+)(?:\.([^:^\}]+))?(?::([^\}]+))?}/g;class Rt{constructor(e){this._value=e}formatter(){return this._value}}class Tt{constructor(e,t){this.state={name:e,type:"time_macro"},this._sceneObject=t}getValue(){const e=dt(this._sceneObject);return"__from"===this.state.name?e.state.value.from.valueOf():e.state.value.to.valueOf()}getValueText(){const e=dt(this._sceneObject);return"__from"===this.state.name?(0,c.dateTimeFormat)(e.state.value.from,{timeZone:e.getTimeZone()}):(0,c.dateTimeFormat)(e.state.value.to,{timeZone:e.getTimeZone()})}}class kt{constructor(e,t,n){this.state={name:e,type:"time_macro",match:n},this._sceneObject=t}getValue(){var e;const t=ru(this._sceneObject);if(t){const n=null==(e=t.state.data)?void 0:e.request;return n?"__interval_ms"===this.state.name?n.intervalMs:n.interval:this.state.match}return this.state.match}}function _t(e,t){e.setState(t)}function Lt(){return u.useLocationService?(0,u.useLocationService)():u.locationService}class Mt extends J{constructor(){super(...arguments),this._urlSync=new Bt(this)}validateAndUpdate(){return this.getValueOptions({}).pipe((0,x.map)(e=>(this.updateValueGivenNewOptions(e),{})))}onCancel(){this.setStateHelper({loading:!1});const e=this.parent;null==e||e.cancel(this)}updateValueGivenNewOptions(e){const{value:t,text:n,options:r}=this.state,a=this.getStateUpdateGivenNewOptions(e,t,n);this.interceptStateUpdateAfterValidation(a),this.setStateHelper(a),(a.value!==t||a.text!==n||this.hasAllValue()&&!(0,fe.isEqual)(e,r))&&this.publishEvent(new pt(this),!0)}getStateUpdateGivenNewOptions(e,t,n){const r={options:e,loading:!1,value:t,text:n};if(0===e.length)return this.state.defaultToAll||this.state.includeAll?(r.value=Dt,r.text=xt):this.state.isMulti?(r.value=[],r.text=[]):(r.value="",r.text=""),r;if(this.hasAllValue())return this.state.includeAll?r.text=xt:(r.value=e[0].value,r.text=e[0].label,this.state.isMulti&&(r.value=[r.value],r.text=[r.text])),r;if(this.state.isMulti){const a=(Array.isArray(t)?t:[t]).filter(t=>e.find(e=>e.value===t)),o=a.map(t=>e.find(e=>e.value===t).label);if(0===a.length){const t=this.getDefaultMultiState(e);r.value=t.value,r.text=t.text}else(0,fe.isEqual)(a,t)||(r.value=a),(0,fe.isEqual)(o,n)||(r.text=o);return r}let a=function(e,t,n){let r;for(const a of n){if(a.value===e)return a;a.label===t&&(r=a)}return r}(t,n,e);if(a)r.text=a.label,r.value=a.value;else{const t=this.getDefaultSingleState(e);r.value=t.value,r.text=t.text}return r}interceptStateUpdateAfterValidation(e){const t=e.value===Dt&&this.state.text===xt;this.skipNextValidation&&e.value!==this.state.value&&e.text!==this.state.text&&!t&&(e.value=this.state.value,e.text=this.state.text),this.skipNextValidation=!1}getValue(){return this.hasAllValue()?this.state.allValue?new jt(this.state.allValue,this):this.state.options.map(e=>e.value):this.state.value}getValueText(){return this.hasAllValue()?xt:Array.isArray(this.state.text)?this.state.text.join(" + "):String(this.state.text)}hasAllValue(){const e=this.state.value;return e===Dt||Array.isArray(e)&&e[0]===Dt}getDefaultMultiState(e){return this.state.defaultToAll?{value:[Dt],text:[xt]}:e.length>0?{value:[e[0].value],text:[e[0].label]}:{value:[],text:[]}}getDefaultSingleState(e){return this.state.defaultToAll?{value:Dt,text:xt}:e.length>0?{value:e[0].value,text:e[0].label}:{value:"",text:""}}changeValueTo(e,t){if(e!==this.state.value||t!==this.state.text){if(t||(t=Array.isArray(e)?e.map(e=>this.findLabelTextForValue(e)):this.findLabelTextForValue(e)),Array.isArray(e)){if(0===e.length){const n=this.getDefaultMultiState(this.state.options);e=n.value,t=n.text}e[e.length-1]===Dt?(e=[Dt],t=[xt]):e[0]===Dt&&e.length>1&&(e.shift(),Array.isArray(t)&&t.shift())}(0,fe.isEqual)(e,this.state.value)&&(0,fe.isEqual)(t,this.state.text)||(this.setStateHelper({value:e,text:t,loading:!1}),this.publishEvent(new pt(this),!0))}}findLabelTextForValue(e){if(e===Dt)return xt;const t=this.state.options.find(t=>t.value===e);if(t)return t.label;const n=this.state.options.find(t=>t.label===e);return n?n.label:e}setStateHelper(e){_t(this,e)}getOptionsForSelect(e=!0){let t=this.state.options;return this.state.includeAll&&(t=[{value:Dt,label:xt},...t]),e&&!Array.isArray(this.state.value)&&(t.find(e=>e.value===this.state.value)||(t=[{value:this.state.value,label:String(this.state.text)},...t])),t}refreshOptions(){this.getValueOptions({}).subscribe(e=>{this.updateValueGivenNewOptions(e)})}}class Bt{constructor(e){this._sceneObject=e}getKey(){return`var-${this._sceneObject.state.name}`}getKeys(){return this._sceneObject.state.skipUrlSync?[]:[this.getKey()]}getUrlState(){if(this._sceneObject.state.skipUrlSync)return{};let e=null,t=this._sceneObject.state.value;return e=Array.isArray(t)?t.map(String):this._sceneObject.state.isMulti?[String(t)]:String(t),{[this.getKey()]:e}}updateFromUrl(e){let t=e[this.getKey()];var n;null!=t&&(this._sceneObject.state.includeAll&&(n=t,t=(0,fe.isArray)(n)&&n[0]===xt?[Dt]:n===xt?Dt:n),this._sceneObject.state.allValue&&this._sceneObject.state.allValue===t&&(t=Dt),this._sceneObject.isActive||(this._sceneObject.skipNextValidation=!0),this._sceneObject.changeValueTo(t))}}class jt{constructor(e,t){this._value=e,this._variable=t}formatter(e){return e===$e.Text?xt:e===$e.PercentEncode?vt.get($e.PercentEncode).formatter(this._value,[],this._variable):e===$e.QueryParam?vt.get($e.QueryParam).formatter(xt,[],this._variable):this._value}}function Nt(e,t={}){if(e.state.$variables)for(const n of e.state.$variables.state.variables)n.state.skipUrlSync||t[n.state.name]||(t[n.state.name]=n);return e.parent&&Nt(e.parent,t),t}var Vt=Object.defineProperty,Ft=Object.defineProperties,$t=Object.getOwnPropertyDescriptors,Ut=Object.getOwnPropertySymbols,zt=Object.prototype.hasOwnProperty,Wt=Object.prototype.propertyIsEnumerable,Ht=(e,t,n)=>t in e?Vt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const Gt=(0,c.getDisplayProcessor)();class qt{constructor(e){this._urlQueryParams=e}formatter(e){if(!e)return this._urlQueryParams;const t=e.split(":");if("exclude"===t[0]&&t.length>1){const e=new URLSearchParams(this._urlQueryParams);for(const n of t[1].split(","))e.delete(n);return`?${e}`}if("include"===t[0]&&t.length>1){const e=new URLSearchParams(this._urlQueryParams),n=t[1].split(",");for(const t of e.keys())n.includes(t)||e.delete(t);return`?${e}`}return this._urlQueryParams}}const Qt=new Map([[c.DataLinkBuiltInVars.includeVars,class{constructor(e,t){this.state={name:e,type:"url_variable"},this._sceneObject=t}getValue(){const e=Nt(this._sceneObject),t=vt.get($e.QueryParam),n=[];for(const r of Object.keys(e)){const a=e[r];if(a instanceof Mt&&a.hasAllValue()&&!a.state.allValue){n.push(t.formatter(Dt,[],a));continue}const o=a.getValue();o&&(ft(o)?n.push(o.formatter($e.QueryParam)):n.push(t.formatter(o,[],a)))}return new Rt(n.join("&"))}getValueText(){return""}}],[c.DataLinkBuiltInVars.keepTime,class{constructor(e,t){this.state={name:e,type:"url_variable"},this._sceneObject=t}getValue(){var e;const t=null==(e=dt(this._sceneObject).urlSync)?void 0:e.getUrlState();return"browser"===(null==t?void 0:t.timezone)&&(t.timezone=Intl.DateTimeFormat().resolvedOptions().timeZone),new Rt(c.urlUtil.toUrlParams(t))}getValueText(){return""}}],["__value",class{constructor(e,t,n,r){this._match=n,this._scopedVars=r,this.state={name:e,type:"__value"}}getValue(e){var t,n;const r=null==(t=this._scopedVars)?void 0:t.__dataContext;if(!r)return this._match;const{frame:a,rowIndex:o,field:i,calculatedValue:s}=r.value;if(s)switch(e){case"numeric":case"raw":return s.numeric;case"time":return"";default:return(0,c.formattedValueToString)(s)}if(null==o)return this._match;if("time"===e){const e=a.fields.find(e=>e.type===c.FieldType.time);return e?e.values.get(o):void 0}if(!i)return this._match;const l=i.values.get(o);if("raw"===e)return l;const u=(null!=(n=i.display)?n:Gt)(l);return"numeric"===e?u.numeric:(0,c.formattedValueToString)(u)}getValueText(){return""}}],["__data",class{constructor(e,t,n,r){this._match=n,this._scopedVars=r,this.state={name:e,type:"__data"}}getValue(e){var t,n;const r=null==(t=this._scopedVars)?void 0:t.__dataContext;if(!r||!e)return this._match;const{frame:a,rowIndex:o}=r.value;if(void 0===o||void 0===e)return this._match;const i={name:a.name,refId:a.refId,fields:(0,c.getFieldDisplayValuesProxy)({frame:a,rowIndex:o})};return null!=(n=gt(e)(i))?n:""}getValueText(){return""}}],["__series",class{constructor(e,t,n,r){this._match=n,this._scopedVars=r,this.state={name:e,type:"__series"}}getValue(e){var t;const n=null==(t=this._scopedVars)?void 0:t.__dataContext;if(!n||!e)return this._match;if("name"!==e)return this._match;const{frame:r,frameIndex:a}=n.value;return(0,c.getFrameDisplayName)(r,a)}getValueText(){return""}}],["__field",class{constructor(e,t,n,r){this._match=n,this._scopedVars=r,this.state={name:e,type:"__field"}}getValue(e){var t,n;const r=null==(t=this._scopedVars)?void 0:t.__dataContext;if(!r||!e)return this._match;if(void 0===e||""===e)return this._match;const{frame:a,field:o,data:i}=r.value,s=function(e,t,n){return new Proxy({},{get:(r,a)=>{return"name"===a?e.name:"displayName"===a?(0,c.getFieldDisplayName)(e,t,n):"labels"===a||"formattedLabels"===a?e.labels?(o=((e,t)=>{for(var n in t||(t={}))zt.call(t,n)&&Ht(e,n,t[n]);if(Ut)for(var n of Ut(t))Wt.call(t,n)&&Ht(e,n,t[n]);return e})({},e.labels),i={__values:Object.values(e.labels).sort().join(", "),toString:()=>(0,c.formatLabels)(e.labels,"",!0)},Ft(o,$t(i))):"":void 0;var o,i}})}(o,a,i);return null!=(n=gt(e)(s))?n:""}getValueText(){return""}}],["__url",class{constructor(e,t){this.state={name:e,type:"url_macro"}}getValue(e){var t;const n=u.locationService.getLocation(),r=null!=(t=u.config.appSubUrl)?t:"";switch(null!=e?e:""){case"params":return new qt(n.search);case"path":return r+n.pathname;default:return r+n.pathname+n.search}}getValueText(){return""}}],["__from",Tt],["__to",Tt],["__timezone",class{constructor(e,t){this.state={name:e,type:"time_macro"},this._sceneObject=t}getValue(){const e=dt(this._sceneObject).getTimeZone();return"browser"===e?Intl.DateTimeFormat().resolvedOptions().timeZone:e}getValueText(){return this.getValue()}}],["__user",class{constructor(e,t){this.state={name:e,type:"user_macro"}}getValue(e){const t=u.config.bootData.user;switch(e){case"login":return t.login;case"email":return t.email;default:return String(t.id)}}getValueText(){return""}}],["__org",class{constructor(e,t){this.state={name:e,type:"org_macro"}}getValue(e){const t=u.config.bootData.user;return"name"===e?t.orgName:String(t.orgId)}getValueText(){return""}}],["__interval",kt],["__interval_ms",kt]]);function Yt(e,t,n,r,a){return t&&"string"==typeof t?(It.lastIndex=0,t.replace(It,(t,o,i,s,l,c,u)=>{const d=o||i||l,p=s||u||r,f=function(e,t,n,r){if(n&&n.hasOwnProperty(e)){const t=n[e];if(t)return function(e,t){return ht?(ht.state.name=e,ht.state.value=t):ht=new bt(e,t),ht}(e,t)}const a=he(e,r);if(a)return a;const o=Qt.get(e);return o?new o(e,r,t,n):null}(d,t,n,e);if(!f)return a&&a.push({match:t,variableName:d,fieldPath:c,format:p,value:t,found:!1}),t;const h=function(e,t,n,r){if(null==n)return"";if(ft(n))return Yt(e,n.formatter(r));if(Array.isArray(n)||"object"!=typeof n||(n=`${n}`),"function"==typeof r)return r(n,{name:t.state.name,type:t.state.type,multi:t.state.isMulti,includeAll:t.state.includeAll});let a=[];r?(a=r.split(":"),a.length>1?(r=a[0],a=a.slice(1)):a=[]):r=$e.Glob;let o=vt.getIfExists(r);return o||(console.error(`Variable format ${r} not found. Using glob format as fallback.`),o=vt.get($e.Glob)),o.formatter(n,a,t)}(e,f,f.getValue(c),p);return a&&a.push({match:t,variableName:d,fieldPath:c,format:p,value:h,found:h!==t}),h})):null!=t?t:""}function Kt(e){return void 0!==e.useState}function Xt(e){return"enrichDataRequest"in e}function Zt(e){return"enrichFiltersRequest"in e}function Jt(e){return"isDataLayer"in e}function en(e){return t=>{const n=lu.getQueryController(e.origin);return n?new x.Observable(r=>{e.cancel||(e.cancel=()=>r.complete()),n.queryStarted(e);let a=!1;const o=t.subscribe({next:t=>{a||t.state===Ue.Loading||(a=!0,n.queryCompleted(e)),r.next(t)},error:e=>r.error(e),complete:()=>{r.complete()}});return()=>{o.unsubscribe(),a||n.queryCompleted(e)}}):t}}function tn(e){return new x.Observable(t=>{t.next({state:Ue.Loading}),(0,x.from)(e).pipe((0,x.map)(()=>({state:Ue.Done})),(0,x.catchError)(()=>(t.next({state:Ue.Error}),[]))).subscribe({next:e=>t.next(e),complete:()=>t.complete()})})}async function nn(e,t){if(null==e?void 0:e.uid){const t=de.get(e.uid);if(t)return t}if(e&&e.query)return e;const n=(0,u.getDataSourceSrv)().get(e,t);if(t.__sceneObject&&t.__sceneObject.value.valueOf()){const e=lu.getQueryController(t.__sceneObject.value.valueOf());e&&e.state.enableProfiling&&tn(n).pipe(en({type:"plugin",origin:t.__sceneObject.value.valueOf()})).subscribe(()=>{})}return await n}class rn{constructor(){this._values=new Map}recordCurrentDependencyValuesForSceneObject(e){if(this.clearValues(),e.variableDependency)for(const t of e.variableDependency.getNames()){const n=lu.lookupVariable(t,e);n&&this._values.set(n.state.name,n.getValue())}}cloneAndRecordCurrentValuesForSceneObject(e){const t=new rn;return t.recordCurrentDependencyValuesForSceneObject(e),t}clearValues(){this._values.clear()}hasValues(){return!!this._values}recordCurrentValue(e){this._values.set(e.state.name,e.getValue())}hasRecordedValue(e){return this._values.has(e.state.name)}hasValueChanged(e){return!(!this._values.has(e.state.name)||oc(this._values.get(e.state.name),e.getValue()))}hasDependenciesChanged(e){if(!this._values)return!1;if(!e.variableDependency)return!1;for(const t of e.variableDependency.getNames()){const n=lu.lookupVariable(t,e);if(!n)continue;const r=n.state.name;if(n&&this._values.has(r)&&!oc(this._values.get(r),n.getValue()))return!0}return!1}}function an(e){return"object"==typeof e&&"getExtraQueries"in e}var on=Object.defineProperty,sn=Object.defineProperties,ln=Object.getOwnPropertyDescriptors,cn=Object.getOwnPropertySymbols,un=Object.prototype.hasOwnProperty,dn=Object.prototype.propertyIsEnumerable,pn=(e,t,n)=>t in e?on(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const fn=(e,t)=>(0,x.of)(t);var hn=Object.defineProperty,mn=Object.defineProperties,gn=Object.getOwnPropertyDescriptors,bn=Object.getOwnPropertySymbols,vn=Object.prototype.hasOwnProperty,yn=Object.prototype.propertyIsEnumerable,wn=(e,t,n)=>t in e?hn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,En=(e,t)=>{for(var n in t||(t={}))vn.call(t,n)&&wn(e,n,t[n]);if(bn)for(var n of bn(t))yn.call(t,n)&&wn(e,n,t[n]);return e},Sn=(e,t)=>mn(e,gn(t));const On=0;function Cn(e){const t=e.getRoot();return Xt(t)?t.enrichDataRequest(e):null}let An,xn=new Set;const Dn=new Set;var Pn=n(2007),In=n(8449);function Rn(e,t="latest"){return Tn(e,t.replace(/\-.*/,""))}function Tn(e,t){const n={};for(const[r,a]of Object.entries(e))kn(a)?n[r]=Tn(a,t):(Ln(a,r),n[r]=_n(a,t));return n}function kn(e){if("object"==typeof e){const[t]=Object.keys(e);return!(0,In.valid)(t)}return!1}function _n(e,t){let n,r=Object.keys(e).sort(In.compare);if("latest"===t)return e[r[r.length-1]];for(const e of r)(0,In.gte)(t,e)&&(n=e);return n||(n=r[r.length-1]),e[n]}function Ln(e,t){if(!Object.keys(e).every(e=>(0,In.valid)(e)))throw new Error(`Invalid semver version: '${t}'`)}const Mn="8.5.0",Bn={RadioButton:{container:{"10.2.3":"data-testid radio-button"}},Breadcrumbs:{breadcrumb:{"9.4.0":e=>`data-testid ${e} breadcrumb`}},TimePicker:{openButton:{[Mn]:"data-testid TimePicker Open Button"},overlayContent:{"10.2.3":"data-testid TimePicker Overlay Content"},fromField:{"10.2.3":"data-testid Time Range from field",[Mn]:"Time Range from field"},toField:{"10.2.3":"data-testid Time Range to field",[Mn]:"Time Range to field"},applyTimeRange:{[Mn]:"data-testid TimePicker submit button"},copyTimeRange:{"10.4.0":"data-testid TimePicker copy button"},pasteTimeRange:{"10.4.0":"data-testid TimePicker paste button"},calendar:{label:{"10.2.3":"data-testid Time Range calendar",[Mn]:"Time Range calendar"},openButton:{"10.2.3":"data-testid Open time range calendar",[Mn]:"Open time range calendar"},closeButton:{"10.2.3":"data-testid Close time range Calendar",[Mn]:"Close time range Calendar"}},absoluteTimeRangeTitle:{[Mn]:"data-testid-absolute-time-range-narrow"}},DataSourcePermissions:{form:{"9.5.0":()=>'form[name="addPermission"]'},roleType:{"9.5.0":"Role to add new permission to"},rolePicker:{"9.5.0":"Built-in role picker"},permissionLevel:{"9.5.0":"Permission Level"}},DateTimePicker:{input:{"10.2.3":"data-testid date-time-input"}},DataSource:{TestData:{QueryTab:{scenarioSelectContainer:{[Mn]:"Test Data Query scenario select container"},scenarioSelect:{[Mn]:"Test Data Query scenario select"},max:{[Mn]:"TestData max"},min:{[Mn]:"TestData min"},noise:{[Mn]:"TestData noise"},seriesCount:{[Mn]:"TestData series count"},spread:{[Mn]:"TestData spread"},startValue:{[Mn]:"TestData start value"},drop:{[Mn]:"TestData drop values"}}},DataSourceHttpSettings:{urlInput:{"10.4.0":"data-testid Datasource HTTP settings url",[Mn]:"Datasource HTTP settings url"}},Jaeger:{traceIDInput:{[Mn]:"Trace ID"}},Prometheus:{configPage:{connectionSettings:{[Mn]:"Data source connection URL"},manageAlerts:{"10.4.0":"prometheus-alerts-manager"},scrapeInterval:{"10.4.0":"data-testid scrape interval"},queryTimeout:{"10.4.0":"data-testid query timeout"},defaultEditor:{"10.4.0":"data-testid default editor"},disableMetricLookup:{"10.4.0":"disable-metric-lookup"},prometheusType:{"10.4.0":"data-testid prometheus type"},prometheusVersion:{"10.4.0":"data-testid prometheus version"},cacheLevel:{"10.4.0":"data-testid cache level"},incrementalQuerying:{"10.4.0":"prometheus-incremental-querying"},queryOverlapWindow:{"10.4.0":"data-testid query overlap window"},disableRecordingRules:{"10.4.0":"disable-recording-rules"},customQueryParameters:{"10.4.0":"data-testid custom query parameters"},httpMethod:{"10.4.0":"data-testid http method"},exemplarsAddButton:{"10.3.0":"data-testid Add exemplar config button",[Mn]:"Add exemplar config button"},internalLinkSwitch:{"10.3.0":"data-testid Internal link switch",[Mn]:"Internal link switch"},codeModeMetricNamesSuggestionLimit:{"11.1.0":"data-testid code mode metric names suggestion limit"}},queryEditor:{explain:{"10.4.0":"data-testid prometheus explain switch wrapper"},editorToggle:{"10.4.0":"data-testid QueryEditorModeToggle"},options:{"10.4.0":"data-testid prometheus options"},legend:{"10.4.0":"data-testid prometheus legend wrapper"},format:{"10.4.0":"data-testid prometheus format"},step:{"10.4.0":"prometheus-step"},type:{"10.4.0":"data-testid prometheus type"},exemplars:{"10.4.0":"prometheus-exemplars"},builder:{metricSelect:{"10.4.0":"data-testid metric select"},hints:{"10.4.0":"data-testid prometheus hints"},metricsExplorer:{"10.4.0":"data-testid metrics explorer"},queryAdvisor:{"10.4.0":"data-testid query advisor"}},code:{queryField:{"10.4.0":"data-testid prometheus query field"},metricsCountInfo:{"11.1.0":"data-testid metrics count disclaimer"},metricsBrowser:{openButton:{"10.4.0":"data-testid open metrics browser"},selectMetric:{"10.4.0":"data-testid select a metric"},seriesLimit:{"10.3.1":"data-testid series limit"},metricList:{"10.4.0":"data-testid metric list"},labelNamesFilter:{"10.4.0":"data-testid label names filter"},labelValuesFilter:{"10.4.0":"data-testid label values filter"},useQuery:{"10.4.0":"data-testid use query"},useAsRateQuery:{"10.4.0":"data-testid use as rate query"},validateSelector:{"10.4.0":"data-testid validate selector"},clear:{"10.4.0":"data-testid clear"}}}},exemplarMarker:{"10.3.0":"data-testid Exemplar marker",[Mn]:"Exemplar marker"},variableQueryEditor:{queryType:{"10.4.0":"data-testid query type"},labelnames:{metricRegex:{"10.4.0":"data-testid label names metric regex"}},labelValues:{labelSelect:{"10.4.0":"data-testid label values label select"}},metricNames:{metricRegex:{"10.4.0":"data-testid metric names metric regex"}},varQueryResult:{"10.4.0":"data-testid variable query result"},seriesQuery:{"10.4.0":"data-testid prometheus series query"},classicQuery:{"10.4.0":"data-testid prometheus classic query"}},annotations:{minStep:{"10.4.0":"prometheus-annotation-min-step"},title:{"10.4.0":"data-testid prometheus annotation title"},tags:{"10.4.0":"data-testid prometheus annotation tags"},text:{"10.4.0":"data-testid prometheus annotation text"},seriesValueAsTimestamp:{"10.4.0":"data-testid prometheus annotation series value as timestamp"}}}},Menu:{MenuComponent:{[Mn]:e=>`${e} menu`},MenuGroup:{[Mn]:e=>`${e} menu group`},MenuItem:{[Mn]:e=>`${e} menu item`},SubMenu:{container:{"10.3.0":"data-testid SubMenu container",[Mn]:"SubMenu container"},icon:{"10.3.0":"data-testid SubMenu icon",[Mn]:"SubMenu icon"}}},Panels:{Panel:{title:{[Mn]:e=>`data-testid Panel header ${e}`},content:{"11.1.0":"data-testid panel content"},headerItems:{"10.2.0":e=>`data-testid Panel header item ${e}`},menuItems:{"9.5.0":e=>`data-testid Panel menu item ${e}`},menu:{"9.5.0":e=>`data-testid Panel menu ${e}`},containerByTitle:{[Mn]:e=>`${e} panel`},headerCornerInfo:{[Mn]:e=>`Panel header ${e}`},status:{"10.2.0":e=>`data-testid Panel status ${e}`,[Mn]:e=>"Panel status"},loadingBar:{"10.0.0":()=>"Panel loading bar"},HoverWidget:{container:{"10.1.0":"data-testid hover-header-container",[Mn]:"hover-header-container"},dragIcon:{"10.0.0":"data-testid drag-icon"}},PanelDataErrorMessage:{"10.4.0":"data-testid Panel data error message"}},Visualization:{Graph:{container:{"9.5.0":"Graph container"},VisualizationTab:{legendSection:{[Mn]:"Legend section"}},Legend:{legendItemAlias:{[Mn]:e=>`gpl alias ${e}`},showLegendSwitch:{[Mn]:"gpl show legend"}},xAxis:{labels:{[Mn]:()=>"div.flot-x-axis > div.flot-tick-label"}}},BarGauge:{valueV2:{[Mn]:"data-testid Bar gauge value"}},PieChart:{svgSlice:{"10.3.0":"data testid Pie Chart Slice"}},Text:{container:{[Mn]:()=>".markdown-html"}},Table:{header:{[Mn]:"table header"},footer:{[Mn]:"table-footer"},body:{"10.2.0":"data-testid table body"}}}},VizLegend:{seriesName:{"10.3.0":e=>`data-testid VizLegend series ${e}`}},Drawer:{General:{title:{[Mn]:e=>`Drawer title ${e}`},expand:{[Mn]:"Drawer expand"},contract:{[Mn]:"Drawer contract"},close:{"10.3.0":"data-testid Drawer close",[Mn]:"Drawer close"},rcContentWrapper:{"9.4.0":()=>".rc-drawer-content-wrapper"},subtitle:{"10.4.0":"data-testid drawer subtitle"}},DashboardSaveDrawer:{saveButton:{"11.1.0":"data-testid Save dashboard drawer button"},saveAsButton:{"11.1.0":"data-testid Save as dashboard drawer button"},saveAsTitleInput:{"11.1.0":"Save dashboard title field"}}},PanelEditor:{General:{content:{"11.1.0":"data-testid Panel editor content","8.0.0":"Panel editor content"}},OptionsPane:{content:{"11.1.0":"data-testid Panel editor option pane content",[Mn]:"Panel editor option pane content"},select:{[Mn]:"Panel editor option pane select"},fieldLabel:{[Mn]:e=>`${e} field property editor`},fieldInput:{"11.0.0":e=>`data-testid Panel editor option pane field input ${e}`}},DataPane:{content:{"11.1.0":"data-testid Panel editor data pane content",[Mn]:"Panel editor data pane content"}},applyButton:{"9.2.0":"data-testid Apply changes and go back to dashboard","9.1.0":"Apply changes and go back to dashboard","8.0.0":"panel editor apply"},toggleVizPicker:{"10.0.0":"data-testid toggle-viz-picker","8.0.0":"toggle-viz-picker"},toggleVizOptions:{"10.1.0":"data-testid toggle-viz-options",[Mn]:"toggle-viz-options"},toggleTableView:{"11.1.0":"data-testid toggle-table-view",[Mn]:"toggle-table-view"},showZoomField:{"10.2.0":"Map controls Show zoom control field property editor"},showAttributionField:{"10.2.0":"Map controls Show attribution field property editor"},showScaleField:{"10.2.0":"Map controls Show scale field property editor"},showMeasureField:{"10.2.0":"Map controls Show measure tools field property editor"},showDebugField:{"10.2.0":"Map controls Show debug field property editor"},measureButton:{"9.2.0":"show measure tools"}},PanelInspector:{Data:{content:{[Mn]:"Panel inspector Data content"}},Stats:{content:{[Mn]:"Panel inspector Stats content"}},Json:{content:{"11.1.0":"data-testid Panel inspector Json content",[Mn]:"Panel inspector Json content"}},Query:{content:{[Mn]:"Panel inspector Query content"},refreshButton:{[Mn]:"Panel inspector Query refresh button"},jsonObjectKeys:{[Mn]:()=>".json-formatter-key"}}},Tab:{title:{"11.2.0":e=>`data-testid Tab ${e}`},active:{[Mn]:()=>'[class*="-activeTabStyle"]'}},RefreshPicker:{runButtonV2:{[Mn]:"data-testid RefreshPicker run button"},intervalButtonV2:{[Mn]:"data-testid RefreshPicker interval button"}},QueryTab:{content:{[Mn]:"Query editor tab content"},queryInspectorButton:{[Mn]:"Query inspector button"},queryHistoryButton:{"10.2.0":"data-testid query-history-button",[Mn]:"query-history-button"},addQuery:{"10.2.0":"data-testid query-tab-add-query",[Mn]:"Query editor add query button"},queryGroupTopSection:{"11.2.0":"data-testid query group top section"},addExpression:{"11.2.0":"data-testid query-tab-add-expression"}},QueryHistory:{queryText:{"9.0.0":"Query text"}},QueryEditorRows:{rows:{[Mn]:"Query editor row"}},QueryEditorRow:{actionButton:{"10.4.0":e=>`data-testid ${e}`},title:{[Mn]:e=>`Query editor row title ${e}`},container:{[Mn]:e=>`Query editor row ${e}`}},AlertTab:{content:{"10.2.3":"data-testid Alert editor tab content",[Mn]:"Alert editor tab content"}},AlertRules:{groupToggle:{"11.0.0":"data-testid group-collapse-toggle"},toggle:{"11.0.0":"data-testid collapse-toggle"},expandedContent:{"11.0.0":"data-testid expanded-content"},previewButton:{"11.1.0":"data-testid alert-rule preview-button"},ruleNameField:{"11.1.0":"data-testid alert-rule name-field"},newFolderButton:{"11.1.0":"data-testid alert-rule new-folder-button"},newFolderNameField:{"11.1.0":"data-testid alert-rule name-folder-name-field"},newFolderNameCreateButton:{"11.1.0":"data-testid alert-rule name-folder-name-create-button"},newEvaluationGroupButton:{"11.1.0":"data-testid alert-rule new-evaluation-group-button"},newEvaluationGroupName:{"11.1.0":"data-testid alert-rule new-evaluation-group-name"},newEvaluationGroupInterval:{"11.1.0":"data-testid alert-rule new-evaluation-group-interval"},newEvaluationGroupCreate:{"11.1.0":"data-testid alert-rule new-evaluation-group-create-button"},step:{"11.5.0":e=>`data-testid alert-rule step-${e}`},stepAdvancedModeSwitch:{"11.5.0":e=>`data-testid advanced-mode-switch step-${e}`}},Alert:{alertV2:{[Mn]:e=>`data-testid Alert ${e}`}},TransformTab:{content:{"10.1.0":"data-testid Transform editor tab content",[Mn]:"Transform editor tab content"},newTransform:{"10.1.0":e=>`data-testid New transform ${e}`},transformationEditor:{"10.1.0":e=>`data-testid Transformation editor ${e}`},transformationEditorDebugger:{"10.1.0":e=>`data-testid Transformation editor debugger ${e}`}},Transforms:{card:{"10.1.0":e=>`data-testid New transform ${e}`},disableTransformationButton:{"10.4.0":"data-testid Disable transformation button"},Reduce:{modeLabel:{"10.2.3":"data-testid Transform mode label",[Mn]:"Transform mode label"},calculationsLabel:{"10.2.3":"data-testid Transform calculations label",[Mn]:"Transform calculations label"}},SpatialOperations:{actionLabel:{"9.1.2":"root Action field property editor"},locationLabel:{"10.2.0":"root Location Mode field property editor"},location:{autoOption:{"9.1.2":"Auto location option"},coords:{option:{"9.1.2":"Coords location option"},latitudeFieldLabel:{"9.1.2":"root Latitude field field property editor"},longitudeFieldLabel:{"9.1.2":"root Longitude field field property editor"}},geohash:{option:{"9.1.2":"Geohash location option"},geohashFieldLabel:{"9.1.2":"root Geohash field field property editor"}},lookup:{option:{"9.1.2":"Lookup location option"},lookupFieldLabel:{"9.1.2":"root Lookup field field property editor"},gazetteerFieldLabel:{"9.1.2":"root Gazetteer field property editor"}}}},searchInput:{"10.2.3":"data-testid search transformations",[Mn]:"search transformations"},noTransformationsMessage:{"10.2.3":"data-testid no transformations message"},addTransformationButton:{"10.1.0":"data-testid add transformation button",[Mn]:"add transformation button"},removeAllTransformationsButton:{"10.4.0":"data-testid remove all transformations button"}},NavBar:{Configuration:{button:{"9.5.0":"Configuration"}},Toggle:{button:{"10.2.3":"data-testid Toggle menu",[Mn]:"Toggle menu"}},Reporting:{button:{"9.5.0":"Reporting"}}},NavMenu:{Menu:{"10.2.3":"data-testid navigation mega-menu"},item:{"9.5.0":"data-testid Nav menu item"}},NavToolbar:{container:{"9.4.0":"data-testid Nav toolbar"},commandPaletteTrigger:{"11.5.0":"data-testid Command palette trigger"},shareDashboard:{"11.1.0":"data-testid Share dashboard"},markAsFavorite:{"11.1.0":"data-testid Mark as favorite"},editDashboard:{editButton:{"11.1.0":"data-testid Edit dashboard button"},saveButton:{"11.1.0":"data-testid Save dashboard button"},exitButton:{"11.1.0":"data-testid Exit edit mode button"},settingsButton:{"11.1.0":"data-testid Dashboard settings"},addRowButton:{"11.1.0":"data-testid Add row button"},addLibraryPanelButton:{"11.1.0":"data-testid Add a panel from the panel library button"},addVisualizationButton:{"11.1.0":"data-testid Add new visualization menu item"},pastePanelButton:{"11.1.0":"data-testid Paste panel button"},discardChangesButton:{"11.1.0":"data-testid Discard changes button"},discardLibraryPanelButton:{"11.1.0":"data-testid Discard library panel button"},unlinkLibraryPanelButton:{"11.1.0":"data-testid Unlink library panel button"},saveLibraryPanelButton:{"11.1.0":"data-testid Save library panel button"},backToDashboardButton:{"11.1.0":"data-testid Back to dashboard button"}}},PageToolbar:{container:{[Mn]:()=>".page-toolbar"},item:{[Mn]:e=>`${e}`},itemButton:{"9.5.0":e=>`data-testid ${e}`}},QueryEditorToolbarItem:{button:{[Mn]:e=>`QueryEditor toolbar item button ${e}`}},BackButton:{backArrow:{"10.3.0":"data-testid Go Back",[Mn]:"Go Back"}},OptionsGroup:{group:{"11.1.0":e=>e?`data-testid Options group ${e}`:"data-testid Options group",[Mn]:e=>e?`Options group ${e}`:"Options group"},toggle:{"11.1.0":e=>e?`data-testid Options group ${e} toggle`:"data-testid Options group toggle",[Mn]:e=>e?`Options group ${e} toggle`:"Options group toggle"}},PluginVisualization:{item:{[Mn]:e=>`Plugin visualization item ${e}`},current:{[Mn]:()=>'[class*="-currentVisualizationItem"]'}},Select:{menu:{"11.5.0":"data-testid Select menu",[Mn]:"Select options menu"},option:{"11.1.0":"data-testid Select option",[Mn]:"Select option"},toggleAllOptions:{"11.3.0":"data-testid toggle all options"},input:{[Mn]:()=>'input[id*="time-options-input"]'},singleValue:{[Mn]:()=>'div[class*="-singleValue"]'}},FieldConfigEditor:{content:{[Mn]:"Field config editor content"}},OverridesConfigEditor:{content:{[Mn]:"Field overrides editor content"}},FolderPicker:{containerV2:{[Mn]:"data-testid Folder picker select container"},input:{"10.4.0":"data-testid folder-picker-input"}},ReadonlyFolderPicker:{container:{[Mn]:"data-testid Readonly folder picker select container"}},DataSourcePicker:{container:{"10.0.0":"data-testid Data source picker select container","8.0.0":"Data source picker select container"},inputV2:{"10.1.0":"data-testid Select a data source",[Mn]:"Select a data source"},dataSourceList:{"10.4.0":"data-testid Data source list dropdown"},advancedModal:{dataSourceList:{"10.4.0":"data-testid Data source list"},builtInDataSourceList:{"10.4.0":"data-testid Built in data source list"}}},TimeZonePicker:{containerV2:{[Mn]:"data-testid Time zone picker select container"},changeTimeSettingsButton:{"11.0.0":"data-testid Time zone picker Change time settings button"}},WeekStartPicker:{containerV2:{[Mn]:"data-testid Choose starting day of the week"},placeholder:{[Mn]:"Choose starting day of the week"}},TraceViewer:{spanBar:{"9.0.0":"data-testid SpanBar--wrapper"}},QueryField:{container:{"10.3.0":"data-testid Query field",[Mn]:"Query field"}},QueryBuilder:{queryPatterns:{"10.3.0":"data-testid Query patterns",[Mn]:"Query patterns"},labelSelect:{"10.3.0":"data-testid Select label",[Mn]:"Select label"},inputSelect:{"11.1.0":"data-testid Select label-input"},valueSelect:{"10.3.0":"data-testid Select value",[Mn]:"Select value"},matchOperatorSelect:{"10.3.0":"data-testid Select match operator",[Mn]:"Select match operator"}},ValuePicker:{button:{"10.3.0":e=>`data-testid Value picker button ${e}`},select:{"10.3.0":e=>`data-testid Value picker select ${e}`}},Search:{sectionV2:{[Mn]:"data-testid Search section"},itemsV2:{[Mn]:"data-testid Search items"},cards:{[Mn]:"data-testid Search cards"},collapseFolder:{[Mn]:e=>`data-testid Collapse folder ${e}`},expandFolder:{[Mn]:e=>`data-testid Expand folder ${e}`},dashboardItem:{[Mn]:e=>`data-testid Dashboard search item ${e}`},dashboardCard:{[Mn]:e=>`data-testid Search card ${e}`},folderHeader:{"9.3.0":e=>`data-testid Folder header ${e}`},folderContent:{"9.3.0":e=>`data-testid Folder content ${e}`},dashboardItems:{[Mn]:"data-testid Dashboard search item"}},DashboardLinks:{container:{[Mn]:"data-testid Dashboard link container"},dropDown:{[Mn]:"data-testid Dashboard link dropdown"},link:{[Mn]:"data-testid Dashboard link"}},LoadingIndicator:{icon:{"10.4.0":"data-testid Loading indicator",[Mn]:"Loading indicator"}},CallToActionCard:{buttonV2:{[Mn]:e=>`data-testid Call to action button ${e}`}},DataLinksContextMenu:{singleLink:{"10.3.0":"data-testid Data link",[Mn]:"Data link"}},CodeEditor:{container:{"10.2.3":"data-testid Code editor container",[Mn]:"Code editor container"}},ReactMonacoEditor:{editorLazy:{"11.1.0":"data-testid ReactMonacoEditor editorLazy"}},DashboardImportPage:{textarea:{[Mn]:"data-testid-import-dashboard-textarea"},submit:{[Mn]:"data-testid-load-dashboard"}},ImportDashboardForm:{name:{[Mn]:"data-testid-import-dashboard-title"},submit:{[Mn]:"data-testid-import-dashboard-submit"}},PanelAlertTabContent:{content:{"10.2.3":"data-testid Unified alert editor tab content",[Mn]:"Unified alert editor tab content"}},VisualizationPreview:{card:{[Mn]:e=>`data-testid suggestion-${e}`}},ColorSwatch:{name:{[Mn]:"data-testid-colorswatch"}},DashboardRow:{title:{[Mn]:e=>`data-testid dashboard-row-title-${e}`}},UserProfile:{profileSaveButton:{[Mn]:"data-testid-user-profile-save"},preferencesSaveButton:{[Mn]:"data-testid-shared-prefs-save"},orgsTable:{[Mn]:"data-testid-user-orgs-table"},sessionsTable:{[Mn]:"data-testid-user-sessions-table"},extensionPointTabs:{"10.2.3":"data-testid-extension-point-tabs"},extensionPointTab:{"10.2.3":e=>`data-testid-extension-point-tab-${e}`}},FileUpload:{inputField:{"9.0.0":"data-testid-file-upload-input-field"},fileNameSpan:{"9.0.0":"data-testid-file-upload-file-name"}},DebugOverlay:{wrapper:{"9.2.0":"debug-overlay"}},OrgRolePicker:{input:{"9.5.0":"Role"}},AnalyticsToolbarButton:{button:{"9.5.0":"Dashboard insights"}},Variables:{variableOption:{"9.5.0":"data-testid variable-option"},variableLinkWrapper:{"11.1.1":"data-testid variable-link-wrapper"}},Annotations:{annotationsTypeInput:{"11.1.0":"data-testid annotations-type-input",[Mn]:"annotations-type-input"},annotationsChoosePanelInput:{"11.1.0":"data-testid choose-panels-input",[Mn]:"choose-panels-input"},editor:{testButton:{"11.0.0":"data-testid annotations-test-button"},resultContainer:{"11.0.0":"data-testid annotations-query-result-container"}}},Tooltip:{container:{"10.2.0":"data-testid tooltip"}},ReturnToPrevious:{buttonGroup:{"11.0.0":"data-testid dismissable button group"},backButton:{"11.0.0":"data-testid back"},dismissButton:{"11.0.0":"data-testid dismiss"}},SQLQueryEditor:{selectColumn:{"11.0.0":"data-testid select-column"},selectColumnInput:{"11.0.0":"data-testid select-column-input"},selectFunctionParameter:{"11.0.0":e=>`data-testid select-function-parameter-${e}`},selectAggregation:{"11.0.0":"data-testid select-aggregation"},selectAggregationInput:{"11.0.0":"data-testid select-aggregation-input"},selectAlias:{"11.0.0":"data-testid select-alias"},selectAliasInput:{"11.0.0":"data-testid select-alias-input"},selectInputParameter:{"11.0.0":"data-testid select-input-parameter"},filterConjunction:{"11.0.0":"data-testid filter-conjunction"},filterField:{"11.0.0":"data-testid filter-field"},filterOperator:{"11.0.0":"data-testid filter-operator"},headerTableSelector:{"11.0.0":"data-testid header-table-selector"},headerFilterSwitch:{"11.0.0":"data-testid header-filter-switch"},headerGroupSwitch:{"11.0.0":"data-testid header-group-switch"},headerOrderSwitch:{"11.0.0":"data-testid header-order-switch"},headerPreviewSwitch:{"11.0.0":"data-testid header-preview-switch"}},EntityNotFound:{container:{"11.2.0":"data-testid entity-not-found"}},Portal:{container:{"11.5.0":"data-testid portal-container"}}},jn={pages:Rn({Alerting:{AddAlertRule:{url:{"10.1.0":"/alerting/new/alerting",[Mn]:"/alerting/new"}},EditAlertRule:{url:{[Mn]:e=>`alerting/${e}/edit`}}},Login:{url:{[Mn]:"/login"},username:{"10.2.3":"data-testid Username input field",[Mn]:"Username input field"},password:{"10.2.3":"data-testid Password input field",[Mn]:"Password input field"},submit:{"10.2.3":"data-testid Login button",[Mn]:"Login button"},skip:{"10.2.3":"data-testid Skip change password button"}},PasswordlessLogin:{url:{[Mn]:"/login/passwordless/authenticate"},email:{"10.2.3":"data-testid Email input field",[Mn]:"Email input field"},submit:{"10.2.3":"data-testid PasswordlessLogin button",[Mn]:"PasswordlessLogin button"}},Home:{url:{[Mn]:"/"}},DataSource:{name:{"10.3.0":"data-testid Data source settings page name input field",[Mn]:"Data source settings page name input field"},delete:{[Mn]:"Data source settings page Delete button"},readOnly:{"10.3.0":"data-testid Data source settings page read only message",[Mn]:"Data source settings page read only message"},saveAndTest:{"10.0.0":"data-testid Data source settings page Save and Test button",[Mn]:"Data source settings page Save and Test button"},alert:{"10.3.0":"data-testid Data source settings page Alert",[Mn]:"Data source settings page Alert"}},DataSources:{url:{[Mn]:"/datasources"},dataSources:{[Mn]:e=>`Data source list item ${e}`}},EditDataSource:{url:{"9.5.0":e=>`/datasources/edit/${e}`},settings:{"9.5.0":"Datasource settings page basic settings"}},AddDataSource:{url:{[Mn]:"/datasources/new"},dataSourcePluginsV2:{"9.3.1":e=>`Add new data source ${e}`,[Mn]:e=>`Data source plugin item ${e}`}},ConfirmModal:{delete:{"10.0.0":"data-testid Confirm Modal Danger Button",[Mn]:"Confirm Modal Danger Button"}},AddDashboard:{url:{[Mn]:"/dashboard/new"},itemButton:{"9.5.0":e=>`data-testid ${e}`},addNewPanel:{"11.1.0":"data-testid Add new panel","8.0.0":"Add new panel",[Mn]:"Add new panel"},itemButtonAddViz:{[Mn]:"Add new visualization menu item"},addNewRow:{"11.1.0":"data-testid Add new row",[Mn]:"Add new row"},addNewPanelLibrary:{"11.1.0":"data-testid Add new panel from panel library",[Mn]:"Add new panel from panel library"},Settings:{Annotations:{List:{url:{[Mn]:"/dashboard/new?orgId=1&editview=annotations"}},Edit:{url:{[Mn]:e=>`/dashboard/new?editview=annotations&editIndex=${e}`}}},Variables:{List:{url:{"11.3.0":"/dashboard/new?orgId=1&editview=variables",[Mn]:"/dashboard/new?orgId=1&editview=templating"}},Edit:{url:{"11.3.0":e=>`/dashboard/new?orgId=1&editview=variables&editIndex=${e}`,[Mn]:e=>`/dashboard/new?orgId=1&editview=templating&editIndex=${e}`}}}}},Dashboard:{url:{[Mn]:e=>`/d/${e}`},DashNav:{nav:{[Mn]:"Dashboard navigation"},navV2:{[Mn]:"data-testid Dashboard navigation"},publicDashboardTag:{"9.1.0":"data-testid public dashboard tag"},shareButton:{"10.4.0":"data-testid share-button"},scrollContainer:{"11.1.0":"data-testid Dashboard canvas scroll container"},newShareButton:{container:{"11.1.0":"data-testid new share button"},shareLink:{"11.1.0":"data-testid new share link-button"},arrowMenu:{"11.1.0":"data-testid new share button arrow menu"},menu:{container:{"11.1.0":"data-testid new share button menu"},shareInternally:{"11.1.0":"data-testid new share button share internally"},shareExternally:{"11.1.1":"data-testid new share button share externally"},shareSnapshot:{"11.2.0":"data-testid new share button share snapshot"}}},NewExportButton:{container:{"11.2.0":"data-testid new export button"},arrowMenu:{"11.2.0":"data-testid new export button arrow menu"},Menu:{container:{"11.2.0":"data-testid new export button menu"},exportAsJson:{"11.2.0":"data-testid new export button export as json"}}},playlistControls:{prev:{"11.0.0":"data-testid playlist previous dashboard button"},stop:{"11.0.0":"data-testid playlist stop dashboard button"},next:{"11.0.0":"data-testid playlist next dashboard button"}}},Controls:{"11.1.0":"data-testid dashboard controls"},SubMenu:{submenu:{[Mn]:"Dashboard submenu"},submenuItem:{[Mn]:"data-testid template variable"},submenuItemLabels:{[Mn]:e=>`data-testid Dashboard template variables submenu Label ${e}`},submenuItemValueDropDownValueLinkTexts:{[Mn]:e=>`data-testid Dashboard template variables Variable Value DropDown value link text ${e}`},submenuItemValueDropDownDropDown:{[Mn]:"Variable options"},submenuItemValueDropDownOptionTexts:{[Mn]:e=>`data-testid Dashboard template variables Variable Value DropDown option text ${e}`},Annotations:{annotationsWrapper:{"10.0.0":"data-testid annotation-wrapper"},annotationLabel:{"10.0.0":e=>`data-testid Dashboard annotations submenu Label ${e}`},annotationToggle:{"10.0.0":e=>`data-testid Dashboard annotations submenu Toggle ${e}`}}},Settings:{Actions:{close:{"9.5.0":"data-testid dashboard-settings-close"}},General:{deleteDashBoard:{"11.1.0":"data-testid Dashboard settings page delete dashboard button"},sectionItems:{[Mn]:e=>`Dashboard settings section item ${e}`},saveDashBoard:{[Mn]:"Dashboard settings aside actions Save button"},saveAsDashBoard:{[Mn]:"Dashboard settings aside actions Save As button"},title:{"11.2.0":"General"}},Annotations:{Edit:{urlParams:{[Mn]:e=>`editview=annotations&editIndex=${e}`}},List:{url:{[Mn]:e=>`/d/${e}?editview=annotations`},addAnnotationCTAV2:{[Mn]:"data-testid Call to action button Add annotation query"},annotations:{"10.4.0":"data-testid list-annotations"}},Settings:{name:{"11.1.0":"data-testid Annotations settings name input",[Mn]:"Annotations settings name input"}},NewAnnotation:{panelFilterSelect:{"10.0.0":"data-testid annotations-panel-filter"},showInLabel:{"11.1.0":"data-testid show-in-label"},previewInDashboard:{"10.0.0":"data-testid annotations-preview"},delete:{"10.4.0":"data-testid annotations-delete"},apply:{"10.4.0":"data-testid annotations-apply"},enable:{"10.4.0":"data-testid annotation-enable"},hide:{"10.4.0":"data-testid annotation-hide"}}},Variables:{List:{url:{"11.3.0":e=>`/d/${e}?editview=variables`,[Mn]:e=>`/d/${e}?editview=templating`},addVariableCTAV2:{[Mn]:"data-testid Call to action button Add variable"},newButton:{[Mn]:"Variable editor New variable button"},table:{[Mn]:"Variable editor Table"},tableRowNameFields:{[Mn]:e=>`Variable editor Table Name field ${e}`},tableRowDefinitionFields:{"10.1.0":e=>`Variable editor Table Definition field ${e}`},tableRowArrowUpButtons:{[Mn]:e=>`Variable editor Table ArrowUp button ${e}`},tableRowArrowDownButtons:{[Mn]:e=>`Variable editor Table ArrowDown button ${e}`},tableRowDuplicateButtons:{[Mn]:e=>`Variable editor Table Duplicate button ${e}`},tableRowRemoveButtons:{[Mn]:e=>`Variable editor Table Remove button ${e}`}},Edit:{urlParams:{"11.3.0":e=>`editview=variables&editIndex=${e}`,[Mn]:e=>`editview=templating&editIndex=${e}`},General:{headerLink:{[Mn]:"Variable editor Header link"},modeLabelNew:{[Mn]:"Variable editor Header mode New"},modeLabelEdit:{[Mn]:"Variable editor Header mode Edit"},generalNameInput:{[Mn]:"Variable editor Form Name field"},generalNameInputV2:{[Mn]:"data-testid Variable editor Form Name field"},generalTypeSelect:{[Mn]:"Variable editor Form Type select"},generalTypeSelectV2:{[Mn]:"data-testid Variable editor Form Type select"},generalLabelInput:{[Mn]:"Variable editor Form Label field"},generalLabelInputV2:{[Mn]:"data-testid Variable editor Form Label field"},generalHideSelect:{[Mn]:"Variable editor Form Hide select"},generalHideSelectV2:{[Mn]:"data-testid Variable editor Form Hide select"},selectionOptionsAllowCustomValueSwitch:{[Mn]:"data-testid Variable editor Form Allow Custom Value switch"},selectionOptionsMultiSwitch:{"10.4.0":"data-testid Variable editor Form Multi switch",[Mn]:"Variable editor Form Multi switch"},selectionOptionsIncludeAllSwitch:{"10.4.0":"data-testid Variable editor Form IncludeAll switch",[Mn]:"Variable editor Form IncludeAll switch"},selectionOptionsCustomAllInput:{"10.4.0":"data-testid Variable editor Form IncludeAll field",[Mn]:"Variable editor Form IncludeAll field"},previewOfValuesOption:{"10.4.0":"data-testid Variable editor Preview of Values option",[Mn]:"Variable editor Preview of Values option"},submitButton:{"10.4.0":"data-testid Variable editor Run Query button",[Mn]:"Variable editor Submit button"},applyButton:{"9.3.0":"data-testid Variable editor Apply button"}},QueryVariable:{queryOptionsDataSourceSelect:{"10.4.0":"data-testid Select a data source","10.0.0":"data-testid Data source picker select container",[Mn]:"Data source picker select container"},queryOptionsRefreshSelect:{[Mn]:"Variable editor Form Query Refresh select"},queryOptionsRefreshSelectV2:{[Mn]:"data-testid Variable editor Form Query Refresh select"},queryOptionsRegExInput:{[Mn]:"Variable editor Form Query RegEx field"},queryOptionsRegExInputV2:{[Mn]:"data-testid Variable editor Form Query RegEx field"},queryOptionsSortSelect:{[Mn]:"Variable editor Form Query Sort select"},queryOptionsSortSelectV2:{[Mn]:"data-testid Variable editor Form Query Sort select"},queryOptionsQueryInput:{"10.4.0":"data-testid Variable editor Form Default Variable Query Editor textarea"},valueGroupsTagsEnabledSwitch:{[Mn]:"Variable editor Form Query UseTags switch"},valueGroupsTagsTagsQueryInput:{[Mn]:"Variable editor Form Query TagsQuery field"},valueGroupsTagsTagsValuesQueryInput:{[Mn]:"Variable editor Form Query TagsValuesQuery field"}},ConstantVariable:{constantOptionsQueryInput:{[Mn]:"Variable editor Form Constant Query field"},constantOptionsQueryInputV2:{[Mn]:"data-testid Variable editor Form Constant Query field"}},DatasourceVariable:{datasourceSelect:{[Mn]:"data-testid datasource variable datasource type"}},TextBoxVariable:{textBoxOptionsQueryInput:{[Mn]:"Variable editor Form TextBox Query field"},textBoxOptionsQueryInputV2:{[Mn]:"data-testid Variable editor Form TextBox Query field"}},CustomVariable:{customValueInput:{[Mn]:"data-testid custom-variable-input"}},IntervalVariable:{intervalsValueInput:{[Mn]:"data-testid interval variable intervals input"},autoEnabledCheckbox:{"10.4.0":"data-testid interval variable auto value checkbox"},stepCountIntervalSelect:{"10.4.0":"data-testid interval variable step count input"},minIntervalInput:{"10.4.0":"data-testid interval variable mininum interval input"}},GroupByVariable:{dataSourceSelect:{"10.4.0":"data-testid Select a data source"},infoText:{"10.4.0":"data-testid group by variable info text"},modeToggle:{"10.4.0":"data-testid group by variable mode toggle"}},AdHocFiltersVariable:{datasourceSelect:{"10.4.0":"data-testid Select a data source"},infoText:{"10.4.0":"data-testid ad-hoc filters variable info text"},modeToggle:{"11.0.0":"data-testid ad-hoc filters variable mode toggle"}}}}},Annotations:{marker:{"10.0.0":"data-testid annotation-marker"}},Rows:{Repeated:{ConfigSection:{warningMessage:{"10.2.0":"data-testid Repeated rows warning message"}}}}},Dashboards:{url:{[Mn]:"/dashboards"},dashboards:{"10.2.0":e=>`Dashboard search item ${e}`}},SaveDashboardAsModal:{newName:{"10.2.0":"Save dashboard title field"},save:{"10.2.0":"Save dashboard button"}},SaveDashboardModal:{save:{"10.2.0":"Dashboard settings Save Dashboard Modal Save button"},saveVariables:{"10.2.0":"Dashboard settings Save Dashboard Modal Save variables checkbox"},saveTimerange:{"10.2.0":"Dashboard settings Save Dashboard Modal Save timerange checkbox"},saveRefresh:{"11.1.0":"Dashboard settings Save Dashboard Modal Save refresh checkbox"}},SharePanelModal:{linkToRenderedImage:{[Mn]:"Link to rendered image"}},ShareDashboardModal:{PublicDashboard:{WillBePublicCheckbox:{"9.1.0":"data-testid public dashboard will be public checkbox"},LimitedDSCheckbox:{"9.1.0":"data-testid public dashboard limited datasources checkbox"},CostIncreaseCheckbox:{"9.1.0":"data-testid public dashboard cost may increase checkbox"},PauseSwitch:{"9.5.0":"data-testid public dashboard pause switch"},EnableAnnotationsSwitch:{"9.3.0":"data-testid public dashboard on off switch for annotations"},CreateButton:{"9.5.0":"data-testid public dashboard create button"},DeleteButton:{"9.3.0":"data-testid public dashboard delete button"},CopyUrlInput:{"9.1.0":"data-testid public dashboard copy url input"},CopyUrlButton:{"9.1.0":"data-testid public dashboard copy url button"},SettingsDropdown:{"10.1.0":"data-testid public dashboard settings dropdown"},TemplateVariablesWarningAlert:{"9.1.0":"data-testid public dashboard disabled template variables alert"},UnsupportedDataSourcesWarningAlert:{"9.5.0":"data-testid public dashboard unsupported data sources alert"},NoUpsertPermissionsWarningAlert:{"9.5.0":"data-testid public dashboard no upsert permissions alert"},EnableTimeRangeSwitch:{"9.4.0":"data-testid public dashboard on off switch for time range"},EmailSharingConfiguration:{Container:{"9.5.0":"data-testid email sharing config container"},ShareType:{"9.5.0":"data-testid public dashboard share type"},EmailSharingInput:{"9.5.0":"data-testid public dashboard email sharing input"},EmailSharingInviteButton:{"9.5.0":"data-testid public dashboard email sharing invite button"},EmailSharingList:{"9.5.0":"data-testid public dashboard email sharing list"},DeleteEmail:{"9.5.0":"data-testid public dashboard delete email button"},ReshareLink:{"9.5.0":"data-testid public dashboard reshare link button"}}},SnapshotScene:{url:{"11.1.0":e=>`/dashboard/snapshot/${e}`},PublishSnapshot:{"11.1.0":"data-testid publish snapshot button"},CopyUrlButton:{"11.1.0":"data-testid snapshot copy url button"},CopyUrlInput:{"11.1.0":"data-testid snapshot copy url input"}}},ShareDashboardDrawer:{ShareInternally:{container:{"11.3.0":"data-testid share internally drawer container"},lockTimeRangeSwitch:{"11.3.0":"data-testid share internally lock time range switch"},shortenUrlSwitch:{"11.3.0":"data-testid share internally shorten url switch"},copyUrlButton:{"11.3.0":"data-testid share internally copy url button"},SharePanel:{preview:{"11.5.0":"data-testid share panel internally image generation preview"},widthInput:{"11.5.0":"data-testid share panel internally width input"},heightInput:{"11.5.0":"data-testid share panel internally height input"},scaleFactorInput:{"11.5.0":"data-testid share panel internally scale factor input"},generateImageButton:{"11.5.0":"data-testid share panel internally generate image button"},downloadImageButton:{"11.5.0":"data-testid share panel internally download image button"}}},ShareExternally:{container:{"11.3.0":"data-testid share externally drawer container"},publicAlert:{"11.3.0":"data-testid public share alert"},emailSharingAlert:{"11.3.0":"data-testid email share alert"},shareTypeSelect:{"11.3.0":"data-testid share externally share type select"},Creation:{PublicShare:{createButton:{"11.3.0":"data-testid public share dashboard create button"},cancelButton:{"11.3.0":"data-testid public share dashboard cancel button"}},EmailShare:{createButton:{"11.3.0":"data-testid email share dashboard create button"},cancelButton:{"11.3.0":"data-testid email share dashboard cancel button"}},willBePublicCheckbox:{"11.3.0":"data-testid share dashboard will be public checkbox"}},Configuration:{enableTimeRangeSwitch:{"11.3.0":"data-testid share externally enable time range switch"},enableAnnotationsSwitch:{"11.3.0":"data-testid share externally enable annotations switch"},copyUrlButton:{"11.3.0":"data-testid share externally copy url button"},revokeAccessButton:{"11.3.0":"data-testid share externally revoke access button"},toggleAccessButton:{"11.3.0":"data-testid share externally pause or resume access button"}}},ShareSnapshot:{url:{"11.3.0":e=>`/dashboard/snapshot/${e}`},container:{"11.3.0":"data-testid share snapshot drawer container"},publishSnapshot:{"11.3.0":"data-testid share snapshot publish button"},copyUrlButton:{"11.3.0":"data-testid share snapshot copy url button"}}},ExportDashboardDrawer:{ExportAsJson:{container:{"11.3.0":"data-testid export as json drawer container"},codeEditor:{"11.3.0":"data-testid export as json code editor"},exportExternallyToggle:{"11.3.0":"data-testid export as json externally switch"},saveToFileButton:{"11.3.0":"data-testid export as json save to file button"},copyToClipboardButton:{"11.3.0":"data-testid export as json copy to clipboard button"},cancelButton:{"11.3.0":"data-testid export as json cancel button"}}},PublicDashboard:{page:{"9.5.0":"public-dashboard-page"},NotAvailable:{container:{"9.5.0":"public-dashboard-not-available"},title:{"9.5.0":"public-dashboard-title"},pausedDescription:{"9.5.0":"public-dashboard-paused-description"}},footer:{"11.0.0":"public-dashboard-footer"}},PublicDashboardScene:{loadingPage:{"11.0.0":"public-dashboard-scene-loading-page"},page:{"11.0.0":"public-dashboard-scene-page"},controls:{"11.0.0":"public-dashboard-controls"}},RequestViewAccess:{form:{"9.5.0":"request-view-access-form"},recipientInput:{"9.5.0":"request-view-access-recipient-input"},submitButton:{"9.5.0":"request-view-access-submit-button"}},PublicDashboardConfirmAccess:{submitButton:{"10.2.0":"data-testid confirm-access-submit-button"}},Explore:{url:{[Mn]:"/explore"},General:{container:{[Mn]:"data-testid Explore"},graph:{[Mn]:"Explore Graph"},table:{[Mn]:"Explore Table"},scrollView:{"9.0.0":"data-testid explorer scroll view"}},QueryHistory:{container:{"11.1.0":"data-testid QueryHistory"}}},SoloPanel:{url:{[Mn]:e=>`/d-solo/${e}`}},PluginsList:{page:{[Mn]:"Plugins list page"},list:{[Mn]:"Plugins list"},listItem:{[Mn]:"Plugins list item"},signatureErrorNotice:{"10.3.0":"data-testid Unsigned plugins notice",[Mn]:"Unsigned plugins notice"}},PluginPage:{page:{[Mn]:"Plugin page"},signatureInfo:{"10.3.0":"data-testid Plugin signature info",[Mn]:"Plugin signature info"},disabledInfo:{"10.3.0":"data-testid Plugin disabled info",[Mn]:"Plugin disabled info"}},PlaylistForm:{name:{[Mn]:"Playlist name"},interval:{[Mn]:"Playlist interval"},itemDelete:{"10.2.0":"data-testid playlist-form-delete-item"}},BrowseDashboards:{table:{body:{"10.2.0":"data-testid browse-dashboards-table"},row:{"10.2.0":e=>`data-testid browse dashboards row ${e}`},checkbox:{"10.0.0":e=>`data-testid ${e} checkbox`}},NewFolderForm:{form:{"10.2.0":"data-testid new folder form"},nameInput:{"10.2.0":"data-testid new-folder-name-input"},createButton:{"10.2.0":"data-testid new-folder-create-button"}}},Search:{url:{"9.3.0":"/?search=openn"},FolderView:{url:{"9.3.0":"/?search=open&layout=folders"}}},PublicDashboards:{ListItem:{linkButton:{"9.3.0":"public-dashboard-link-button"},configButton:{"9.3.0":"public-dashboard-configuration-button"},trashcanButton:{"9.3.0":"public-dashboard-remove-button"},pauseSwitch:{"10.1.0":"data-testid public dashboard pause switch"}}},UserListPage:{tabs:{allUsers:{"10.0.0":"data-testid all-users-tab"},orgUsers:{"10.0.0":"data-testid org-users-tab"},anonUserDevices:{"10.2.3":"data-testid anon-user-devices-tab"},publicDashboardsUsers:{"10.0.0":"data-testid public-dashboards-users-tab"},users:{"10.0.0":"data-testid users-tab"}},org:{url:{"10.2.0":"/admin/users","9.5.0":"/org/users"}},admin:{url:{"9.5.0":"/admin/users"}},publicDashboards:{container:{"11.1.0":"data-testid public-dashboards-users-list"}},UserListAdminPage:{container:{"10.0.0":"data-testid user-list-admin-page"}},UsersListPage:{container:{"10.0.0":"data-testid users-list-page"}},UserAnonListPage:{container:{"10.4.0":"data-testid user-anon-list-page"}},UsersListPublicDashboardsPage:{container:{"10.0.0":"data-testid users-list-public-dashboards-page"},DashboardsListModal:{listItem:{"10.0.0":e=>`data-testid dashboards-list-item-${e}`}}}},ProfilePage:{url:{"10.2.0":"/profile"}},Plugin:{url:{[Mn]:e=>`/plugins/${e}`}}}),components:Rn(Bn)};var Nn=n(6089);function Vn(e,t=!1){let n=e;t&&(n=[{value:Dt,label:xt},...n]);const r=yc(n.map(e=>e.label));return e=>r(e).map(e=>n[e])}var Fn=Object.defineProperty,$n=Object.defineProperties,Un=Object.getOwnPropertyDescriptors,zn=Object.getOwnPropertySymbols,Wn=Object.prototype.hasOwnProperty,Hn=Object.prototype.propertyIsEnumerable,Gn=(e,t,n)=>t in e?Fn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const qn=()=>!0,Qn=e=>"$__all"!==e.value,Yn=(e,t)=>e.length===t.filter(Qn).length?Pn.ToggleAllState.allSelected:0===e.length||1===e.length&&e[0]&&"$__all"===e[0].value?Pn.ToggleAllState.noneSelected:Pn.ToggleAllState.indeterminate;function Kn({model:e}){const{value:t,text:n,key:r,options:a,includeAll:i,isReadOnly:l,allowCustomValue:c=!0}=e.useState(),[u,d]=(0,o.useState)(""),[p,f]=(0,o.useState)(!1),h=function(e,t){return{value:e,label:null!=t?t:String(e)}}(t,String(n)),m=lu.getQueryController(e),g=(0,o.useMemo)(()=>Vn(a,i),[a,i])(u);return s().createElement(Pn.Select,{id:r,isValidNewOption:e=>e.trim().length>0,placeholder:"Select value",width:"auto",disabled:l,value:h,inputValue:u,allowCustomValue:c,virtualized:!0,filterOption:qn,tabSelectsValue:!1,onInputChange:(t,{action:n})=>"input-change"===n?(d(t),e.onSearchChange&&e.onSearchChange(t),t):t,onOpenMenu:()=>{p&&d(String(n))},onCloseMenu:()=>{d("")},options:g,"data-testid":jn.pages.Dashboard.SubMenu.submenuItemValueDropDownValueLinkTexts(`${t}`),onChange:t=>{e.changeValueTo(t.value,t.label),null==m||m.startProfile(e),p!==t.__isNew__&&f(t.__isNew__)}})}function Xn({model:e}){const{value:t,options:n,key:r,maxVisibleValues:a,noValueOnClear:i,includeAll:l,isReadOnly:c,allowCustomValue:u=!0}=e.useState(),d=(0,o.useMemo)(()=>(0,fe.isArray)(t)?t:[t],[t]),[p,f]=(0,o.useState)(d),[h,m]=(0,o.useState)(""),g=lu.getQueryController(e),b=(0,o.useMemo)(()=>Vn(n,l),[n,l]);(0,o.useEffect)(()=>{f(d)},[d]);const v=n.length>0?"Select value":"",y=b(h);return s().createElement(Pn.MultiSelect,{id:r,placeholder:v,width:"auto",inputValue:h,disabled:c,value:p,noMultiValueWrap:!0,maxVisibleValues:null!=a?a:5,tabSelectsValue:!1,virtualized:!0,allowCustomValue:u,toggleAllOptions:{enabled:!0,optionsFilter:Qn,determineToggleAllState:Yn},options:y,closeMenuOnSelect:!1,components:{Option:Zn},isClearable:!0,hideSelectedOptions:!1,onInputChange:(t,{action:n})=>"input-change"===n?(m(t),e.onSearchChange&&e.onSearchChange(t),t):"input-blur"===n?(m(""),""):h,onBlur:()=>{e.changeValueTo(p),null==g||g.startProfile(e)},filterOption:qn,"data-testid":jn.pages.Dashboard.SubMenu.submenuItemValueDropDownValueLinkTexts(`${p}`),onChange:(t,n)=>{"clear"===n.action&&i&&e.changeValueTo([]),f(t.map(e=>e.value))}})}const Zn=({children:e,data:t,innerProps:n,innerRef:r,isFocused:a,isSelected:o,indeterminate:i,renderOptionLabel:l})=>{var c;const u=((e,t)=>{var n={};for(var r in e)Wn.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&zn)for(var r of zn(e))t.indexOf(r)<0&&Hn.call(e,r)&&(n[r]=e[r]);return n})(n,["onMouseMove","onMouseOver"]),d=(0,Pn.useTheme2)(),p=(0,Pn.getSelectStyles)(d),f=(0,Pn.useStyles2)(Jn);return s().createElement("div",(h=((e,t)=>{for(var n in t||(t={}))Wn.call(t,n)&&Gn(e,n,t[n]);if(zn)for(var n of zn(t))Hn.call(t,n)&&Gn(e,n,t[n]);return e})({ref:r,className:(0,Nn.cx)(p.option,a&&p.optionFocused)},u),m={"data-testid":"data-testid Select option",title:t.title},$n(h,Un(m))),s().createElement("div",{className:f.checkbox},s().createElement(Pn.Checkbox,{indeterminate:i,value:o})),s().createElement("div",{className:p.optionBody,"data-testid":jn.pages.Dashboard.SubMenu.submenuItemValueDropDownOptionTexts(null!=(c=t.label)?c:String(t.value))},s().createElement("span",null,e)));var h,m};Zn.displayName="SelectMenuOptions";const Jn=e=>({checkbox:(0,Nn.css)({marginRight:e.spacing(2)})});function er(e){return e.state.isMulti?s().createElement(Xn,{model:e}):s().createElement(Kn,{model:e})}class tr{constructor(e){this._sceneObject=e}getKey(){return`var-${this._sceneObject.state.name}`}getKeys(){return this._sceneObject.state.skipUrlSync?[]:[this.getKey()]}getUrlState(){return this._sceneObject.state.skipUrlSync?{}:{[this.getKey()]:(e=this._sceneObject.state.value,t=this._sceneObject.state.text,e=Array.isArray(e)?e:[e],t=Array.isArray(t)?t:[t],e.map((e,n)=>{if(null==e)return"";e=String(e);let r=t[n];return r=null==r?e:String(r),mc(e,r)}))};var e,t}updateFromUrl(e){let t=e[this.getKey()];if(null!=t){this._sceneObject.isActive||(this._sceneObject.skipNextValidation=!0);const{values:e,texts:r}=(n=t,(n=Array.isArray(n)?n:[n]).reduce((e,t)=>{const[n,r]=(null!=t?t:"").split(",");return e.values.push(hc(n)),e.texts.push(hc(null!=r?r:n)),e},{values:[],texts:[]}));this._sceneObject.changeValueTo(e,r)}var n}}function nr(e){const t=e.getRoot();return Zt(t)?t.enrichFiltersRequest(e):null}var rr,ar=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)};class or{constructor(e){((e,t)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,void 0)})(this,rr),this.text="__sceneObject",this.valueOf=()=>{return ar(this,e=rr,"read from private field"),e.get(this);var e},((e,t,n)=>{ar(e,t,"write to private field"),t.set(e,n)})(this,rr,e)}toString(){}get value(){return this}}function ir(e){return function(e){const t=e.match(/^(\d+)\.(\d+)\.(\d+)/);if(!t)return!1;const n=parseInt(t[1],10),r=parseInt(t[2],10),a=parseInt(t[3],10);return 11===n?0===r&&a>=4||1===r&&a>=2||r>1:10===n?4===r&&a>=8||r>=5:n>11}(u.config.buildInfo.version)?new or(e):{value:e,text:"__sceneObject"}}rr=new WeakMap;var sr=Object.defineProperty,lr=Object.defineProperties,cr=Object.getOwnPropertyDescriptors,ur=Object.getOwnPropertySymbols,dr=Object.prototype.hasOwnProperty,pr=Object.prototype.propertyIsEnumerable,fr=(e,t,n)=>t in e?sr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,hr=(e,t)=>{for(var n in t||(t={}))dr.call(t,n)&&fr(e,n,t[n]);if(ur)for(var n of ur(t))pr.call(t,n)&&fr(e,n,t[n]);return e};class mr extends Mt{constructor(e){var t;super((t=hr({isMulti:!0,name:"",value:[],text:[],options:[],datasource:null,baseFilters:[],applyMode:"auto",layout:"horizontal",type:"groupby"},e),lr(t,cr({noValueOnClear:!0})))),this.isLazy=!0,this._urlSync=new tr(this),this._getKeys=async e=>{var t,n,r;const a=await(null==(n=(t=this.state).getTagKeysProvider)?void 0:n.call(t,this,null));if(a&&a.replace)return a.values;if(this.state.defaultOptions)return this.state.defaultOptions.concat(gc(null!=(r=null==a?void 0:a.values)?r:[]));if(!e.getTagKeys)return[];const o=dc(this),i=this.state.baseFilters||[],s=lu.getTimeRange(this).state.value,l=await e.getTagKeys(hr({filters:i,queries:o,timeRange:s},nr(this)));bc(l)&&this.setState({error:l.error.message});let c=gc(l);a&&(c=c.concat(gc(a.values)));const u=this.state.tagKeyRegexFilter;return u&&(c=c.filter(e=>e.text.match(u))),c},"auto"===this.state.applyMode&&this.addActivationHandler(()=>(Dn.add(this),()=>Dn.delete(this)))}validateAndUpdate(){return this.getValueOptions({}).pipe((0,x.map)(e=>(this._updateValueGivenNewOptions(e),{})))}_updateValueGivenNewOptions(e){const{value:t,text:n}=this.state,r={options:e,loading:!1,value:null!=t?t:[],text:null!=n?n:[]};this.setState(r)}getValueOptions(e){return this.state.defaultOptions?(0,x.of)(this.state.defaultOptions.map(e=>({label:e.text,value:String(e.value),group:e.group}))):(this.setState({loading:!0,error:null}),(0,x.from)(nn(this.state.datasource,{__sceneObject:ir(this)})).pipe((0,x.mergeMap)(e=>(0,x.from)(this._getKeys(e)).pipe((0,x.tap)(e=>{bc(e)&&this.setState({error:e.error.message})}),(0,x.map)(e=>gc(e)),(0,x.take)(1),(0,x.mergeMap)(e=>{const t=e.map(e=>({label:e.text,value:e.value?String(e.value):e.text,group:e.group}));return(0,x.of)(t)})))))}getDefaultMultiState(e){return{value:[],text:[]}}}mr.Component=function({model:e}){const{value:t,text:n,key:r,isMulti:a=!0,maxVisibleValues:i,noValueOnClear:l,options:c,includeAll:u,allowCustomValue:d=!0}=e.useState(),p=(0,o.useMemo)(()=>{const e=(0,fe.isArray)(t)?t:[t],r=(0,fe.isArray)(n)?n:[n];return e.map((e,t)=>{var n;return{value:e,label:String(null!=(n=r[t])?n:e)}})},[t,n]),[f,h]=(0,o.useState)(!1),[m,g]=(0,o.useState)(!1),[b,v]=(0,o.useState)(""),[y,w]=(0,o.useState)(p),E=(0,o.useMemo)(()=>Vn(c,u),[c,u]);(0,o.useEffect)(()=>{w(p)},[p]);const S=(t,{action:n})=>"input-change"===n?(v(t),e.onSearchChange&&e.onSearchChange(t),t):"input-blur"===n?(v(""),""):b,O=(0,o.useMemo)(()=>vc(E(b).map(br)),[E,b]);return a?s().createElement(Pn.MultiSelect,{"aria-label":"Group by selector","data-testid":`GroupBySelect-${r}`,id:r,placeholder:"Select value",width:"auto",allowCustomValue:d,inputValue:b,value:y,noMultiValueWrap:!0,maxVisibleValues:null!=i?i:5,tabSelectsValue:!1,virtualized:!0,options:O,filterOption:gr,closeMenuOnSelect:!1,isOpen:m,isClearable:!0,hideSelectedOptions:!1,isLoading:f,components:{Option:Zn},onInputChange:S,onBlur:()=>{e.changeValueTo(y.map(e=>e.value),y.map(e=>e.label))},onChange:(t,n)=>{"clear"===n.action&&l&&e.changeValueTo([]),w(t)},onOpenMenu:async()=>{h(!0),await(0,x.lastValueFrom)(e.validateAndUpdate()),h(!1),g(!0)},onCloseMenu:()=>{g(!1)}}):s().createElement(Pn.Select,{"aria-label":"Group by selector","data-testid":`GroupBySelect-${r}`,id:r,placeholder:"Select value",width:"auto",inputValue:b,value:y,allowCustomValue:d,noMultiValueWrap:!0,maxVisibleValues:null!=i?i:5,tabSelectsValue:!1,virtualized:!0,options:O,filterOption:gr,closeMenuOnSelect:!0,isOpen:m,isClearable:!0,hideSelectedOptions:!1,noValueOnClear:!0,isLoading:f,onInputChange:S,onChange:(t,n)=>{if("clear"===n.action)return w([]),void(l&&e.changeValueTo([]));(null==t?void 0:t.value)&&(w([t]),e.changeValueTo([t.value],t.label?[t.label]:void 0))},onOpenMenu:async()=>{h(!0),await(0,x.lastValueFrom)(e.validateAndUpdate()),h(!1),g(!0)},onCloseMenu:()=>{g(!1)}})};const gr=()=>!0;function br(e){const{label:t,value:n,group:r}=e,a={label:t,value:n};return r&&(a.group=r),a}function vr(e){return s().createElement(Pn.Tooltip,{content:"Cancel query"},s().createElement(Pn.Icon,{className:"spin-clockwise",name:"sync",size:"xs",role:"button",onMouseDown:t=>{e.onCancel(t)}}))}function yr(e){const t=(0,Pn.useStyles2)(wr),n=(0,Pn.useTheme2)(),r="vertical"===e.layout,a=Boolean(e.isLoading)?s().createElement("div",{style:{marginLeft:n.spacing(1),marginTop:"-1px"},"aria-label":jn.components.LoadingIndicator.icon},s().createElement(vr,{onCancel:t=>{var n;t.preventDefault(),t.stopPropagation(),null==(n=e.onCancel)||n.call(e)}})):null;let o=null;e.error&&(o=s().createElement(Pn.Tooltip,{content:e.error,placement:"bottom"},s().createElement(Pn.Icon,{className:t.errorIcon,name:"exclamation-triangle"})));let i=null;e.description&&(i=s().createElement(Pn.Tooltip,{content:e.description,placement:r?"top":"bottom"},s().createElement(Pn.Icon,{className:t.normalIcon,name:"info-circle"})));const l="string"==typeof e.label?jn.pages.Dashboard.SubMenu.submenuItemLabels(e.label):"";let c;return c=r?s().createElement("label",{className:t.verticalLabel,"data-testid":l,htmlFor:e.htmlFor},e.label,i,o,e.icon&&s().createElement(Pn.Icon,{name:e.icon,className:t.normalIcon}),a,e.onRemove&&s().createElement(Pn.IconButton,{variant:"secondary",size:"xs",name:"times",onClick:e.onRemove,tooltip:"Remove"})):s().createElement("label",{className:t.horizontalLabel,"data-testid":l,htmlFor:e.htmlFor},o,e.icon&&s().createElement(Pn.Icon,{name:e.icon,className:t.normalIcon}),e.label,i,a),c}const wr=e=>({horizontalLabel:(0,Nn.css)({background:e.isDark?e.colors.background.primary:e.colors.background.secondary,display:"flex",alignItems:"center",padding:e.spacing(0,1),fontWeight:e.typography.fontWeightMedium,fontSize:e.typography.bodySmall.fontSize,height:e.spacing(e.components.height.md),lineHeight:e.spacing(e.components.height.md),borderRadius:`${e.shape.radius.default} 0 0 ${e.shape.radius.default}`,border:`1px solid ${e.components.input.borderColor}`,position:"relative",right:-1,whiteSpace:"nowrap",gap:e.spacing(.5)}),verticalLabel:(0,Nn.css)({display:"flex",alignItems:"center",fontWeight:e.typography.fontWeightMedium,fontSize:e.typography.bodySmall.fontSize,lineHeight:e.typography.bodySmall.lineHeight,whiteSpace:"nowrap",marginBottom:e.spacing(.5),gap:e.spacing(1)}),errorIcon:(0,Nn.css)({color:e.colors.error.text}),normalIcon:(0,Nn.css)({color:e.colors.text.secondary})});var Er=Object.defineProperty,Sr=Object.getOwnPropertySymbols,Or=Object.prototype.hasOwnProperty,Cr=Object.prototype.propertyIsEnumerable,Ar=(e,t,n)=>t in e?Er(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function xr(e,t){return""!==e?{value:e,label:t||e}:null}const Dr=()=>!0;function Pr({filter:e,model:t}){var n,r,a,i,l;const c=(0,Pn.useStyles2)(Ir),[u,d]=(0,o.useState)([]),[p,f]=(0,o.useState)([]),[h,m]=(0,o.useState)(!1),[g,b]=(0,o.useState)(!1),[v,y]=(0,o.useState)(!1),[w,E]=(0,o.useState)(!1),[S,O]=(0,o.useState)(!1),[C,A]=(0,o.useState)(""),[x,D]=(0,o.useState)(!1),[P,I]=(0,o.useState)(e.values?e.values.map((t,n)=>{var r;return xr(t,null==(r=e.valueLabels)?void 0:r[n])}):[]),R=Pl(e.operator),T=xr(e.key,e.keyLabel),k=xr(e.value,null==(n=e.valueLabels)?void 0:n[0]),_=(0,o.useMemo)(()=>function(e){const t=yc(e.map(e=>{var t;return null!=(t=e.label)?t:String(e.value)}));return n=>t(n).map(t=>e[t])}(p),[p]),L=t.state.onAddCustomValue,M=(0,o.useMemo)(()=>vc(_(C)),[_,C]),B={isMulti:!0,value:P,components:{Option:Zn},hideSelectedOptions:!1,closeMenuOnSelect:!1,openMenuOnFocus:!1,onChange:e=>{I(e),e.some(e=>e.__isNew__)&&A("")},onBlur:()=>{var n,r;t._updateFilter(e,{value:null!=(r=null==(n=P[0])?void 0:n.value)?r:"",values:P.map(e=>e.value),valueLabels:P.map(e=>e.label)})}},j=s().createElement(Pn.Select,((e,t)=>{for(var n in t||(t={}))Or.call(t,n)&&Ar(e,n,t[n]);if(Sr)for(var n of Sr(t))Cr.call(t,n)&&Ar(e,n,t[n]);return e})({virtualized:!0,allowCustomValue:null==(r=t.state.allowCustomValue)||r,isValidNewOption:e=>e.trim().length>0,allowCreateWhileLoading:!0,formatCreateLabel:e=>`Use custom value: ${e}`,disabled:t.state.readOnly,className:(0,Nn.cx)(c.value,w?c.widthWhenOpen:void 0),width:"auto",value:k,filterOption:Dr,placeholder:"Select value",options:M,inputValue:C,onInputChange:(e,{action:t})=>("input-change"===t&&A(e),e),onChange:n=>{L&&n.__isNew__?t._updateFilter(e,L(n,e)):t._updateFilter(e,{value:n.value,valueLabels:n.label?[n.label]:[n.value]}),x!==n.__isNew__&&D(n.__isNew__)},isOpen:w&&!g,isLoading:g,openMenuOnFocus:!0,onOpenMenu:async()=>{var n;b(!0),E(!0);const r=await t._getValuesFor(e);b(!1),f(r),x&&A(null!=(n=null==k?void 0:k.label)?n:"")},onCloseMenu:()=>{E(!1),A("")}},R&&B)),N=s().createElement(Pn.Select,{key:g?"loading":"loaded",disabled:t.state.readOnly,className:(0,Nn.cx)(c.key,v?c.widthWhenOpen:void 0),width:"auto",allowCustomValue:null==(a=t.state.allowCustomValue)||a,value:T,placeholder:"Select label",options:vc(u),onChange:n=>{t._updateFilter(e,{key:n.value,keyLabel:n.label,value:"",valueLabels:[""],values:void 0}),I([])},autoFocus:""===e.key,isOpen:v&&!h,isLoading:h,onOpenMenu:async()=>{y(!0),m(!0);const n=await t._getKeys(e.key);m(!1),d(n)},onCloseMenu:()=>{y(!1)},onBlur:()=>{""===e.key&&t._removeFilter(e)},openMenuOnFocus:!0}),V=s().createElement(Pn.Select,{className:(0,Nn.cx)(c.operator,{[c.widthWhenOpen]:S}),value:e.operator,disabled:t.state.readOnly,options:t._getOperators(),onChange:n=>{var r,a;const o=e.operator,i=n.value,s={operator:i};Pl(o)&&!Pl(i)?(s.value="",s.valueLabels=[""],s.values=void 0,I([])):!Pl(o)&&Pl(i)&&e.value&&(s.values=[e.value],I([{value:e.value,label:null!=(a=null==(r=e.valueLabels)?void 0:r[0])?a:e.value}])),t._updateFilter(e,s)},onOpenMenu:()=>{O(!0)},onCloseMenu:()=>{O(!1)}});if("vertical"===t.state.layout){if(e.key){const n=s().createElement(yr,{layout:"vertical",label:null!=(i=e.key)?i:"",onRemove:()=>t._removeFilter(e)});return s().createElement(Pn.Field,{label:n,"data-testid":`AdHocFilter-${e.key}`,className:c.field},s().createElement("div",{className:c.wrapper},V,j))}return s().createElement(Pn.Field,{label:"Select label","data-testid":`AdHocFilter-${e.key}`,className:c.field},N)}return s().createElement("div",{className:c.wrapper,"data-testid":`AdHocFilter-${e.key}`},N,V,j,s().createElement(Pn.Button,{variant:"secondary","aria-label":"Remove filter",title:"Remove filter",className:c.removeButton,icon:"times","data-testid":`AdHocFilter-remove-${null!=(l=e.key)?l:""}`,onClick:()=>t._removeFilter(e)}))}const Ir=e=>({field:(0,Nn.css)({marginBottom:0}),wrapper:(0,Nn.css)({display:"flex","> *":{"&:not(:first-child)":{marginLeft:-1},"&:first-child":{borderTopRightRadius:0,borderBottomRightRadius:0},"&:last-child":{borderTopLeftRadius:0,borderBottomLeftRadius:0},"&:not(:first-child):not(:last-child)":{borderRadius:0},position:"relative",zIndex:0,"&:hover":{zIndex:1},"&:focus-within":{zIndex:2}}}),widthWhenOpen:(0,Nn.css)({minWidth:e.spacing(16)}),value:(0,Nn.css)({flexBasis:"content",flexShrink:1,minWidth:"90px"}),key:(0,Nn.css)({flexBasis:"content",minWidth:"90px",flexShrink:1}),operator:(0,Nn.css)({flexShrink:0,flexBasis:"content"}),removeButton:(0,Nn.css)({paddingLeft:e.spacing(1.5),paddingRight:e.spacing(1.5),borderLeft:"none",width:e.spacing(3),marginRight:e.spacing(1),boxSizing:"border-box",position:"relative",left:"1px"})});function Rr({model:e,addFilterButtonText:t}){const{_wip:n}=e.useState();return n?s().createElement(Pr,{filter:n,model:e}):s().createElement(Pn.Button,{variant:"secondary",icon:"plus",title:"Add filter","aria-label":"Add filter","data-testid":"AdHocFilter-add",onClick:()=>e._addWip()},t)}class Tr{constructor(e){this._variable=e}getKey(){return`var-${this._variable.state.name}`}getKeys(){return[this.getKey()]}getUrlState(){const e=this._variable.state.filters;if(0===e.length)return{[this.getKey()]:[""]};const t=e.filter(Dl).filter(e=>!e.hidden).map(e=>function(e){var t;const n=[mc(e.key,e.keyLabel),e.operator];return Pl(e.operator)?e.values.forEach((t,r)=>{var a;n.push(mc(t,null==(a=e.valueLabels)?void 0:a[r]))}):n.push(mc(e.value,null==(t=e.valueLabels)?void 0:t[0])),n}(e).map(pc).join("|"));return{[this.getKey()]:t}}updateFromUrl(e){const t=e[this.getKey()];if(null==t)return;const n=function(e){if(Array.isArray(e))return e.map(kr).filter(_r);const t=kr(e);return null===t?[]:[t]}(t);this._variable.setState({filters:n})}}function kr(e){if("string"!=typeof e||0===e.length)return null;const[t,n,r,a,...o]=e.split("|").reduce((e,t)=>{const[n,r]=t.split(",");return e.push(n,null!=r?r:n),e},[]).map(hc);return{key:t,keyLabel:n,operator:r,value:o[0],values:Pl(r)?o.filter((e,t)=>t%2==0):void 0,valueLabels:o.filter((e,t)=>t%2==1),condition:""}}function _r(e){return null!==e&&"string"==typeof e.key&&"string"==typeof e.value}function Lr(){return"undefined"!=typeof window}function Mr(e){return Nr(e)?(e.nodeName||"").toLowerCase():"#document"}function Br(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function jr(e){var t;return null==(t=(Nr(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function Nr(e){return!!Lr()&&(e instanceof Node||e instanceof Br(e).Node)}function Vr(e){return!!Lr()&&(e instanceof Element||e instanceof Br(e).Element)}function Fr(e){return!!Lr()&&(e instanceof HTMLElement||e instanceof Br(e).HTMLElement)}function $r(e){return!(!Lr()||"undefined"==typeof ShadowRoot)&&(e instanceof ShadowRoot||e instanceof Br(e).ShadowRoot)}const Ur=new Set(["inline","contents"]);function zr(e){const{overflow:t,overflowX:n,overflowY:r,display:a}=ta(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!Ur.has(a)}const Wr=new Set(["table","td","th"]);function Hr(e){return Wr.has(Mr(e))}const Gr=[":popover-open",":modal"];function qr(e){return Gr.some(t=>{try{return e.matches(t)}catch(e){return!1}})}const Qr=["transform","translate","scale","rotate","perspective"],Yr=["transform","translate","scale","rotate","perspective","filter"],Kr=["paint","layout","strict","content"];function Xr(e){const t=Zr(),n=Vr(e)?ta(e):e;return Qr.some(e=>!!n[e]&&"none"!==n[e])||!!n.containerType&&"normal"!==n.containerType||!t&&!!n.backdropFilter&&"none"!==n.backdropFilter||!t&&!!n.filter&&"none"!==n.filter||Yr.some(e=>(n.willChange||"").includes(e))||Kr.some(e=>(n.contain||"").includes(e))}function Zr(){return!("undefined"==typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}const Jr=new Set(["html","body","#document"]);function ea(e){return Jr.has(Mr(e))}function ta(e){return Br(e).getComputedStyle(e)}function na(e){return Vr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function ra(e){if("html"===Mr(e))return e;const t=e.assignedSlot||e.parentNode||$r(e)&&e.host||jr(e);return $r(t)?t.host:t}function aa(e){const t=ra(e);return ea(t)?e.ownerDocument?e.ownerDocument.body:e.body:Fr(t)&&zr(t)?t:aa(t)}function oa(e,t,n){var r;void 0===t&&(t=[]),void 0===n&&(n=!0);const a=aa(e),o=a===(null==(r=e.ownerDocument)?void 0:r.body),i=Br(a);if(o){const e=ia(i);return t.concat(i,i.visualViewport||[],zr(a)?a:[],e&&n?oa(e):[])}return t.concat(a,oa(a,[],n))}function ia(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function sa(e){let t=e.activeElement;for(;null!=(null==(n=t)||null==(n=n.shadowRoot)?void 0:n.activeElement);){var n;t=t.shadowRoot.activeElement}return t}function la(e,t){if(!e||!t)return!1;const n=null==t.getRootNode?void 0:t.getRootNode();if(e.contains(t))return!0;if(n&&$r(n)){let n=t;for(;n;){if(e===n)return!0;n=n.parentNode||n.host}}return!1}function ca(){const e=navigator.userAgentData;return null!=e&&e.platform?e.platform:navigator.platform}function ua(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(e=>{let{brand:t,version:n}=e;return t+"/"+n}).join(" "):navigator.userAgent}function da(e){return!(0!==e.mozInputSource||!e.isTrusted)||(ha()&&e.pointerType?"click"===e.type&&1===e.buttons:0===e.detail&&!e.pointerType)}function pa(e){return!ua().includes("jsdom/")&&(!ha()&&0===e.width&&0===e.height||ha()&&1===e.width&&1===e.height&&0===e.pressure&&0===e.detail&&"mouse"===e.pointerType||e.width<1&&e.height<1&&0===e.pressure&&0===e.detail&&"touch"===e.pointerType)}function fa(){return/apple/i.test(navigator.vendor)}function ha(){const e=/android/i;return e.test(ca())||e.test(ua())}function ma(e){return(null==e?void 0:e.ownerDocument)||document}function ga(e,t){if(null==t)return!1;if("composedPath"in e)return e.composedPath().includes(t);const n=e;return null!=n.target&&t.contains(n.target)}function ba(e){return"composedPath"in e?e.composedPath()[0]:e.target}function va(e){e.preventDefault(),e.stopPropagation()}function ya(e){return!!e&&"combobox"===e.getAttribute("role")&&function(e){return Fr(e)&&e.matches("input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])")}(e)}const wa=Math.min,Ea=Math.max,Sa=Math.round,Oa=Math.floor,Ca=e=>({x:e,y:e}),Aa={left:"right",right:"left",bottom:"top",top:"bottom"},xa={start:"end",end:"start"};function Da(e,t){return"function"==typeof e?e(t):e}function Pa(e){return e.split("-")[0]}function Ia(e){return e.split("-")[1]}function Ra(e){return"y"===e?"height":"width"}const Ta=new Set(["top","bottom"]);function ka(e){return Ta.has(Pa(e))?"y":"x"}function _a(e){return"x"===ka(e)?"y":"x"}function La(e){return e.replace(/start|end/g,e=>xa[e])}const Ma=["left","right"],Ba=["right","left"],ja=["top","bottom"],Na=["bottom","top"];function Va(e){return e.replace(/left|right|bottom|top/g,e=>Aa[e])}function Fa(e){const{x:t,y:n,width:r,height:a}=e;return{width:r,height:a,top:n,left:t,right:t+r,bottom:n+a,x:t,y:n}}var $a=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"].join(","),Ua="undefined"==typeof Element,za=Ua?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,Wa=!Ua&&Element.prototype.getRootNode?function(e){var t;return null==e||null===(t=e.getRootNode)||void 0===t?void 0:t.call(e)}:function(e){return null==e?void 0:e.ownerDocument},Ha=function e(t,n){var r;void 0===n&&(n=!0);var a=null==t||null===(r=t.getAttribute)||void 0===r?void 0:r.call(t,"inert");return""===a||"true"===a||n&&t&&e(t.parentNode)},Ga=function e(t,n,r){for(var a=[],o=Array.from(t);o.length;){var i=o.shift();if(!Ha(i,!1))if("SLOT"===i.tagName){var s=i.assignedElements(),l=e(s.length?s:i.children,!0,r);r.flatten?a.push.apply(a,l):a.push({scopeParent:i,candidates:l})}else{za.call(i,$a)&&r.filter(i)&&(n||!t.includes(i))&&a.push(i);var c=i.shadowRoot||"function"==typeof r.getShadowRoot&&r.getShadowRoot(i),u=!Ha(c,!1)&&(!r.shadowRootFilter||r.shadowRootFilter(i));if(c&&u){var d=e(!0===c?i.children:c.children,!0,r);r.flatten?a.push.apply(a,d):a.push({scopeParent:i,candidates:d})}else o.unshift.apply(o,i.children)}}return a},qa=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},Qa=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||function(e){var t,n=null==e||null===(t=e.getAttribute)||void 0===t?void 0:t.call(e,"contenteditable");return""===n||"true"===n}(e))&&!qa(e)?0:e.tabIndex},Ya=function(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex},Ka=function(e){return"INPUT"===e.tagName},Xa=function(e){var t=e.getBoundingClientRect(),n=t.width,r=t.height;return 0===n&&0===r},Za=function(e,t){return!(t.disabled||Ha(t)||function(e){return Ka(e)&&"hidden"===e.type}(t)||function(e,t){var n=t.displayCheck,r=t.getShadowRoot;if("hidden"===getComputedStyle(e).visibility)return!0;var a=za.call(e,"details>summary:first-of-type")?e.parentElement:e;if(za.call(a,"details:not([open]) *"))return!0;if(n&&"full"!==n&&"legacy-full"!==n){if("non-zero-area"===n)return Xa(e)}else{if("function"==typeof r){for(var o=e;e;){var i=e.parentElement,s=Wa(e);if(i&&!i.shadowRoot&&!0===r(i))return Xa(e);e=e.assignedSlot?e.assignedSlot:i||s===e.ownerDocument?i:s.host}e=o}if(function(e){var t,n,r,a,o=e&&Wa(e),i=null===(t=o)||void 0===t?void 0:t.host,s=!1;if(o&&o!==e)for(s=!!(null!==(n=i)&&void 0!==n&&null!==(r=n.ownerDocument)&&void 0!==r&&r.contains(i)||null!=e&&null!==(a=e.ownerDocument)&&void 0!==a&&a.contains(e));!s&&i;){var l,c,u;s=!(null===(c=i=null===(l=o=Wa(i))||void 0===l?void 0:l.host)||void 0===c||null===(u=c.ownerDocument)||void 0===u||!u.contains(i))}return s}(e))return!e.getClientRects().length;if("legacy-full"!==n)return!0}return!1}(t,e)||function(e){return"DETAILS"===e.tagName&&Array.prototype.slice.apply(e.children).some(function(e){return"SUMMARY"===e.tagName})}(t)||function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var t=e.parentElement;t;){if("FIELDSET"===t.tagName&&t.disabled){for(var n=0;n<t.children.length;n++){var r=t.children.item(n);if("LEGEND"===r.tagName)return!!za.call(t,"fieldset[disabled] *")||!r.contains(e)}return!0}t=t.parentElement}return!1}(t))},Ja=function(e,t){return!(function(e){return function(e){return Ka(e)&&"radio"===e.type}(e)&&!function(e){if(!e.name)return!0;var t,n=e.form||Wa(e),r=function(e){return n.querySelectorAll('input[type="radio"][name="'+e+'"]')};if("undefined"!=typeof window&&void 0!==window.CSS&&"function"==typeof window.CSS.escape)t=r(window.CSS.escape(e.name));else try{t=r(e.name)}catch(e){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",e.message),!1}var a=function(e,t){for(var n=0;n<e.length;n++)if(e[n].checked&&e[n].form===t)return e[n]}(t,e.form);return!a||a===e}(e)}(t)||Qa(t)<0||!Za(e,t))},eo=function(e){var t=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(t)||t>=0)},to=function e(t){var n=[],r=[];return t.forEach(function(t,a){var o=!!t.scopeParent,i=o?t.scopeParent:t,s=function(e,t){var n=Qa(e);return n<0&&t&&!qa(e)?0:n}(i,o),l=o?e(t.candidates):i;0===s?o?n.push.apply(n,l):n.push(i):r.push({documentOrder:a,tabIndex:s,item:t,isScope:o,content:l})}),r.sort(Ya).reduce(function(e,t){return t.isScope?e.push.apply(e,t.content):e.push(t.content),e},[]).concat(n)},no=function(e,t){var n;return n=(t=t||{}).getShadowRoot?Ga([e],t.includeContainer,{filter:Ja.bind(null,t),flatten:!1,getShadowRoot:t.getShadowRoot,shadowRootFilter:eo}):function(e,t,n){if(Ha(e))return[];var r=Array.prototype.slice.apply(e.querySelectorAll($a));return t&&za.call(e,$a)&&r.unshift(e),r.filter(n)}(e,t.includeContainer,Ja.bind(null,t)),to(n)},ro=n(8398);function ao(e,t,n){let{reference:r,floating:a}=e;const o=ka(t),i=_a(t),s=Ra(i),l=Pa(t),c="y"===o,u=r.x+r.width/2-a.width/2,d=r.y+r.height/2-a.height/2,p=r[s]/2-a[s]/2;let f;switch(l){case"top":f={x:u,y:r.y-a.height};break;case"bottom":f={x:u,y:r.y+r.height};break;case"right":f={x:r.x+r.width,y:d};break;case"left":f={x:r.x-a.width,y:d};break;default:f={x:r.x,y:r.y}}switch(Ia(t)){case"start":f[i]-=p*(n&&c?-1:1);break;case"end":f[i]+=p*(n&&c?-1:1)}return f}async function oo(e,t){var n;void 0===t&&(t={});const{x:r,y:a,platform:o,rects:i,elements:s,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:p=!1,padding:f=0}=Da(t,e),h=function(e){return"number"!=typeof e?function(e){return{top:0,right:0,bottom:0,left:0,...e}}(e):{top:e,right:e,bottom:e,left:e}}(f),m=s[p?"floating"===d?"reference":"floating":d],g=Fa(await o.getClippingRect({element:null==(n=await(null==o.isElement?void 0:o.isElement(m)))||n?m:m.contextElement||await(null==o.getDocumentElement?void 0:o.getDocumentElement(s.floating)),boundary:c,rootBoundary:u,strategy:l})),b="floating"===d?{x:r,y:a,width:i.floating.width,height:i.floating.height}:i.reference,v=await(null==o.getOffsetParent?void 0:o.getOffsetParent(s.floating)),y=await(null==o.isElement?void 0:o.isElement(v))&&await(null==o.getScale?void 0:o.getScale(v))||{x:1,y:1},w=Fa(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:s,rect:b,offsetParent:v,strategy:l}):b);return{top:(g.top-w.top+h.top)/y.y,bottom:(w.bottom-g.bottom+h.bottom)/y.y,left:(g.left-w.left+h.left)/y.x,right:(w.right-g.right+h.right)/y.x}}const io=new Set(["left","top"]);function so(e){const t=ta(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const a=Fr(e),o=a?e.offsetWidth:n,i=a?e.offsetHeight:r,s=Sa(n)!==o||Sa(r)!==i;return s&&(n=o,r=i),{width:n,height:r,$:s}}function lo(e){return Vr(e)?e:e.contextElement}function co(e){const t=lo(e);if(!Fr(t))return Ca(1);const n=t.getBoundingClientRect(),{width:r,height:a,$:o}=so(t);let i=(o?Sa(n.width):n.width)/r,s=(o?Sa(n.height):n.height)/a;return i&&Number.isFinite(i)||(i=1),s&&Number.isFinite(s)||(s=1),{x:i,y:s}}const uo=Ca(0);function po(e){const t=Br(e);return Zr()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:uo}function fo(e,t,n,r){void 0===t&&(t=!1),void 0===n&&(n=!1);const a=e.getBoundingClientRect(),o=lo(e);let i=Ca(1);t&&(r?Vr(r)&&(i=co(r)):i=co(e));const s=function(e,t,n){return void 0===t&&(t=!1),!(!n||t&&n!==Br(e))&&t}(o,n,r)?po(o):Ca(0);let l=(a.left+s.x)/i.x,c=(a.top+s.y)/i.y,u=a.width/i.x,d=a.height/i.y;if(o){const e=Br(o),t=r&&Vr(r)?Br(r):r;let n=e,a=ia(n);for(;a&&r&&t!==n;){const e=co(a),t=a.getBoundingClientRect(),r=ta(a),o=t.left+(a.clientLeft+parseFloat(r.paddingLeft))*e.x,i=t.top+(a.clientTop+parseFloat(r.paddingTop))*e.y;l*=e.x,c*=e.y,u*=e.x,d*=e.y,l+=o,c+=i,n=Br(a),a=ia(n)}}return Fa({width:u,height:d,x:l,y:c})}function ho(e,t){const n=na(e).scrollLeft;return t?t.left+n:fo(jr(e)).left+n}function mo(e,t,n){void 0===n&&(n=!1);const r=e.getBoundingClientRect();return{x:r.left+t.scrollLeft-(n?0:ho(e,r)),y:r.top+t.scrollTop}}const go=new Set(["absolute","fixed"]);function bo(e,t,n){let r;if("viewport"===t)r=function(e,t){const n=Br(e),r=jr(e),a=n.visualViewport;let o=r.clientWidth,i=r.clientHeight,s=0,l=0;if(a){o=a.width,i=a.height;const e=Zr();(!e||e&&"fixed"===t)&&(s=a.offsetLeft,l=a.offsetTop)}return{width:o,height:i,x:s,y:l}}(e,n);else if("document"===t)r=function(e){const t=jr(e),n=na(e),r=e.ownerDocument.body,a=Ea(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),o=Ea(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let i=-n.scrollLeft+ho(e);const s=-n.scrollTop;return"rtl"===ta(r).direction&&(i+=Ea(t.clientWidth,r.clientWidth)-a),{width:a,height:o,x:i,y:s}}(jr(e));else if(Vr(t))r=function(e,t){const n=fo(e,!0,"fixed"===t),r=n.top+e.clientTop,a=n.left+e.clientLeft,o=Fr(e)?co(e):Ca(1);return{width:e.clientWidth*o.x,height:e.clientHeight*o.y,x:a*o.x,y:r*o.y}}(t,n);else{const n=po(e);r={x:t.x-n.x,y:t.y-n.y,width:t.width,height:t.height}}return Fa(r)}function vo(e,t){const n=ra(e);return!(n===t||!Vr(n)||ea(n))&&("fixed"===ta(n).position||vo(n,t))}function yo(e,t,n){const r=Fr(t),a=jr(t),o="fixed"===n,i=fo(e,!0,o,t);let s={scrollLeft:0,scrollTop:0};const l=Ca(0);function c(){l.x=ho(a)}if(r||!r&&!o)if(("body"!==Mr(t)||zr(a))&&(s=na(t)),r){const e=fo(t,!0,o,t);l.x=e.x+t.clientLeft,l.y=e.y+t.clientTop}else a&&c();o&&!r&&a&&c();const u=!a||r||o?Ca(0):mo(a,s);return{x:i.left+s.scrollLeft-l.x-u.x,y:i.top+s.scrollTop-l.y-u.y,width:i.width,height:i.height}}function wo(e){return"static"===ta(e).position}function Eo(e,t){if(!Fr(e)||"fixed"===ta(e).position)return null;if(t)return t(e);let n=e.offsetParent;return jr(e)===n&&(n=n.ownerDocument.body),n}function So(e,t){const n=Br(e);if(qr(e))return n;if(!Fr(e)){let t=ra(e);for(;t&&!ea(t);){if(Vr(t)&&!wo(t))return t;t=ra(t)}return n}let r=Eo(e,t);for(;r&&Hr(r)&&wo(r);)r=Eo(r,t);return r&&ea(r)&&wo(r)&&!Xr(r)?n:r||function(e){let t=ra(e);for(;Fr(t)&&!ea(t);){if(Xr(t))return t;if(qr(t))return null;t=ra(t)}return null}(e)||n}const Oo={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{elements:t,rect:n,offsetParent:r,strategy:a}=e;const o="fixed"===a,i=jr(r),s=!!t&&qr(t.floating);if(r===i||s&&o)return n;let l={scrollLeft:0,scrollTop:0},c=Ca(1);const u=Ca(0),d=Fr(r);if((d||!d&&!o)&&(("body"!==Mr(r)||zr(i))&&(l=na(r)),Fr(r))){const e=fo(r);c=co(r),u.x=e.x+r.clientLeft,u.y=e.y+r.clientTop}const p=!i||d||o?Ca(0):mo(i,l,!0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x+p.x,y:n.y*c.y-l.scrollTop*c.y+u.y+p.y}},getDocumentElement:jr,getClippingRect:function(e){let{element:t,boundary:n,rootBoundary:r,strategy:a}=e;const o=[..."clippingAncestors"===n?qr(t)?[]:function(e,t){const n=t.get(e);if(n)return n;let r=oa(e,[],!1).filter(e=>Vr(e)&&"body"!==Mr(e)),a=null;const o="fixed"===ta(e).position;let i=o?ra(e):e;for(;Vr(i)&&!ea(i);){const t=ta(i),n=Xr(i);n||"fixed"!==t.position||(a=null),(o?!n&&!a:!n&&"static"===t.position&&a&&go.has(a.position)||zr(i)&&!n&&vo(e,i))?r=r.filter(e=>e!==i):a=t,i=ra(i)}return t.set(e,r),r}(t,this._c):[].concat(n),r],i=o[0],s=o.reduce((e,n)=>{const r=bo(t,n,a);return e.top=Ea(r.top,e.top),e.right=wa(r.right,e.right),e.bottom=wa(r.bottom,e.bottom),e.left=Ea(r.left,e.left),e},bo(t,i,a));return{width:s.right-s.left,height:s.bottom-s.top,x:s.left,y:s.top}},getOffsetParent:So,getElementRects:async function(e){const t=this.getOffsetParent||So,n=this.getDimensions,r=await n(e.floating);return{reference:yo(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}},getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){const{width:t,height:n}=so(e);return{width:t,height:n}},getScale:co,isElement:Vr,isRTL:function(e){return"rtl"===ta(e).direction}};function Co(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Ao(e,t,n,r){void 0===r&&(r={});const{ancestorScroll:a=!0,ancestorResize:o=!0,elementResize:i="function"==typeof ResizeObserver,layoutShift:s="function"==typeof IntersectionObserver,animationFrame:l=!1}=r,c=lo(e),u=a||o?[...c?oa(c):[],...oa(t)]:[];u.forEach(e=>{a&&e.addEventListener("scroll",n,{passive:!0}),o&&e.addEventListener("resize",n)});const d=c&&s?function(e,t){let n,r=null;const a=jr(e);function o(){var e;clearTimeout(n),null==(e=r)||e.disconnect(),r=null}return function i(s,l){void 0===s&&(s=!1),void 0===l&&(l=1),o();const c=e.getBoundingClientRect(),{left:u,top:d,width:p,height:f}=c;if(s||t(),!p||!f)return;const h={rootMargin:-Oa(d)+"px "+-Oa(a.clientWidth-(u+p))+"px "+-Oa(a.clientHeight-(d+f))+"px "+-Oa(u)+"px",threshold:Ea(0,wa(1,l))||1};let m=!0;function g(t){const r=t[0].intersectionRatio;if(r!==l){if(!m)return i();r?i(!1,r):n=setTimeout(()=>{i(!1,1e-7)},1e3)}1!==r||Co(c,e.getBoundingClientRect())||i(),m=!1}try{r=new IntersectionObserver(g,{...h,root:a.ownerDocument})}catch(e){r=new IntersectionObserver(g,h)}r.observe(e)}(!0),o}(c,n):null;let p,f=-1,h=null;i&&(h=new ResizeObserver(e=>{let[r]=e;r&&r.target===c&&h&&(h.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var e;null==(e=h)||e.observe(t)})),n()}),c&&!l&&h.observe(c),h.observe(t));let m=l?fo(e):null;return l&&function t(){const r=fo(e);m&&!Co(m,r)&&n(),m=r,p=requestAnimationFrame(t)}(),n(),()=>{var e;u.forEach(e=>{a&&e.removeEventListener("scroll",n),o&&e.removeEventListener("resize",n)}),null==d||d(),null==(e=h)||e.disconnect(),h=null,l&&cancelAnimationFrame(p)}}const xo=function(e){return void 0===e&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:a,y:o,placement:i,middlewareData:s}=t,l=await async function(e,t){const{placement:n,platform:r,elements:a}=e,o=await(null==r.isRTL?void 0:r.isRTL(a.floating)),i=Pa(n),s=Ia(n),l="y"===ka(n),c=io.has(i)?-1:1,u=o&&l?-1:1,d=Da(t,e);let{mainAxis:p,crossAxis:f,alignmentAxis:h}="number"==typeof d?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return s&&"number"==typeof h&&(f="end"===s?-1*h:h),l?{x:f*u,y:p*c}:{x:p*c,y:f*u}}(t,e);return i===(null==(n=s.offset)?void 0:n.placement)&&null!=(r=s.arrow)&&r.alignmentOffset?{}:{x:a+l.x,y:o+l.y,data:{...l,placement:i}}}}},Do=function(e){return void 0===e&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:a,middlewareData:o,rects:i,initialPlacement:s,platform:l,elements:c}=t,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:p,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:h="none",flipAlignment:m=!0,...g}=Da(e,t);if(null!=(n=o.arrow)&&n.alignmentOffset)return{};const b=Pa(a),v=ka(s),y=Pa(s)===s,w=await(null==l.isRTL?void 0:l.isRTL(c.floating)),E=p||(y||!m?[Va(s)]:function(e){const t=Va(e);return[La(e),t,La(t)]}(s)),S="none"!==h;!p&&S&&E.push(...function(e,t,n,r){const a=Ia(e);let o=function(e,t,n){switch(e){case"top":case"bottom":return n?t?Ba:Ma:t?Ma:Ba;case"left":case"right":return t?ja:Na;default:return[]}}(Pa(e),"start"===n,r);return a&&(o=o.map(e=>e+"-"+a),t&&(o=o.concat(o.map(La)))),o}(s,m,h,w));const O=[s,...E],C=await oo(t,g),A=[];let x=(null==(r=o.flip)?void 0:r.overflows)||[];if(u&&A.push(C[b]),d){const e=function(e,t,n){void 0===n&&(n=!1);const r=Ia(e),a=_a(e),o=Ra(a);let i="x"===a?r===(n?"end":"start")?"right":"left":"start"===r?"bottom":"top";return t.reference[o]>t.floating[o]&&(i=Va(i)),[i,Va(i)]}(a,i,w);A.push(C[e[0]],C[e[1]])}if(x=[...x,{placement:a,overflows:A}],!A.every(e=>e<=0)){var D,P;const e=((null==(D=o.flip)?void 0:D.index)||0)+1,t=O[e];if(t&&("alignment"!==d||v===ka(t)||x.every(e=>e.overflows[0]>0&&ka(e.placement)===v)))return{data:{index:e,overflows:x},reset:{placement:t}};let n=null==(P=x.filter(e=>e.overflows[0]<=0).sort((e,t)=>e.overflows[1]-t.overflows[1])[0])?void 0:P.placement;if(!n)switch(f){case"bestFit":{var I;const e=null==(I=x.filter(e=>{if(S){const t=ka(e.placement);return t===v||"y"===t}return!0}).map(e=>[e.placement,e.overflows.filter(e=>e>0).reduce((e,t)=>e+t,0)]).sort((e,t)=>e[1]-t[1])[0])?void 0:I[0];e&&(n=e);break}case"initialPlacement":n=s}if(a!==n)return{reset:{placement:n}}}return{}}}},Po=function(e){return void 0===e&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:a,rects:o,platform:i,elements:s}=t,{apply:l=()=>{},...c}=Da(e,t),u=await oo(t,c),d=Pa(a),p=Ia(a),f="y"===ka(a),{width:h,height:m}=o.floating;let g,b;"top"===d||"bottom"===d?(g=d,b=p===(await(null==i.isRTL?void 0:i.isRTL(s.floating))?"start":"end")?"left":"right"):(b=d,g="end"===p?"top":"bottom");const v=m-u.top-u.bottom,y=h-u.left-u.right,w=wa(m-u[g],v),E=wa(h-u[b],y),S=!t.middlewareData.shift;let O=w,C=E;if(null!=(n=t.middlewareData.shift)&&n.enabled.x&&(C=y),null!=(r=t.middlewareData.shift)&&r.enabled.y&&(O=v),S&&!p){const e=Ea(u.left,0),t=Ea(u.right,0),n=Ea(u.top,0),r=Ea(u.bottom,0);f?C=h-2*(0!==e||0!==t?e+t:Ea(u.left,u.right)):O=m-2*(0!==n||0!==r?n+r:Ea(u.top,u.bottom))}await l({...t,availableWidth:C,availableHeight:O});const A=await i.getDimensions(s.floating);return h!==A.width||m!==A.height?{reset:{rects:!0}}:{}}}},Io=(e,t,n)=>{const r=new Map,a={platform:Oo,...n},o={...a.platform,_c:r};return(async(e,t,n)=>{const{placement:r="bottom",strategy:a="absolute",middleware:o=[],platform:i}=n,s=o.filter(Boolean),l=await(null==i.isRTL?void 0:i.isRTL(t));let c=await i.getElementRects({reference:e,floating:t,strategy:a}),{x:u,y:d}=ao(c,r,l),p=r,f={},h=0;for(let n=0;n<s.length;n++){const{name:o,fn:m}=s[n],{x:g,y:b,data:v,reset:y}=await m({x:u,y:d,initialPlacement:r,placement:p,strategy:a,middlewareData:f,rects:c,platform:i,elements:{reference:e,floating:t}});u=null!=g?g:u,d=null!=b?b:d,f={...f,[o]:{...f[o],...v}},y&&h<=50&&(h++,"object"==typeof y&&(y.placement&&(p=y.placement),y.rects&&(c=!0===y.rects?await i.getElementRects({reference:e,floating:t,strategy:a}):y.rects),({x:u,y:d}=ao(c,p,l))),n=-1)}return{x:u,y:d,placement:p,strategy:a,middlewareData:f}})(e,t,{...a,platform:o})};var Ro="undefined"!=typeof document?o.useLayoutEffect:function(){};function To(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if("function"==typeof e&&e.toString()===t.toString())return!0;let n,r,a;if(e&&t&&"object"==typeof e){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;0!==r--;)if(!To(e[r],t[r]))return!1;return!0}if(a=Object.keys(e),n=a.length,n!==Object.keys(t).length)return!1;for(r=n;0!==r--;)if(!{}.hasOwnProperty.call(t,a[r]))return!1;for(r=n;0!==r--;){const n=a[r];if(!("_owner"===n&&e.$$typeof||To(e[n],t[n])))return!1}return!0}return e!=e&&t!=t}function ko(e){return"undefined"==typeof window?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function _o(e,t){const n=ko(e);return Math.round(t*n)/n}function Lo(e){const t=o.useRef(e);return Ro(()=>{t.current=e}),t}const Mo=(e,t)=>({...Do(e),options:[e,t]}),Bo=(e,t)=>({...Po(e),options:[e,t]}),jo={...i},No=jo.useInsertionEffect||(e=>e());function Vo(e){const t=o.useRef(()=>{});return No(()=>{t.current=e}),o.useCallback(function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return null==t.current?void 0:t.current(...n)},[])}const Fo="ArrowUp",$o="ArrowDown",Uo="ArrowLeft",zo="ArrowRight";function Wo(e,t,n){return Math.floor(e/t)!==n}function Ho(e,t){return t<0||t>=e.current.length}function Go(e,t){return Qo(e,{disabledIndices:t})}function qo(e,t){return Qo(e,{decrement:!0,startingIndex:e.current.length,disabledIndices:t})}function Qo(e,t){let{startingIndex:n=-1,decrement:r=!1,disabledIndices:a,amount:o=1}=void 0===t?{}:t;const i=e.current;let s=n;do{s+=r?-o:o}while(s>=0&&s<=i.length-1&&Xo(i,s,a));return s}function Yo(e,t,n,r,a){if(-1===e)return-1;const o=n.indexOf(e),i=t[e];switch(a){case"tl":return o;case"tr":return i?o+i.width-1:o;case"bl":return i?o+(i.height-1)*r:o;case"br":return n.lastIndexOf(e)}}function Ko(e,t){return t.flatMap((t,n)=>e.includes(t)?[n]:[])}function Xo(e,t,n){if(n)return n.includes(t);const r=e[t];return null==r||r.hasAttribute("disabled")||"true"===r.getAttribute("aria-disabled")}var Zo="undefined"!=typeof document?o.useLayoutEffect:o.useEffect;function Jo(){return Jo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Jo.apply(this,arguments)}let ei=!1,ti=0;const ni=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+ti++,ri=jo.useId||function(){const[e,t]=o.useState(()=>ei?ni():void 0);return Zo(()=>{null==e&&t(ni())},[]),o.useEffect(()=>{ei=!0},[]),e};const ai=o.createContext(null),oi=o.createContext(null),ii=()=>{var e;return(null==(e=o.useContext(ai))?void 0:e.id)||null},si=()=>o.useContext(oi);function li(e){return"data-floating-ui-"+e}function ci(e){const t=(0,o.useRef)(e);return Zo(()=>{t.current=e}),t}let ui=0;function di(e,t){void 0===t&&(t={});const{preventScroll:n=!1,cancelPrevious:r=!0,sync:a=!1}=t;r&&cancelAnimationFrame(ui);const o=()=>null==e?void 0:e.focus({preventScroll:n});a?o():ui=requestAnimationFrame(o)}function pi(e,t){let n=e.filter(e=>{var n;return e.parentId===t&&(null==(n=e.context)?void 0:n.open)}),r=n;for(;r.length;)r=e.filter(e=>{var t;return null==(t=r)?void 0:t.some(t=>{var n;return e.parentId===t.id&&(null==(n=e.context)?void 0:n.open)})}),n=n.concat(r);return n}let fi=new WeakMap,hi=new WeakSet,mi={},gi=0;const bi=e=>e&&(e.host||bi(e.parentNode));function vi(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);const r=ma(e[0]).body;return function(e,t,n,r){const a="data-floating-ui-inert",o=r?"inert":n?"aria-hidden":null,i=(s=t,e.map(e=>{if(s.contains(e))return e;const t=bi(e);return s.contains(t)?t:null}).filter(e=>null!=e));var s;const l=new Set,c=new Set(i),u=[];mi[a]||(mi[a]=new WeakMap);const d=mi[a];return i.forEach(function e(t){t&&!l.has(t)&&(l.add(t),t.parentNode&&e(t.parentNode))}),function e(t){t&&!c.has(t)&&[].forEach.call(t.children,t=>{if("script"!==Mr(t))if(l.has(t))e(t);else{const e=o?t.getAttribute(o):null,n=null!==e&&"false"!==e,r=(fi.get(t)||0)+1,i=(d.get(t)||0)+1;fi.set(t,r),d.set(t,i),u.push(t),1===r&&n&&hi.add(t),1===i&&t.setAttribute(a,""),!n&&o&&t.setAttribute(o,"true")}})}(t),l.clear(),gi++,()=>{u.forEach(e=>{const t=(fi.get(e)||0)-1,n=(d.get(e)||0)-1;fi.set(e,t),d.set(e,n),t||(!hi.has(e)&&o&&e.removeAttribute(o),hi.delete(e)),n||e.removeAttribute(a)}),gi--,gi||(fi=new WeakMap,fi=new WeakMap,hi=new WeakSet,mi={})}}(e.concat(Array.from(r.querySelectorAll("[aria-live]"))),r,t,n)}const yi=()=>({getShadowRoot:!0,displayCheck:"function"==typeof ResizeObserver&&ResizeObserver.toString().includes("[native code]")?"full":"none"});function wi(e,t){const n=no(e,yi());"prev"===t&&n.reverse();const r=n.indexOf(sa(ma(e)));return n.slice(r+1)[0]}function Ei(){return wi(document.body,"next")}function Si(){return wi(document.body,"prev")}function Oi(e,t){const n=t||e.currentTarget,r=e.relatedTarget;return!r||!la(n,r)}function Ci(e){no(e,yi()).forEach(e=>{e.dataset.tabindex=e.getAttribute("tabindex")||"",e.setAttribute("tabindex","-1")})}function Ai(e){e.querySelectorAll("[data-tabindex]").forEach(e=>{const t=e.dataset.tabindex;delete e.dataset.tabindex,t?e.setAttribute("tabindex",t):e.removeAttribute("tabindex")})}const xi={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"fixed",whiteSpace:"nowrap",width:"1px",top:0,left:0};function Di(e){"Tab"===e.key&&(e.target,clearTimeout(void 0))}const Pi=o.forwardRef(function(e,t){const[n,r]=o.useState();Zo(()=>(fa()&&r("button"),document.addEventListener("keydown",Di),()=>{document.removeEventListener("keydown",Di)}),[]);const a={ref:t,tabIndex:0,role:n,"aria-hidden":!n||void 0,[li("focus-guard")]:"",style:xi};return o.createElement("span",Jo({},e,a))}),Ii=o.createContext(null),Ri=li("portal");function Ti(e){const{children:t,id:n,root:r,preserveTabOrder:a=!0}=e,i=function(e){void 0===e&&(e={});const{id:t,root:n}=e,r=ri(),a=ki(),[i,s]=o.useState(null),l=o.useRef(null);return Zo(()=>()=>{null==i||i.remove(),queueMicrotask(()=>{l.current=null})},[i]),Zo(()=>{if(!r)return;if(l.current)return;const e=t?document.getElementById(t):null;if(!e)return;const n=document.createElement("div");n.id=r,n.setAttribute(Ri,""),e.appendChild(n),l.current=n,s(n)},[t,r]),Zo(()=>{if(null===n)return;if(!r)return;if(l.current)return;let e=n||(null==a?void 0:a.portalNode);e&&!Vr(e)&&(e=e.current),e=e||document.body;let o=null;t&&(o=document.createElement("div"),o.id=t,e.appendChild(o));const i=document.createElement("div");i.id=r,i.setAttribute(Ri,""),e=o||e,e.appendChild(i),l.current=i,s(i)},[t,n,r,a]),i}({id:n,root:r}),[s,l]=o.useState(null),c=o.useRef(null),u=o.useRef(null),d=o.useRef(null),p=o.useRef(null),f=null==s?void 0:s.modal,h=null==s?void 0:s.open,m=!!s&&!s.modal&&s.open&&a&&!(!r&&!i);return o.useEffect(()=>{if(i&&a&&!f)return i.addEventListener("focusin",e,!0),i.addEventListener("focusout",e,!0),()=>{i.removeEventListener("focusin",e,!0),i.removeEventListener("focusout",e,!0)};function e(e){i&&Oi(e)&&("focusin"===e.type?Ai:Ci)(i)}},[i,a,f]),o.useEffect(()=>{i&&(h||Ai(i))},[h,i]),o.createElement(Ii.Provider,{value:o.useMemo(()=>({preserveTabOrder:a,beforeOutsideRef:c,afterOutsideRef:u,beforeInsideRef:d,afterInsideRef:p,portalNode:i,setFocusManagerState:l}),[a,i])},m&&i&&o.createElement(Pi,{"data-type":"outside",ref:c,onFocus:e=>{if(Oi(e,i)){var t;null==(t=d.current)||t.focus()}else{const e=Si()||(null==s?void 0:s.refs.domReference.current);null==e||e.focus()}}}),m&&i&&o.createElement("span",{"aria-owns":i.id,style:xi}),i&&ro.createPortal(t,i),m&&i&&o.createElement(Pi,{"data-type":"outside",ref:u,onFocus:e=>{if(Oi(e,i)){var t;null==(t=p.current)||t.focus()}else{const t=Ei()||(null==s?void 0:s.refs.domReference.current);null==t||t.focus(),(null==s?void 0:s.closeOnFocusOut)&&(null==s||s.onOpenChange(!1,e.nativeEvent,"focus-out"))}}}))}const ki=()=>o.useContext(Ii),_i="data-floating-ui-focusable";function Li(e){return e?e.hasAttribute(_i)?e:e.querySelector("["+_i+"]")||e:null}let Mi=[];function Bi(e){Mi=Mi.filter(e=>e.isConnected);let t=e;if(t&&"body"!==Mr(t)){if(!function(e,t){if(t=t||{},!e)throw new Error("No node provided");return!1!==za.call(e,$a)&&Ja(t,e)}(t,yi())){const e=no(t,yi())[0];e&&(t=e)}Mi.push(t),Mi.length>20&&(Mi=Mi.slice(-20))}}function ji(){return Mi.slice().reverse().find(e=>e.isConnected)}const Ni=o.forwardRef(function(e,t){return o.createElement("button",Jo({},e,{type:"button",ref:t,tabIndex:-1,style:xi}))});function Vi(e){const{context:t,children:n,disabled:r=!1,order:a=["content"],guards:i=!0,initialFocus:s=0,returnFocus:l=!0,restoreFocus:c=!1,modal:u=!0,visuallyHiddenDismiss:d=!1,closeOnFocusOut:p=!0}=e,{open:f,refs:h,nodeId:m,onOpenChange:g,events:b,dataRef:v,floatingId:y,elements:{domReference:w,floating:E}}=t,S="number"==typeof s&&s<0,O=ya(w)&&S,C="undefined"==typeof HTMLElement||!("inert"in HTMLElement.prototype)||i,A=ci(a),x=ci(s),D=ci(l),P=si(),I=ki(),R=o.useRef(null),T=o.useRef(null),k=o.useRef(!1),_=o.useRef(!1),L=o.useRef(-1),M=null!=I,B=Li(E),j=Vo(function(e){return void 0===e&&(e=B),e?no(e,yi()):[]}),N=Vo(e=>{const t=j(e);return A.current.map(e=>w&&"reference"===e?w:B&&"floating"===e?B:t).filter(Boolean).flat()});function V(e){return!r&&d&&u?o.createElement(Ni,{ref:"start"===e?R:T,onClick:e=>g(!1,e.nativeEvent)},"string"==typeof d?d:"Dismiss"):null}o.useEffect(()=>{if(r)return;if(!u)return;function e(e){if("Tab"===e.key){la(B,sa(ma(B)))&&0===j().length&&!O&&va(e);const t=N(),n=ba(e);"reference"===A.current[0]&&n===w&&(va(e),e.shiftKey?di(t[t.length-1]):di(t[1])),"floating"===A.current[1]&&n===B&&e.shiftKey&&(va(e),di(t[0]))}}const t=ma(B);return t.addEventListener("keydown",e),()=>{t.removeEventListener("keydown",e)}},[r,w,B,u,A,O,j,N]),o.useEffect(()=>{if(!r&&E)return E.addEventListener("focusin",e),()=>{E.removeEventListener("focusin",e)};function e(e){const t=ba(e),n=j().indexOf(t);-1!==n&&(L.current=n)}},[r,E,j]),o.useEffect(()=>{if(!r&&p)return E&&Fr(w)?(w.addEventListener("focusout",t),w.addEventListener("pointerdown",e),E.addEventListener("focusout",t),()=>{w.removeEventListener("focusout",t),w.removeEventListener("pointerdown",e),E.removeEventListener("focusout",t)}):void 0;function e(){_.current=!0,setTimeout(()=>{_.current=!1})}function t(e){const t=e.relatedTarget;queueMicrotask(()=>{const n=!(la(w,t)||la(E,t)||la(t,E)||la(null==I?void 0:I.portalNode,t)||null!=t&&t.hasAttribute(li("focus-guard"))||P&&(pi(P.nodesRef.current,m).find(e=>{var n,r;return la(null==(n=e.context)?void 0:n.elements.floating,t)||la(null==(r=e.context)?void 0:r.elements.domReference,t)})||function(e,t){var n;let r=[],a=null==(n=e.find(e=>e.id===t))?void 0:n.parentId;for(;a;){const t=e.find(e=>e.id===a);a=null==t?void 0:t.parentId,t&&(r=r.concat(t))}return r}(P.nodesRef.current,m).find(e=>{var n,r;return(null==(n=e.context)?void 0:n.elements.floating)===t||(null==(r=e.context)?void 0:r.elements.domReference)===t})));if(c&&n&&sa(ma(B))===ma(B).body){Fr(B)&&B.focus();const e=L.current,t=j(),n=t[e]||t[t.length-1]||B;Fr(n)&&n.focus()}!O&&u||!t||!n||_.current||t===ji()||(k.current=!0,g(!1,e,"focus-out"))})}},[r,w,E,B,u,m,P,I,g,p,c,j,O]),o.useEffect(()=>{var e;if(r)return;const t=Array.from((null==I||null==(e=I.portalNode)?void 0:e.querySelectorAll("["+li("portal")+"]"))||[]);if(E){const e=[E,...t,R.current,T.current,A.current.includes("reference")||O?w:null].filter(e=>null!=e),n=u||O?vi(e,C,!C):vi(e);return()=>{n()}}},[r,w,E,u,A,I,O,C]),Zo(()=>{if(r||!Fr(B))return;const e=sa(ma(B));queueMicrotask(()=>{const t=N(B),n=x.current,r=("number"==typeof n?t[n]:n.current)||B,a=la(B,e);S||a||!f||di(r,{preventScroll:r===B})})},[r,f,B,S,N,x]),Zo(()=>{if(r||!B)return;let e=!1;const t=ma(B),n=sa(t);let a=v.current.openEvent;function o(t){let{open:n,reason:r,event:o,nested:i}=t;n&&(a=o),"escape-key"===r&&h.domReference.current&&Bi(h.domReference.current),"hover"===r&&"mouseleave"===o.type&&(k.current=!0),"outside-press"===r&&(i?(k.current=!1,e=!0):k.current=!(da(o)||pa(o)))}Bi(n),b.on("openchange",o);const i=t.createElement("span");return i.setAttribute("tabindex","-1"),i.setAttribute("aria-hidden","true"),Object.assign(i.style,xi),M&&w&&w.insertAdjacentElement("afterend",i),()=>{b.off("openchange",o);const n=sa(t),r=la(E,n)||P&&pi(P.nodesRef.current,m).some(e=>{var t;return la(null==(t=e.context)?void 0:t.elements.floating,n)});(r||a&&["click","mousedown"].includes(a.type))&&h.domReference.current&&Bi(h.domReference.current);const s="boolean"==typeof D.current?ji()||i:D.current.current||i;queueMicrotask(()=>{D.current&&!k.current&&Fr(s)&&(s===n||n===t.body||r)&&s.focus({preventScroll:e}),i.remove()})}},[r,E,B,D,v,h,b,P,m,M,w]),o.useEffect(()=>{queueMicrotask(()=>{k.current=!1})},[r]),Zo(()=>{if(!r&&I)return I.setFocusManagerState({modal:u,closeOnFocusOut:p,open:f,onOpenChange:g,refs:h}),()=>{I.setFocusManagerState(null)}},[r,I,u,f,g,h,p]),Zo(()=>{if(r)return;if(!B)return;if("function"!=typeof MutationObserver)return;if(S)return;const e=()=>{const e=B.getAttribute("tabindex"),t=j(),n=sa(ma(E)),r=t.indexOf(n);-1!==r&&(L.current=r),A.current.includes("floating")||n!==h.domReference.current&&0===t.length?"0"!==e&&B.setAttribute("tabindex","0"):"-1"!==e&&B.setAttribute("tabindex","-1")};e();const t=new MutationObserver(e);return t.observe(B,{childList:!0,subtree:!0,attributes:!0}),()=>{t.disconnect()}},[r,E,B,h,A,j,S]);const F=!r&&C&&(!u||!O)&&(M||u);return o.createElement(o.Fragment,null,F&&o.createElement(Pi,{"data-type":"inside",ref:null==I?void 0:I.beforeInsideRef,onFocus:e=>{if(u){const e=N();di("reference"===a[0]?e[0]:e[e.length-1])}else if(null!=I&&I.preserveTabOrder&&I.portalNode)if(k.current=!1,Oi(e,I.portalNode)){const e=Ei()||w;null==e||e.focus()}else{var t;null==(t=I.beforeOutsideRef.current)||t.focus()}}}),!O&&V("start"),n,V("end"),F&&o.createElement(Pi,{"data-type":"inside",ref:null==I?void 0:I.afterInsideRef,onFocus:e=>{if(u)di(N()[0]);else if(null!=I&&I.preserveTabOrder&&I.portalNode)if(p&&(k.current=!0),Oi(e,I.portalNode)){const e=Si()||w;null==e||e.focus()}else{var t;null==(t=I.afterOutsideRef.current)||t.focus()}}}))}const Fi={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},$i={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},Ui=e=>{var t,n;return{escapeKey:"boolean"==typeof e?e:null!=(t=null==e?void 0:e.escapeKey)&&t,outsidePress:"boolean"==typeof e?e:null==(n=null==e?void 0:e.outsidePress)||n}};function zi(e){void 0===e&&(e={});const{nodeId:t}=e,n=function(e){const{open:t=!1,onOpenChange:n,elements:r}=e,a=ri(),i=o.useRef({}),[s]=o.useState(()=>function(){const e=new Map;return{emit(t,n){var r;null==(r=e.get(t))||r.forEach(e=>e(n))},on(t,n){e.set(t,[...e.get(t)||[],n])},off(t,n){var r;e.set(t,(null==(r=e.get(t))?void 0:r.filter(e=>e!==n))||[])}}}()),l=null!=ii(),[c,u]=o.useState(r.reference),d=Vo((e,t,r)=>{i.current.openEvent=e?t:void 0,s.emit("openchange",{open:e,event:t,reason:r,nested:l}),null==n||n(e,t,r)}),p=o.useMemo(()=>({setPositionReference:u}),[]),f=o.useMemo(()=>({reference:c||r.reference||null,floating:r.floating||null,domReference:r.reference}),[c,r.reference,r.floating]);return o.useMemo(()=>({dataRef:i,open:t,onOpenChange:d,elements:f,events:s,floatingId:a,refs:p}),[t,d,f,s,a,p])}({...e,elements:{reference:null,floating:null,...e.elements}}),r=e.rootContext||n,a=r.elements,[i,s]=o.useState(null),[l,c]=o.useState(null),u=(null==a?void 0:a.domReference)||i,d=o.useRef(null),p=si();Zo(()=>{u&&(d.current=u)},[u]);const f=function(e){void 0===e&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:a,elements:{reference:i,floating:s}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,p]=o.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[f,h]=o.useState(r);To(f,r)||h(r);const[m,g]=o.useState(null),[b,v]=o.useState(null),y=o.useCallback(e=>{e!==O.current&&(O.current=e,g(e))},[]),w=o.useCallback(e=>{e!==C.current&&(C.current=e,v(e))},[]),E=i||m,S=s||b,O=o.useRef(null),C=o.useRef(null),A=o.useRef(d),x=null!=c,D=Lo(c),P=Lo(a),I=Lo(u),R=o.useCallback(()=>{if(!O.current||!C.current)return;const e={placement:t,strategy:n,middleware:f};P.current&&(e.platform=P.current),Io(O.current,C.current,e).then(e=>{const t={...e,isPositioned:!1!==I.current};T.current&&!To(A.current,t)&&(A.current=t,ro.flushSync(()=>{p(t)}))})},[f,t,n,P,I]);Ro(()=>{!1===u&&A.current.isPositioned&&(A.current.isPositioned=!1,p(e=>({...e,isPositioned:!1})))},[u]);const T=o.useRef(!1);Ro(()=>(T.current=!0,()=>{T.current=!1}),[]),Ro(()=>{if(E&&(O.current=E),S&&(C.current=S),E&&S){if(D.current)return D.current(E,S,R);R()}},[E,S,R,D,x]);const k=o.useMemo(()=>({reference:O,floating:C,setReference:y,setFloating:w}),[y,w]),_=o.useMemo(()=>({reference:E,floating:S}),[E,S]),L=o.useMemo(()=>{const e={position:n,left:0,top:0};if(!_.floating)return e;const t=_o(_.floating,d.x),r=_o(_.floating,d.y);return l?{...e,transform:"translate("+t+"px, "+r+"px)",...ko(_.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:t,top:r}},[n,l,_.floating,d.x,d.y]);return o.useMemo(()=>({...d,update:R,refs:k,elements:_,floatingStyles:L}),[d,R,k,_,L])}({...e,elements:{...a,...l&&{reference:l}}}),h=o.useCallback(e=>{const t=Vr(e)?{getBoundingClientRect:()=>e.getBoundingClientRect(),contextElement:e}:e;c(t),f.refs.setReference(t)},[f.refs]),m=o.useCallback(e=>{(Vr(e)||null===e)&&(d.current=e,s(e)),(Vr(f.refs.reference.current)||null===f.refs.reference.current||null!==e&&!Vr(e))&&f.refs.setReference(e)},[f.refs]),g=o.useMemo(()=>({...f.refs,setReference:m,setPositionReference:h,domReference:d}),[f.refs,m,h]),b=o.useMemo(()=>({...f.elements,domReference:u}),[f.elements,u]),v=o.useMemo(()=>({...f,...r,refs:g,elements:b,nodeId:t}),[f,g,b,t,r]);return Zo(()=>{r.dataRef.current.floatingContext=v;const e=null==p?void 0:p.nodesRef.current.find(e=>e.id===t);e&&(e.context=v)}),o.useMemo(()=>({...f,context:v,refs:g,elements:b}),[f,g,b,v])}const Wi="active",Hi="selected";function Gi(e,t,n){const r=new Map,a="item"===n;let o=e;if(a&&e){const{[Wi]:t,[Hi]:n,...r}=e;o=r}return{..."floating"===n&&{tabIndex:-1,[_i]:""},...o,...t.map(t=>{const r=t?t[n]:null;return"function"==typeof r?e?r(e):null:r}).concat(e).reduce((e,t)=>t?(Object.entries(t).forEach(t=>{let[n,o]=t;var i;a&&[Wi,Hi].includes(n)||(0===n.indexOf("on")?(r.has(n)||r.set(n,[]),"function"==typeof o&&(null==(i=r.get(n))||i.push(o),e[n]=function(){for(var e,t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];return null==(e=r.get(n))?void 0:e.map(e=>e(...a)).find(e=>void 0!==e)})):e[n]=o)}),e):e,{})}}let qi=!1;function Qi(e,t,n){switch(e){case"vertical":return t;case"horizontal":return n;default:return t||n}}function Yi(e,t){return Qi(t,e===Fo||e===$o,e===Uo||e===zo)}function Ki(e,t,n){return Qi(t,e===$o,n?e===Uo:e===zo)||"Enter"===e||" "===e||""===e}function Xi(e,t,n){return Qi(t,n?e===zo:e===Uo,e===Fo)}function Zi(e,t){const{open:n,onOpenChange:r,elements:a}=e,{listRef:i,activeIndex:s,onNavigate:l=()=>{},enabled:c=!0,selectedIndex:u=null,allowEscape:d=!1,loop:p=!1,nested:f=!1,rtl:h=!1,virtual:m=!1,focusItemOnOpen:g="auto",focusItemOnHover:b=!0,openOnArrowKeyDown:v=!0,disabledIndices:y,orientation:w="vertical",cols:E=1,scrollItemIntoView:S=!0,virtualItemRef:O,itemSizes:C,dense:A=!1}=t,x=ci(Li(a.floating)),D=ii(),P=si(),I=Vo(l),R=ya(a.domReference),T=o.useRef(g),k=o.useRef(null!=u?u:-1),_=o.useRef(null),L=o.useRef(!0),M=o.useRef(I),B=o.useRef(!!a.floating),j=o.useRef(n),N=o.useRef(!1),V=o.useRef(!1),F=ci(y),$=ci(n),U=ci(S),z=ci(u),[W,H]=o.useState(),[G,q]=o.useState(),Q=Vo(function(e,t,n){function r(e){m?(H(e.id),null==P||P.events.emit("virtualfocus",e),O&&(O.current=e)):di(e,{preventScroll:!0,sync:!(!ca().toLowerCase().startsWith("mac")||navigator.maxTouchPoints||!fa())&&(qi||N.current)})}void 0===n&&(n=!1);const a=e.current[t.current];a&&r(a),requestAnimationFrame(()=>{const o=e.current[t.current]||a;if(!o)return;a||r(o);const i=U.current;i&&K&&(n||!L.current)&&(null==o.scrollIntoView||o.scrollIntoView("boolean"==typeof i?{block:"nearest",inline:"nearest"}:i))})});Zo(()=>{document.createElement("div").focus({get preventScroll(){return qi=!0,!1}})},[]),Zo(()=>{c&&(n&&a.floating?T.current&&null!=u&&(V.current=!0,k.current=u,I(u)):B.current&&(k.current=-1,M.current(null)))},[c,n,a.floating,u,I]),Zo(()=>{if(c&&n&&a.floating)if(null==s){if(N.current=!1,null!=z.current)return;if(B.current&&(k.current=-1,Q(i,k)),(!j.current||!B.current)&&T.current&&(null!=_.current||!0===T.current&&null==_.current)){let e=0;const t=()=>{null==i.current[0]?(e<2&&(e?requestAnimationFrame:queueMicrotask)(t),e++):(k.current=null==_.current||Ki(_.current,w,h)||f?Go(i,F.current):qo(i,F.current),_.current=null,I(k.current))};t()}}else Ho(i,s)||(k.current=s,Q(i,k,V.current),V.current=!1)},[c,n,a.floating,s,z,f,i,w,h,I,Q,F]),Zo(()=>{var e;if(!c||a.floating||!P||m||!B.current)return;const t=P.nodesRef.current,n=null==(e=t.find(e=>e.id===D))||null==(e=e.context)?void 0:e.elements.floating,r=sa(ma(a.floating)),o=t.some(e=>e.context&&la(e.context.elements.floating,r));n&&!o&&L.current&&n.focus({preventScroll:!0})},[c,a.floating,P,D,m]),Zo(()=>{if(c&&P&&m&&!D)return P.events.on("virtualfocus",e),()=>{P.events.off("virtualfocus",e)};function e(e){q(e.id),O&&(O.current=e)}},[c,P,m,D,O]),Zo(()=>{M.current=I,B.current=!!a.floating}),Zo(()=>{n||(_.current=null)},[n]),Zo(()=>{j.current=n},[n]);const Y=null!=s,K=o.useMemo(()=>{function e(e){if(!n)return;const t=i.current.indexOf(e);-1!==t&&I(t)}const t={onFocus(t){let{currentTarget:n}=t;e(n)},onClick:e=>{let{currentTarget:t}=e;return t.focus({preventScroll:!0})},...b&&{onMouseMove(t){let{currentTarget:n}=t;e(n)},onPointerLeave(e){let{pointerType:t}=e;L.current&&"touch"!==t&&(k.current=-1,Q(i,k),I(null),m||di(x.current,{preventScroll:!0}))}}};return t},[n,x,Q,b,i,I,m]),X=Vo(e=>{if(L.current=!1,N.current=!0,229===e.which)return;if(!$.current&&e.currentTarget===x.current)return;if(f&&Xi(e.key,w,h))return va(e),r(!1,e.nativeEvent,"list-navigation"),void(Fr(a.domReference)&&(m?null==P||P.events.emit("virtualfocus",a.domReference):a.domReference.focus()));const t=k.current,o=Go(i,y),s=qo(i,y);if(R||("Home"===e.key&&(va(e),k.current=o,I(k.current)),"End"===e.key&&(va(e),k.current=s,I(k.current))),E>1){const t=C||Array.from({length:i.current.length},()=>({width:1,height:1})),n=function(e,t,n){const r=[];let a=0;return e.forEach((e,o)=>{let{width:i,height:s}=e,l=!1;for(n&&(a=0);!l;){const e=[];for(let n=0;n<i;n++)for(let r=0;r<s;r++)e.push(a+n+r*t);a%t+i<=t&&e.every(e=>null==r[e])?(e.forEach(e=>{r[e]=o}),l=!0):a++}}),[...r]}(t,E,A),r=n.findIndex(e=>null!=e&&!Xo(i.current,e,y)),a=n.reduce((e,t,n)=>null==t||Xo(i.current,t,y)?e:n,-1),l=n[function(e,t){let{event:n,orientation:r,loop:a,rtl:o,cols:i,disabledIndices:s,minIndex:l,maxIndex:c,prevIndex:u,stopEvent:d=!1}=t,p=u;if(n.key===Fo){if(d&&va(n),-1===u)p=c;else if(p=Qo(e,{startingIndex:p,amount:i,decrement:!0,disabledIndices:s}),a&&(u-i<l||p<0)){const e=u%i,t=c%i,n=c-(t-e);p=t===e?c:t>e?n:n-i}Ho(e,p)&&(p=u)}if(n.key===$o&&(d&&va(n),-1===u?p=l:(p=Qo(e,{startingIndex:u,amount:i,disabledIndices:s}),a&&u+i>c&&(p=Qo(e,{startingIndex:u%i-i,amount:i,disabledIndices:s}))),Ho(e,p)&&(p=u)),"both"===r){const t=Oa(u/i);n.key===(o?Uo:zo)&&(d&&va(n),u%i!==i-1?(p=Qo(e,{startingIndex:u,disabledIndices:s}),a&&Wo(p,i,t)&&(p=Qo(e,{startingIndex:u-u%i-1,disabledIndices:s}))):a&&(p=Qo(e,{startingIndex:u-u%i-1,disabledIndices:s})),Wo(p,i,t)&&(p=u)),n.key===(o?zo:Uo)&&(d&&va(n),u%i!==0?(p=Qo(e,{startingIndex:u,decrement:!0,disabledIndices:s}),a&&Wo(p,i,t)&&(p=Qo(e,{startingIndex:u+(i-u%i),decrement:!0,disabledIndices:s}))):a&&(p=Qo(e,{startingIndex:u+(i-u%i),decrement:!0,disabledIndices:s})),Wo(p,i,t)&&(p=u));const r=Oa(c/i)===t;Ho(e,p)&&(p=a&&r?n.key===(o?zo:Uo)?c:Qo(e,{startingIndex:u-u%i-1,disabledIndices:s}):u)}return p}({current:n.map(e=>null!=e?i.current[e]:null)},{event:e,orientation:w,loop:p,rtl:h,cols:E,disabledIndices:Ko([...y||i.current.map((e,t)=>Xo(i.current,t)?t:void 0),void 0],n),minIndex:r,maxIndex:a,prevIndex:Yo(k.current>s?o:k.current,t,n,E,e.key===$o?"bl":e.key===(h?Uo:zo)?"tr":"tl"),stopEvent:!0})];if(null!=l&&(k.current=l,I(k.current)),"both"===w)return}if(Yi(e.key,w)){if(va(e),n&&!m&&sa(e.currentTarget.ownerDocument)===e.currentTarget)return k.current=Ki(e.key,w,h)?o:s,void I(k.current);Ki(e.key,w,h)?k.current=p?t>=s?d&&t!==i.current.length?-1:o:Qo(i,{startingIndex:t,disabledIndices:y}):Math.min(s,Qo(i,{startingIndex:t,disabledIndices:y})):k.current=p?t<=o?d&&-1!==t?i.current.length:s:Qo(i,{startingIndex:t,decrement:!0,disabledIndices:y}):Math.max(o,Qo(i,{startingIndex:t,decrement:!0,disabledIndices:y})),Ho(i,k.current)?I(null):I(k.current)}}),Z=o.useMemo(()=>m&&n&&Y&&{"aria-activedescendant":G||W},[m,n,Y,G,W]),J=o.useMemo(()=>({"aria-orientation":"both"===w?void 0:w,...!ya(a.domReference)&&Z,onKeyDown:X,onPointerMove(){L.current=!0}}),[Z,X,a.domReference,w]),ee=o.useMemo(()=>{function e(e){"auto"===g&&da(e.nativeEvent)&&(T.current=!0)}return{...Z,onKeyDown(e){L.current=!1;const t=e.key.startsWith("Arrow"),a=["Home","End"].includes(e.key),o=t||a,s=function(e,t,n){return Qi(t,n?e===Uo:e===zo,e===$o)}(e.key,w,h),l=Xi(e.key,w,h),c=Yi(e.key,w),d=(f?s:c)||"Enter"===e.key||""===e.key.trim();if(m&&n){const t=null==P?void 0:P.nodesRef.current.find(e=>null==e.parentId),n=P&&t?function(e,t){let n,r=-1;return function t(a,o){o>r&&(n=a,r=o),pi(e,a).forEach(e=>{t(e.id,o+1)})}(t,0),e.find(e=>e.id===n)}(P.nodesRef.current,t.id):null;if(o&&n&&O){const t=new KeyboardEvent("keydown",{key:e.key,bubbles:!0});if(s||l){var p,g;const r=(null==(p=n.context)?void 0:p.elements.domReference)===e.currentTarget,a=l&&!r?null==(g=n.context)?void 0:g.elements.domReference:s?i.current.find(e=>(null==e?void 0:e.id)===W):null;a&&(va(e),a.dispatchEvent(t),q(void 0))}var b;if((c||a)&&n.context&&n.context.open&&n.parentId&&e.currentTarget!==n.context.elements.domReference)return va(e),void(null==(b=n.context.elements.domReference)||b.dispatchEvent(t))}return X(e)}(n||v||!t)&&(d&&(_.current=f&&c?null:e.key),f?s&&(va(e),n?(k.current=Go(i,F.current),I(k.current)):r(!0,e.nativeEvent,"list-navigation")):c&&(null!=u&&(k.current=u),va(e),!n&&v?r(!0,e.nativeEvent,"list-navigation"):X(e),n&&I(k.current)))},onFocus(){n&&!m&&I(null)},onPointerDown:function(e){T.current=g,"auto"===g&&pa(e.nativeEvent)&&(T.current=!0)},onMouseDown:e,onClick:e}},[W,Z,X,F,g,i,f,I,r,n,v,w,h,u,P,m,O]);return o.useMemo(()=>c?{reference:ee,floating:J,item:K}:{},[c,ee,J,K])}const Ji=new Map([["select","listbox"],["combobox","listbox"],["label",!1]]);function es(e,t,n){let r,a=n.initialDeps??[];function o(){var o,i,s,l;let c;n.key&&(null==(o=n.debug)?void 0:o.call(n))&&(c=Date.now());const u=e(),d=u.length!==a.length||u.some((e,t)=>a[t]!==e);if(!d)return r;let p;if(a=u,n.key&&(null==(i=n.debug)?void 0:i.call(n))&&(p=Date.now()),r=t(...u),n.key&&(null==(s=n.debug)?void 0:s.call(n))){const e=Math.round(100*(Date.now()-c))/100,t=Math.round(100*(Date.now()-p))/100,r=t/16,a=(e,t)=>{for(e=String(e);e.length<t;)e=" "+e;return e};console.info(`%c⏱ ${a(t,5)} /${a(e,5)} ms`,`\n            font-size: .6rem;\n            font-weight: bold;\n            color: hsl(${Math.max(0,Math.min(120-120*r,120))}deg 100% 31%);`,null==n?void 0:n.key)}return null==(l=null==n?void 0:n.onChange)||l.call(n,r),r}return o.updateDeps=e=>{a=e},o}function ts(e,t){if(void 0===e)throw new Error("Unexpected undefined"+(t?`: ${t}`:""));return e}const ns=(e,t,n)=>{let r;return function(...a){e.clearTimeout(r),r=e.setTimeout(()=>t.apply(this,a),n)}},rs=e=>{const{offsetWidth:t,offsetHeight:n}=e;return{width:t,height:n}},as=e=>e,os=e=>{const t=Math.max(e.startIndex-e.overscan,0),n=Math.min(e.endIndex+e.overscan,e.count-1),r=[];for(let e=t;e<=n;e++)r.push(e);return r},is=(e,t)=>{const n=e.scrollElement;if(!n)return;const r=e.targetWindow;if(!r)return;const a=e=>{const{width:n,height:r}=e;t({width:Math.round(n),height:Math.round(r)})};if(a(rs(n)),!r.ResizeObserver)return()=>{};const o=new r.ResizeObserver(t=>{const r=()=>{const e=t[0];if(null==e?void 0:e.borderBoxSize){const t=e.borderBoxSize[0];if(t)return void a({width:t.inlineSize,height:t.blockSize})}a(rs(n))};e.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(r):r()});return o.observe(n,{box:"border-box"}),()=>{o.unobserve(n)}},ss={passive:!0},ls="undefined"==typeof window||"onscrollend"in window,cs=(e,t)=>{const n=e.scrollElement;if(!n)return;const r=e.targetWindow;if(!r)return;let a=0;const o=e.options.useScrollendEvent&&ls?()=>{}:ns(r,()=>{t(a,!1)},e.options.isScrollingResetDelay),i=r=>()=>{const{horizontal:i,isRtl:s}=e.options;a=i?n.scrollLeft*(s?-1:1):n.scrollTop,o(),t(a,r)},s=i(!0),l=i(!1);l(),n.addEventListener("scroll",s,ss);const c=e.options.useScrollendEvent&&ls;return c&&n.addEventListener("scrollend",l,ss),()=>{n.removeEventListener("scroll",s),c&&n.removeEventListener("scrollend",l)}},us=(e,t,n)=>{if(null==t?void 0:t.borderBoxSize){const e=t.borderBoxSize[0];if(e)return Math.round(e[n.options.horizontal?"inlineSize":"blockSize"])}return e[n.options.horizontal?"offsetWidth":"offsetHeight"]},ds=(e,{adjustments:t=0,behavior:n},r)=>{var a,o;const i=e+t;null==(o=null==(a=r.scrollElement)?void 0:a.scrollTo)||o.call(a,{[r.options.horizontal?"left":"top"]:i,behavior:n})};class ps{constructor(e){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let e=null;const t=()=>e||(this.targetWindow&&this.targetWindow.ResizeObserver?e=new this.targetWindow.ResizeObserver(e=>{e.forEach(e=>{const t=()=>{this._measureElement(e.target,e)};this.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(t):t()})}):null);return{disconnect:()=>{var n;null==(n=t())||n.disconnect(),e=null},observe:e=>{var n;return null==(n=t())?void 0:n.observe(e,{box:"border-box"})},unobserve:e=>{var n;return null==(n=t())?void 0:n.unobserve(e)}}})(),this.range=null,this.setOptions=e=>{Object.entries(e).forEach(([t,n])=>{void 0===n&&delete e[t]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:as,rangeExtractor:os,onChange:()=>{},measureElement:us,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,useScrollendEvent:!1,useAnimationFrameWithResizeObserver:!1,...e}},this.notify=e=>{var t,n;null==(n=(t=this.options).onChange)||n.call(t,this,e)},this.maybeNotify=es(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),e=>{this.notify(e)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(e=>e()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var e;const t=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==t){if(this.cleanup(),!t)return void this.maybeNotify();this.scrollElement=t,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=(null==(e=this.scrollElement)?void 0:e.window)??null,this.elementsCache.forEach(e=>{this.observer.observe(e)}),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,e=>{this.scrollRect=e,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(e,t)=>{this.scrollAdjustments=0,this.scrollDirection=t?this.getScrollOffset()<e?"forward":"backward":null,this.scrollOffset=e,this.isScrolling=t,this.maybeNotify()}))}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??("function"==typeof this.options.initialOffset?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(e,t)=>{const n=new Map,r=new Map;for(let a=t-1;a>=0;a--){const t=e[a];if(n.has(t.lane))continue;const o=r.get(t.lane);if(null==o||t.end>o.end?r.set(t.lane,t):t.end<o.end&&n.set(t.lane,!0),n.size===this.options.lanes)break}return r.size===this.options.lanes?Array.from(r.values()).sort((e,t)=>e.end===t.end?e.index-t.index:e.end-t.end)[0]:void 0},this.getMeasurementOptions=es(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled],(e,t,n,r,a)=>(this.pendingMeasuredCacheIndexes=[],{count:e,paddingStart:t,scrollMargin:n,getItemKey:r,enabled:a}),{key:!1}),this.getMeasurements=es(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:e,paddingStart:t,scrollMargin:n,getItemKey:r,enabled:a},o)=>{if(!a)return this.measurementsCache=[],this.itemSizeCache.clear(),[];0===this.measurementsCache.length&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(e=>{this.itemSizeCache.set(e.key,e.size)}));const i=this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[];const s=this.measurementsCache.slice(0,i);for(let a=i;a<e;a++){const e=r(a),i=1===this.options.lanes?s[a-1]:this.getFurthestMeasurement(s,a),l=i?i.end+this.options.gap:t+n,c=o.get(e),u="number"==typeof c?c:this.options.estimateSize(a),d=l+u,p=i?i.lane:a%this.options.lanes;s[a]={index:a,start:l,size:u,end:d,key:e,lane:p}}return this.measurementsCache=s,s},{key:!1,debug:()=>this.options.debug}),this.calculateRange=es(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset(),this.options.lanes],(e,t,n,r)=>this.range=e.length>0&&t>0?function({measurements:e,outerSize:t,scrollOffset:n,lanes:r}){const a=e.length-1;if(e.length<=r)return{startIndex:0,endIndex:a};let o=fs(0,a,t=>e[t].start,n),i=o;if(1===r)for(;i<a&&e[i].end<n+t;)i++;else if(r>1){const s=Array(r).fill(0);for(;i<a&&s.some(e=>e<n+t);){const t=e[i];s[t.lane]=t.end,i++}const l=Array(r).fill(n+t);for(;o>=0&&l.some(e=>e>=n);){const t=e[o];l[t.lane]=t.start,o--}o=Math.max(0,o-o%r),i=Math.min(a,i+(r-1-i%r))}return{startIndex:o,endIndex:i}}({measurements:e,outerSize:t,scrollOffset:n,lanes:r}):null,{key:!1,debug:()=>this.options.debug}),this.getVirtualIndexes=es(()=>{let e=null,t=null;const n=this.calculateRange();return n&&(e=n.startIndex,t=n.endIndex),this.maybeNotify.updateDeps([this.isScrolling,e,t]),[this.options.rangeExtractor,this.options.overscan,this.options.count,e,t]},(e,t,n,r,a)=>null===r||null===a?[]:e({startIndex:r,endIndex:a,overscan:t,count:n}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=e=>{const t=this.options.indexAttribute,n=e.getAttribute(t);return n?parseInt(n,10):(console.warn(`Missing attribute name '${t}={index}' on measured element.`),-1)},this._measureElement=(e,t)=>{const n=this.indexFromElement(e),r=this.measurementsCache[n];if(!r)return;const a=r.key,o=this.elementsCache.get(a);o!==e&&(o&&this.observer.unobserve(o),this.observer.observe(e),this.elementsCache.set(a,e)),e.isConnected&&this.resizeItem(n,this.options.measureElement(e,t,this))},this.resizeItem=(e,t)=>{const n=this.measurementsCache[e];if(!n)return;const r=t-(this.itemSizeCache.get(n.key)??n.size);0!==r&&((void 0!==this.shouldAdjustScrollPositionOnItemSizeChange?this.shouldAdjustScrollPositionOnItemSizeChange(n,r,this):n.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=r,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(n.index),this.itemSizeCache=new Map(this.itemSizeCache.set(n.key,t)),this.notify(!1))},this.measureElement=e=>{e?this._measureElement(e,void 0):this.elementsCache.forEach((e,t)=>{e.isConnected||(this.observer.unobserve(e),this.elementsCache.delete(t))})},this.getVirtualItems=es(()=>[this.getVirtualIndexes(),this.getMeasurements()],(e,t)=>{const n=[];for(let r=0,a=e.length;r<a;r++){const a=t[e[r]];n.push(a)}return n},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=e=>{const t=this.getMeasurements();if(0!==t.length)return ts(t[fs(0,t.length-1,e=>ts(t[e]).start,e)])},this.getOffsetForAlignment=(e,t,n=0)=>{const r=this.getSize(),a=this.getScrollOffset();"auto"===t&&(t=e>=a+r?"end":"start"),"center"===t?e+=(n-r)/2:"end"===t&&(e-=r);const o=this.getTotalSize()+this.options.scrollMargin-r;return Math.max(Math.min(o,e),0)},this.getOffsetForIndex=(e,t="auto")=>{e=Math.max(0,Math.min(e,this.options.count-1));const n=this.measurementsCache[e];if(!n)return;const r=this.getSize(),a=this.getScrollOffset();if("auto"===t)if(n.end>=a+r-this.options.scrollPaddingEnd)t="end";else{if(!(n.start<=a+this.options.scrollPaddingStart))return[a,t];t="start"}const o="end"===t?n.end+this.options.scrollPaddingEnd:n.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(o,t,n.size),t]},this.isDynamicMode=()=>this.elementsCache.size>0,this.scrollToOffset=(e,{align:t="start",behavior:n}={})=>{"smooth"===n&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(e,t),{adjustments:void 0,behavior:n})},this.scrollToIndex=(e,{align:t="auto",behavior:n}={})=>{"smooth"===n&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),e=Math.max(0,Math.min(e,this.options.count-1));let r=0;const a=t=>{if(!this.targetWindow)return;const r=this.getOffsetForIndex(e,t);if(!r)return void console.warn("Failed to get offset for index:",e);const[a,i]=r;this._scrollToOffset(a,{adjustments:void 0,behavior:n}),this.targetWindow.requestAnimationFrame(()=>{const t=this.getScrollOffset(),n=this.getOffsetForIndex(e,i);var r,a;n?(r=n[0],a=t,Math.abs(r-a)<1.01||o(i)):console.warn("Failed to get offset for index:",e)})},o=t=>{this.targetWindow&&(r++,r<10?this.targetWindow.requestAnimationFrame(()=>a(t)):console.warn(`Failed to scroll to index ${e} after 10 attempts.`))};a(t)},this.scrollBy=(e,{behavior:t}={})=>{"smooth"===t&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+e,{adjustments:void 0,behavior:t})},this.getTotalSize=()=>{var e;const t=this.getMeasurements();let n;if(0===t.length)n=this.options.paddingStart;else if(1===this.options.lanes)n=(null==(e=t[t.length-1])?void 0:e.end)??0;else{const e=Array(this.options.lanes).fill(null);let r=t.length-1;for(;r>=0&&e.some(e=>null===e);){const n=t[r];null===e[n.lane]&&(e[n.lane]=n.end),r--}n=Math.max(...e.filter(e=>null!==e))}return Math.max(n-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(e,{adjustments:t,behavior:n})=>{this.options.scrollToFn(e,{behavior:n,adjustments:t},this)},this.measure=()=>{this.itemSizeCache=new Map,this.notify(!1)},this.setOptions(e)}}const fs=(e,t,n,r)=>{for(;e<=t;){const a=(e+t)/2|0,o=n(a);if(o<r)e=a+1;else{if(!(o>r))return a;t=a-1}}return e>0?e-1:0},hs="undefined"!=typeof document?o.useLayoutEffect:o.useEffect;var ms=Object.defineProperty,gs=Object.getOwnPropertySymbols,bs=Object.prototype.hasOwnProperty,vs=Object.prototype.propertyIsEnumerable,ys=(e,t,n)=>t in e?ms(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const ws=(0,o.forwardRef)(function(e,t){var n=e,{children:r,active:a,addGroupBottomBorder:i,isMultiValueEdit:l,checked:c}=n,u=((e,t)=>{var n={};for(var r in e)bs.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&gs)for(var r of gs(e))t.indexOf(r)<0&&vs.call(e,r)&&(n[r]=e[r]);return n})(n,["children","active","addGroupBottomBorder","isMultiValueEdit","checked"]);const d=(0,Pn.useStyles2)(Es),p=(0,o.useId)();return s().createElement("div",((e,t)=>{for(var n in t||(t={}))bs.call(t,n)&&ys(e,n,t[n]);if(gs)for(var n of gs(t))vs.call(t,n)&&ys(e,n,t[n]);return e})({ref:t,role:"option",id:p,"aria-selected":a,className:(0,Nn.cx)(d.option,a&&d.optionFocused,i&&d.groupBottomBorder)},u),s().createElement("div",{className:d.optionBody,"data-testid":`data-testid ad hoc filter option value ${r}`},s().createElement("span",null,l?s().createElement(Pn.Checkbox,{tabIndex:-1,checked:c,className:d.checkbox}):null,r)))}),Es=e=>({option:(0,Nn.css)({label:"grafana-select-option",top:0,left:0,width:"100%",position:"absolute",padding:e.spacing(1),display:"flex",alignItems:"center",flexDirection:"row",flexShrink:0,whiteSpace:"nowrap",cursor:"pointer","&:hover":{background:e.colors.action.hover,"@media (forced-colors: active), (prefers-contrast: more)":{border:`1px solid ${e.colors.primary.border}`}}}),optionFocused:(0,Nn.css)({label:"grafana-select-option-focused",background:e.colors.action.focus,"@media (forced-colors: active), (prefers-contrast: more)":{border:`1px solid ${e.colors.primary.border}`}}),optionBody:(0,Nn.css)({label:"grafana-select-option-body",display:"flex",fontWeight:e.typography.fontWeightMedium,flexDirection:"column",flexGrow:1}),groupBottomBorder:(0,Nn.css)({borderBottom:`1px solid ${e.colors.border.weak}`}),checkbox:(0,Nn.css)({paddingRight:e.spacing(.5)}),multiValueApplyWrapper:(0,Nn.css)({position:"fixed",top:0,left:0,display:"flex",backgroundColor:e.colors.background.primary,color:e.colors.text.primary,boxShadow:e.shadows.z2,overflowY:"auto",zIndex:e.zIndex.dropdown,gap:e.spacing(1.5),padding:`${e.spacing(1.5)} ${e.spacing(1)}`})}),Ss=()=>s().createElement(ws,{onClick:e=>e.stopPropagation()},"Loading options..."),Os=()=>s().createElement(ws,{onClick:e=>e.stopPropagation()},"No options found"),Cs=({handleFetchOptions:e})=>s().createElement(ws,{onClick:e},"An error has occurred fetching labels. Click to retry"),As=({onApply:e,floatingElement:t,maxOptionWidth:n,menuHeight:r})=>{const a=(0,Pn.useStyles2)(Es),o=null==t?void 0:t.getBoundingClientRect();return s().createElement("div",{className:a.multiValueApplyWrapper,style:{width:`${n}px`,transform:`translate(${null==o?void 0:o.left}px,${o?o.top+r:0}px)`}},s().createElement(Pn.Button,{onClick:e,size:"sm",tabIndex:-1},"Apply"))},xs=/[^ -~]/m,Ds={key:"operator",operator:"value",value:"key"},Ps=(e,t,n,r,a)=>Is(Ds[e],t,"value"===e?n:void 0,r,a),Is=(e,t,n,r,a)=>{t(e),null==n||n(void 0,a),setTimeout(()=>null==r?void 0:r.focus())},Rs=({filterInputType:e,item:t,filter:n,setFilterMultiValues:r,onAddCustomValue:a})=>{var o,i,s,l,c;if("key"===e)return{key:t.value,keyLabel:t.label?t.label:t.value,meta:null==t?void 0:t.meta};if("value"===e)return t.isCustom&&a?a(t,n):{value:t.value,valueLabels:[t.label?t.label:t.value]};if("operator"===e){if(Pl(n.operator)&&!Pl(t.value))return r([]),{operator:t.value,valueLabels:[(null==(o=n.valueLabels)?void 0:o[0])||(null==(i=n.values)?void 0:i[0])||n.value],values:void 0};if(Pl(t.value)&&!Pl(n.operator)){const e=[(null==(s=n.valueLabels)?void 0:s[0])||(null==(l=n.values)?void 0:l[0])||n.value],a=[n.value];return a[0]&&r([{value:a[0],label:null!=(c=null==e?void 0:e[0])?c:a[0]}]),{operator:t.value,valueLabels:e,values:a}}}return{[e]:t.value}},Ts="Filter by label values",ks=(e,t,n,r)=>{var a;return"key"===t?Ts:"value"===t?n?"Edit values":(null==(a=e.valueLabels)?void 0:a[0])||"":e[t]&&!r?`${e[t]}`:Ts},_s=({populateInputOnEdit:e,item:t,filterInputType:n,setInputValue:r,filter:a})=>{var o,i,s;e&&!Pl(t.value||"")&&"value"===Ds[n]?r(null!=(s=null!=(i=null==(o=null==a?void 0:a.valueLabels)?void 0:o[0])?i:null==a?void 0:a.value)?s:""):r("")};var Ls=Object.defineProperty,Ms=Object.defineProperties,Bs=Object.getOwnPropertyDescriptors,js=Object.getOwnPropertySymbols,Ns=Object.prototype.hasOwnProperty,Vs=Object.prototype.propertyIsEnumerable,Fs=(e,t,n)=>t in e?Ls(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,$s=(e,t)=>{for(var n in t||(t={}))Ns.call(t,n)&&Fs(e,n,t[n]);if(js)for(var n of js(t))Vs.call(t,n)&&Fs(e,n,t[n]);return e};const Us=({item:e,handleRemoveMultiValue:t,index:n,handleEditMultiValuePill:r})=>{var a,i;const l=(0,Pn.useStyles2)(zs),c=(0,o.useCallback)(t=>{t.stopPropagation(),t.preventDefault(),r(e)},[r,e]),u=(0,o.useCallback)(e=>{"Enter"===e.key&&c(e)},[c]),d=(0,o.useCallback)(n=>{n.stopPropagation(),n.preventDefault(),t(e)},[t,e]),p=(0,o.useCallback)(e=>{"Enter"===e.key&&d(e)},[d]);return s().createElement("div",{className:(0,Nn.cx)(l.basePill,l.valuePill),onClick:c,onKeyDown:u,tabIndex:0,id:`${e.value}-${n}`},null!=(a=e.label)?a:e.value,s().createElement(Pn.Button,{onClick:d,onKeyDownCapture:p,fill:"text",size:"sm",variant:"secondary",className:l.removeButton,tooltip:`Remove filter value - ${null!=(i=e.label)?i:e.value}`},s().createElement(Pn.Icon,{name:"times",size:"md",id:`${e.value}-${n}-close-icon`})))},zs=e=>{return{basePill:(0,Nn.css)((t=$s({display:"flex",alignItems:"center",background:e.colors.action.disabledBackground,border:`1px solid ${e.colors.border.weak}`,padding:e.spacing(.125,1,.125,1),color:e.colors.text.primary,overflow:"hidden",whiteSpace:"nowrap",minHeight:e.spacing(2.75)},e.typography.bodySmall),n={cursor:"pointer"},Ms(t,Bs(n)))),valuePill:(0,Nn.css)({background:e.colors.action.selected,padding:e.spacing(.125,0,.125,1)}),removeButton:(0,Nn.css)({marginInline:e.spacing(.5),height:"100%",padding:0,cursor:"pointer","&:hover":{color:e.colors.text.primary}})};var t,n};var Ws=Object.defineProperty,Hs=Object.defineProperties,Gs=Object.getOwnPropertyDescriptors,qs=Object.getOwnPropertySymbols,Qs=Object.prototype.hasOwnProperty,Ys=Object.prototype.propertyIsEnumerable,Ks=(e,t,n)=>t in e?Ws(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Xs=(e,t)=>{for(var n in t||(t={}))Qs.call(t,n)&&Ks(e,n,t[n]);if(qs)for(var n of qs(t))Ys.call(t,n)&&Ks(e,n,t[n]);return e},Zs=(e,t)=>Hs(e,Gs(t));const Js=(0,o.forwardRef)(function({filter:e,model:t,isAlwaysWip:n,handleChangeViewMode:r,focusOnWipInputRef:a,populateInputOnEdit:i},l){var c,u,d,p;const[f,h]=(0,o.useState)(!1),[m,g]=(0,o.useState)([]),[b,v]=(0,o.useState)(!1),[y,w]=(0,o.useState)(!1),[E,S]=(0,o.useState)(""),[O,C]=(0,o.useState)(null),[A,x]=(0,o.useState)(n?"key":"value"),[D,P]=(0,o.useState)(!n&&"value"===A),I=(0,Pn.useStyles2)(el),[R,T]=(0,o.useState)([]),[k,_]=(0,o.useState)({}),L=null==(c=t.state.allowCustomValue)||c,M=(0,o.useRef)(null),B=Pl((null==e?void 0:e.operator)||""),j=B&&"value"===A,N=(0,o.useId)(),V=(0,o.useRef)([]),F=(0,o.useRef)([]),$=(0,o.useRef)(n?"key":"value"),U=(0,o.useMemo)(()=>function(e){const t=yc(e.map(e=>{var t;return null!=(t=e.label)?t:e.value}));return(n,r)=>xs.test(n)?e.filter(e=>{var t,r;return(null==(t=e.label)?void 0:t.includes(n))||(null==(r=e.value)?void 0:r.includes(n))||!1}):("operator"===r&&""!==n&&(n=`"${n}"`),t(n).map(t=>e[t]))}(m),[m]),z=(0,o.useMemo)(()=>!n&&t.state.filters.at(-1)===e,[e,n,t.state.filters]),W=(0,o.useCallback)(()=>{n&&(t._addWip(),x("key"),S(""))},[t,n]),H=(0,o.useCallback)((e,t,n,r)=>{if(n.length){const r=[],a=[];n.forEach(e=>{var t;r.push(null!=(t=e.label)?t:e.value),a.push(e.value)}),e._updateFilter(t,{valueLabels:r,values:a,value:a[0]}),T([])}r||setTimeout(()=>{var e;return null==(e=Y.domReference.current)?void 0:e.focus()})},[]),G=(0,o.useCallback)(e=>{T(t=>t.some(t=>t.value===e.value)?t.filter(t=>t.value!==e.value):[...t,e])},[]),q=(0,o.useCallback)((n,a,o)=>{h(n),o&&["outside-press","escape-key"].includes(o)&&(j&&H(t,e,R),W(),null==r||r())},[e,R,r,H,W,j,t]),Q=(0,o.useMemo)(()=>[N,...R.reduce((e,t,n)=>[...e,`${t.value}-${n}`,`${t.value}-${n}-close-icon`],[])],[N,R]),{refs:Y,floatingStyles:K,context:X,getReferenceProps:Z,getFloatingProps:J,getItemProps:ee}=(({open:e,onOpenChange:t,activeIndex:n,setActiveIndex:r,outsidePressIdsToIgnore:a,listRef:i,disabledIndicesRef:s})=>{const{refs:l,floatingStyles:c,context:u}=zi({whileElementsMounted:Ao,open:e,onOpenChange:t,placement:"bottom-start",middleware:[{...xo(10),options:[10,void 0]},Mo({padding:10}),Bo({apply({availableHeight:e,availableWidth:t,elements:n}){n.floating.style.maxHeight=`${Math.min(300,e)}px`,n.floating.style.maxWidth=`${t}px`},padding:10})],strategy:"fixed"}),d=function(e,t){var n;void 0===t&&(t={});const{open:r,floatingId:a}=e,{enabled:i=!0,role:s="dialog"}=t,l=null!=(n=Ji.get(s))?n:s,c=ri(),u=null!=ii(),d=o.useMemo(()=>"tooltip"===l||"label"===s?{["aria-"+("label"===s?"labelledby":"describedby")]:r?a:void 0}:{"aria-expanded":r?"true":"false","aria-haspopup":"alertdialog"===l?"dialog":l,"aria-controls":r?a:void 0,..."listbox"===l&&{role:"combobox"},..."menu"===l&&{id:c},..."menu"===l&&u&&{role:"menuitem"},..."select"===s&&{"aria-autocomplete":"none"},..."combobox"===s&&{"aria-autocomplete":"list"}},[l,a,u,r,c,s]),p=o.useMemo(()=>{const e={id:a,...l&&{role:l}};return"tooltip"===l||"label"===s?e:{...e,..."menu"===l&&{"aria-labelledby":c}}},[l,a,c,s]),f=o.useCallback(e=>{let{active:t,selected:n}=e;const r={role:"option",...t&&{id:a+"-option"}};switch(s){case"select":return{...r,"aria-selected":t&&n};case"combobox":return{...r,...t&&{"aria-selected":!0}}}return{}},[a,s]);return o.useMemo(()=>i?{reference:d,floating:p,item:f}:{},[i,d,p,f])}(u,{role:"listbox"}),p=function(e,t){void 0===t&&(t={});const{open:n,onOpenChange:r,elements:a,dataRef:i}=e,{enabled:s=!0,escapeKey:l=!0,outsidePress:c=!0,outsidePressEvent:u="pointerdown",referencePress:d=!1,referencePressEvent:p="pointerdown",ancestorScroll:f=!1,bubbles:h,capture:m}=t,g=si(),b=Vo("function"==typeof c?c:()=>!1),v="function"==typeof c?b:c,y=o.useRef(!1),w=o.useRef(!1),{escapeKey:E,outsidePress:S}=Ui(h),{escapeKey:O,outsidePress:C}=Ui(m),A=o.useRef(!1),x=Vo(e=>{var t;if(!n||!s||!l||"Escape"!==e.key)return;if(A.current)return;const a=null==(t=i.current.floatingContext)?void 0:t.nodeId,o=g?pi(g.nodesRef.current,a):[];if(!E&&(e.stopPropagation(),o.length>0)){let e=!0;if(o.forEach(t=>{var n;null==(n=t.context)||!n.open||t.context.dataRef.current.__escapeKeyBubbles||(e=!1)}),!e)return}r(!1,function(e){return"nativeEvent"in e}(e)?e.nativeEvent:e,"escape-key")}),D=Vo(e=>{var t;const n=()=>{var t;x(e),null==(t=ba(e))||t.removeEventListener("keydown",n)};null==(t=ba(e))||t.addEventListener("keydown",n)}),P=Vo(e=>{var t;const n=y.current;y.current=!1;const o=w.current;if(w.current=!1,"click"===u&&o)return;if(n)return;if("function"==typeof v&&!v(e))return;const s=ba(e),l="["+li("inert")+"]",c=ma(a.floating).querySelectorAll(l);let d=Vr(s)?s:null;for(;d&&!ea(d);){const e=ra(d);if(ea(e)||!Vr(e))break;d=e}if(c.length&&Vr(s)&&!s.matches("html,body")&&!la(s,a.floating)&&Array.from(c).every(e=>!la(d,e)))return;if(Fr(s)&&T){const t=s.clientWidth>0&&s.scrollWidth>s.clientWidth,n=s.clientHeight>0&&s.scrollHeight>s.clientHeight;let r=n&&e.offsetX>s.clientWidth;if(n&&"rtl"===ta(s).direction&&(r=e.offsetX<=s.offsetWidth-s.clientWidth),r||t&&e.offsetY>s.clientHeight)return}const p=null==(t=i.current.floatingContext)?void 0:t.nodeId,f=g&&pi(g.nodesRef.current,p).some(t=>{var n;return ga(e,null==(n=t.context)?void 0:n.elements.floating)});if(ga(e,a.floating)||ga(e,a.domReference)||f)return;const h=g?pi(g.nodesRef.current,p):[];if(h.length>0){let e=!0;if(h.forEach(t=>{var n;null==(n=t.context)||!n.open||t.context.dataRef.current.__outsidePressBubbles||(e=!1)}),!e)return}r(!1,e,"outside-press")}),I=Vo(e=>{var t;const n=()=>{var t;P(e),null==(t=ba(e))||t.removeEventListener(u,n)};null==(t=ba(e))||t.addEventListener(u,n)});o.useEffect(()=>{if(!n||!s)return;i.current.__escapeKeyBubbles=E,i.current.__outsidePressBubbles=S;let e=-1;function t(e){r(!1,e,"ancestor-scroll")}function o(){window.clearTimeout(e),A.current=!0}function c(){e=window.setTimeout(()=>{A.current=!1},Zr()?5:0)}const d=ma(a.floating);l&&(d.addEventListener("keydown",O?D:x,O),d.addEventListener("compositionstart",o),d.addEventListener("compositionend",c)),v&&d.addEventListener(u,C?I:P,C);let p=[];return f&&(Vr(a.domReference)&&(p=oa(a.domReference)),Vr(a.floating)&&(p=p.concat(oa(a.floating))),!Vr(a.reference)&&a.reference&&a.reference.contextElement&&(p=p.concat(oa(a.reference.contextElement)))),p=p.filter(e=>{var t;return e!==(null==(t=d.defaultView)?void 0:t.visualViewport)}),p.forEach(e=>{e.addEventListener("scroll",t,{passive:!0})}),()=>{l&&(d.removeEventListener("keydown",O?D:x,O),d.removeEventListener("compositionstart",o),d.removeEventListener("compositionend",c)),v&&d.removeEventListener(u,C?I:P,C),p.forEach(e=>{e.removeEventListener("scroll",t)}),window.clearTimeout(e)}},[i,a,l,v,u,n,r,f,s,E,S,x,O,D,P,C,I]),o.useEffect(()=>{y.current=!1},[v,u]);const R=o.useMemo(()=>({onKeyDown:x,[Fi[p]]:e=>{d&&r(!1,e.nativeEvent,"reference-press")}}),[x,r,d,p]),T=o.useMemo(()=>({onKeyDown:x,onMouseDown(){w.current=!0},onMouseUp(){w.current=!0},[$i[u]]:()=>{y.current=!0}}),[x,u]);return o.useMemo(()=>s?{reference:R,floating:T}:{},[s,R,T])}(u,{outsidePress:e=>{var t;if(e.currentTarget instanceof Element){const n=e.currentTarget;let r=n.id;if("path"===n.nodeName&&(r=(null==(t=n.parentElement)?void 0:t.id)||""),a.includes(r))return!1}return!0}}),f=Zi(u,{listRef:i,activeIndex:n,onNavigate:r,virtual:!0,loop:!0,disabledIndices:s.current}),{getReferenceProps:h,getFloatingProps:m,getItemProps:g}=function(e){void 0===e&&(e=[]);const t=e.map(e=>null==e?void 0:e.reference),n=e.map(e=>null==e?void 0:e.floating),r=e.map(e=>null==e?void 0:e.item),a=o.useCallback(t=>Gi(t,e,"reference"),t),i=o.useCallback(t=>Gi(t,e,"floating"),n),s=o.useCallback(t=>Gi(t,e,"item"),r);return o.useMemo(()=>({getReferenceProps:a,getFloatingProps:i,getItemProps:s}),[a,i,s])}([d,p,f]);return{refs:l,floatingStyles:c,context:u,getReferenceProps:h,getFloatingProps:m,getItemProps:g}})({open:f,onOpenChange:q,activeIndex:O,setActiveIndex:C,outsidePressIdsToIgnore:Q,listRef:V,disabledIndicesRef:F});(0,o.useImperativeHandle)(l,()=>()=>{var e;return null==(e=Y.domReference.current)?void 0:e.focus()},[Y.domReference]);const te=(0,o.useCallback)(e=>{T(t=>t.filter(t=>t.value!==e.value)),setTimeout(()=>{var e;return null==(e=Y.domReference.current)?void 0:e.focus()})},[Y.domReference]),ne=(e=>e.flatMap(e=>e.options?[e,...e.options]:[e]))(vc(U(D?"":E,A)));L&&"operator"!==A&&E&&ne.push({value:E.trim(),label:E.trim(),isCustom:!0});const re=t.state.onAddCustomValue,ae=((e,t,n)=>{var r,a,o,i;let s=182;const l=[],c=[];for(let t=0;t<e.length;t++){l.push(null),(null==(r=e[t])?void 0:r.options)&&c.push(t);let n=null!=(o=null!=(a=e[t].label)?a:e[t].value)?o:"",u=8;8*n.length<6*((null==(i=e[t].description)?void 0:i.length)||0)&&(n=e[t].description,u=6);const d=(e[t].isCustom?n.length+18:n.length)*u+16;d>s&&(s=d)}return t.current=[...l],n.current=[...c],s})(ne,V,F),oe=(0,o.useCallback)(async n=>{var r;w(!1),v(!0),g([]);let a=[];try{if("key"===n?a=await t._getKeys(null):"operator"===n?a=t._getOperators():"value"===n&&(a=await t._getValuesFor(e)),$.current!==n)return;g(a),(null==(r=a[0])?void 0:r.group)?C(1):C(0)}catch(e){w(!0)}v(!1)},[e,t]),ie=function(e){return function(e){const t=o.useReducer(()=>({}),{})[1],n={...e,onChange:(n,r)=>{var a;r?(0,ro.flushSync)(t):t(),null==(a=e.onChange)||a.call(e,n,r)}},[r]=o.useState(()=>new ps(n));return r.setOptions(n),hs(()=>r._didMount(),[]),hs(()=>r._willUpdate()),r}({observeElementRect:is,observeElementOffset:cs,scrollToFn:ds,...e})}({count:ne.length,getScrollElement:()=>Y.floating.current,estimateSize:e=>ne[e].description?60:38,overscan:5}),se=(0,o.useCallback)((r,o)=>{if("Backspace"===r.key&&!E){if("value"===A)return o&&R.length?void T(e=>{const t=[...e];return t.splice(-1,1),t}):void x("operator");null==a||a(),t._handleComboboxBackspace(e),n&&W()}},[E,A,t,e,n,R.length,W,a]),le=(0,o.useCallback)((n,a)=>{var o;"Tab"!==n.key||n.shiftKey||(a&&(n.preventDefault(),H(t,e,R),null==(o=Y.domReference.current)||o.focus()),null==r||r(),W())},[e,R,r,H,W,t,Y.domReference]),ce=(0,o.useCallback)((n,a)=>{"Tab"===n.key&&n.shiftKey&&(a&&(n.preventDefault(),H(t,e,R,!0)),null==r||r(),W())},[e,R,r,H,W,t]),ue=(0,o.useCallback)((n,o)=>{if("Enter"===n.key&&null!=O){if(!ne[O])return;const n=ne[O];o?(G(n),S("")):(t._updateFilter(e,Rs({filterInputType:A,item:n,filter:e,setFilterMultiValues:T,onAddCustomValue:re})),_s({populateInputOnEdit:i,item:n,filterInputType:A,setInputValue:S,filter:e}),Ps(A,x,r,Y.domReference.current,!z&&void 0),C(null),z&&(null==a||a()))}},[O,ne,G,t,e,A,i,r,Y.domReference,z,a,re]),de=(0,o.useCallback)(e=>{var t;const n=e.label||e.value;T(t=>t.filter(t=>t.value!==e.value)),P(!0),S(n),null==(t=Y.domReference.current)||t.focus(),setTimeout(()=>{var e;null==(e=Y.domReference.current)||e.select()})},[Y.domReference]);(0,o.useEffect)(()=>{f&&oe(A)},[f,A]),(0,o.useEffect)(()=>{var t,r,a,o;if(!n){if(B&&(null==(t=null==e?void 0:e.values)?void 0:t.length)){const t=e.values.reduce((t,n,r)=>{var a;return[...t,{label:(null==(a=e.valueLabels)?void 0:a[r])||n,value:n}]},[]);T(t)}!B&&i&&(S(null!=(a=null==(r=null==e?void 0:e.valueLabels)?void 0:r[0])?a:(null==e?void 0:e.value)||""),setTimeout(()=>{var e;null==(e=Y.domReference.current)||e.select()})),null==(o=Y.domReference.current)||o.focus()}},[]),(0,o.useEffect)(()=>{j&&R&&setTimeout(()=>_({}))},[R,j]),(0,o.useLayoutEffect)(()=>{$.current&&($.current=A)},[A]),(0,o.useLayoutEffect)(()=>{var e,t;null!==O&&ie.range&&(O>(null==(e=ie.range)?void 0:e.endIndex)||O<(null==(t=ie.range)?void 0:t.startIndex))&&ie.scrollToIndex(O)},[O,ie]);const pe=null!=(u=null==e?void 0:e.keyLabel)?u:null==e?void 0:e.key;return s().createElement("div",{className:I.comboboxWrapper},e?s().createElement("div",{className:I.pillWrapper},(null==e?void 0:e.key)?s().createElement("div",{className:(0,Nn.cx)(I.basePill,I.keyPill)},pe):null,(null==e?void 0:e.key)&&(null==e?void 0:e.operator)&&"operator"!==A?s().createElement("div",{id:N,className:(0,Nn.cx)(I.basePill,I.operatorPill,N),role:"button","aria-label":"Edit filter operator",tabIndex:0,onClick:e=>{e.stopPropagation(),S(""),Is("operator",x,void 0,Y.domReference.current)},onKeyDown:e=>{ce(e,B),"Enter"===e.key&&(S(""),Is("operator",x,void 0,Y.domReference.current))}},e.operator):null,s().createElement("div",{ref:M}),j?R.map((e,t)=>s().createElement(Us,{key:`${e.value}-${t}`,item:e,index:t,handleRemoveMultiValue:te,handleEditMultiValuePill:de})):null):null,s().createElement("input",Zs(Xs({},Z({ref:Y.setReference,onChange:function(e){const t=e.target.value;S(t),C(0),D&&P(!1)},value:E,placeholder:ks(e,A,j,n),"aria-autocomplete":"list",onKeyDown(e){f?("operator"===A&&ce(e),se(e,j),le(e,j),ue(e,j)):h(!0)}})),{className:(0,Nn.cx)(I.inputStyle,{[I.loadingInputPadding]:!b}),onClick:e=>{e.stopPropagation(),h(!0)},onFocus:()=>{h(!0)}})),b?s().createElement(Pn.Spinner,{className:I.loadingIndicator,inline:!0}):null,s().createElement(Ti,null,f&&s().createElement(Vi,{context:X,initialFocus:-1,visuallyHiddenDismiss:!0,modal:!1},s().createElement(s().Fragment,null,s().createElement("div",{style:Zs(Xs({},K),{width:`${y?366:ae}px`,transform:j?`translate(${(null==(d=M.current)?void 0:d.getBoundingClientRect().left)||0}px, ${((null==(p=Y.domReference.current)?void 0:p.getBoundingClientRect().bottom)||0)+10}px )`:K.transform}),ref:Y.setFloating,className:I.dropdownWrapper,tabIndex:-1},s().createElement("div",Zs(Xs({style:{height:`${ie.getTotalSize()||38}px`}},J()),{tabIndex:-1}),b?s().createElement(Ss,null):y?s().createElement(Cs,{handleFetchOptions:()=>oe(A)}):ne.length||L&&"operator"!==A&&E?ie.getVirtualItems().map(n=>{var a;const o=ne[n.index],l=n.index;if(o.options)return s().createElement("div",{key:`${o.label}+${l}`,className:(0,Nn.cx)(I.optionGroupLabel,I.groupTopBorder),style:{height:`${n.size}px`,transform:`translateY(${n.start}px)`}},s().createElement(Pn.Text,{weight:"bold",variant:"bodySmall",color:"secondary"},o.label));const c=ne[n.index+1],u=c&&!c.group&&!c.options&&o.group;return s().createElement(ws,Zs(Xs({},ee({key:`${o.value}-${l}`,ref(e){V.current[l]=e},onClick(n){var a;"value"!==A&&n.stopPropagation(),j?(n.preventDefault(),n.stopPropagation(),G(o),S(""),null==(a=Y.domReference.current)||a.focus()):(t._updateFilter(e,Rs({filterInputType:A,item:o,filter:e,setFilterMultiValues:T,onAddCustomValue:re})),_s({populateInputOnEdit:i,item:o,filterInputType:A,setInputValue:S,filter:e}),Ps(A,x,r,Y.domReference.current,!1))}})),{active:O===l,addGroupBottomBorder:u,style:{height:`${n.size}px`,transform:`translateY(${n.start}px)`},"aria-setsize":ne.length,"aria-posinset":n.index+1,isMultiValueEdit:j,checked:R.some(e=>e.value===o.value)}),s().createElement("span",null,o.isCustom?"Use custom value: ":""," ",null!=(a=o.label)?a:o.value),o.description?s().createElement("div",{className:I.descriptionText},o.description):null)}):s().createElement(Os,null))),j&&!b&&!y&&ne.length?s().createElement(As,{onApply:()=>{H(t,e,R)},floatingElement:Y.floating.current,maxOptionWidth:ae,menuHeight:Math.min(ie.getTotalSize(),300)}):null))))}),el=e=>({comboboxWrapper:(0,Nn.css)({display:"flex",flexWrap:"wrap"}),pillWrapper:(0,Nn.css)({display:"flex",alignItems:"center",flexWrap:"wrap"}),basePill:(0,Nn.css)(Zs(Xs({display:"flex",alignItems:"center",background:e.colors.action.disabledBackground,border:`1px solid ${e.colors.border.weak}`,padding:e.spacing(.125,1,.125,1),color:e.colors.text.primary,overflow:"hidden",whiteSpace:"nowrap",minHeight:e.spacing(2.75)},e.typography.bodySmall),{cursor:"pointer"})),keyPill:(0,Nn.css)({fontWeight:e.typography.fontWeightBold,cursor:"default"}),operatorPill:(0,Nn.css)({"&:hover":{background:e.colors.action.hover}}),dropdownWrapper:(0,Nn.css)({backgroundColor:e.colors.background.primary,color:e.colors.text.primary,boxShadow:e.shadows.z2,overflowY:"auto",zIndex:e.zIndex.dropdown}),inputStyle:(0,Nn.css)({paddingBlock:0,"&:focus":{outline:"none"}}),loadingIndicator:(0,Nn.css)({color:e.colors.text.secondary,marginLeft:e.spacing(.5)}),loadingInputPadding:(0,Nn.css)({paddingRight:e.spacing(2.5)}),optionGroupLabel:(0,Nn.css)({padding:e.spacing(1),position:"absolute",top:0,left:0,width:"100%"}),groupTopBorder:(0,Nn.css)({"&:not(:first-child)":{borderTop:`1px solid ${e.colors.border.weak}`}}),descriptionText:(0,Nn.css)(Zs(Xs({},e.typography.bodySmall),{color:e.colors.text.secondary,paddingTop:e.spacing(.5)}))});var tl=Object.defineProperty,nl=Object.defineProperties,rl=Object.getOwnPropertyDescriptors,al=Object.getOwnPropertySymbols,ol=Object.prototype.hasOwnProperty,il=Object.prototype.propertyIsEnumerable,sl=(e,t,n)=>t in e?tl(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ll=(e,t)=>{for(var n in t||(t={}))ol.call(t,n)&&sl(e,n,t[n]);if(al)for(var n of al(t))il.call(t,n)&&sl(e,n,t[n]);return e};function cl({filter:e,model:t,readOnly:n,focusOnWipInputRef:r}){var a,i,l;const c=(0,Pn.useStyles2)(ul),[u,d]=(0,o.useState)(!0),[p,f]=(0,o.useState)(!1),h=(0,o.useRef)(null),[m,g]=(0,o.useState)(!1),b=null!=(a=e.keyLabel)?a:e.key,v=(null==(i=e.valueLabels)?void 0:i.join(", "))||(null==(l=e.values)?void 0:l.join(", "))||e.value,y=(0,o.useCallback)((e,t)=>{null==e||e.stopPropagation(),n||(f(null!=t?t:!u),d(!u))},[n,u]);if((0,o.useEffect)(()=>{var e;p&&(null==(e=h.current)||e.focus(),f(!1))},[p]),(0,o.useEffect)(()=>{e.forceEdit&&u&&(d(!1),t._updateFilter(e,{forceEdit:void 0}))},[e,t,u]),(0,o.useEffect)(()=>{u&&g(e=>!e&&e)},[u]),u){const a=s().createElement("span",{className:c.pillText},b," ",e.operator," ",v);return s().createElement("div",{className:(0,Nn.cx)(c.combinedFilterPill,{[c.readOnlyCombinedFilter]:n}),onClick:e=>{e.stopPropagation(),g(!0),y()},onKeyDown:e=>{"Enter"===e.key&&(g(!0),y())},role:"button","aria-label":`Edit filter with key ${b}`,tabIndex:0,ref:h},v.length<20?a:s().createElement(Pn.Tooltip,{content:s().createElement("div",{className:c.tooltipText},v),placement:"top"},a),n?null:s().createElement(Pn.IconButton,{onClick:n=>{n.stopPropagation(),t._removeFilter(e),setTimeout(()=>null==r?void 0:r())},onKeyDownCapture:n=>{"Enter"===n.key&&(n.preventDefault(),n.stopPropagation(),t._removeFilter(e),setTimeout(()=>null==r?void 0:r()))},name:"times",size:"md",className:c.removeButton,tooltip:`Remove filter with key ${b}`}))}return s().createElement(Js,{filter:e,model:t,handleChangeViewMode:y,focusOnWipInputRef:r,populateInputOnEdit:m})}const ul=e=>{return{combinedFilterPill:(0,Nn.css)((t=ll({display:"flex",alignItems:"center",background:e.colors.action.selected,borderRadius:e.shape.radius.default,border:`1px solid ${e.colors.border.weak}`,padding:e.spacing(.125,0,.125,1),color:e.colors.text.primary,overflow:"hidden",whiteSpace:"nowrap",minHeight:e.spacing(2.75)},e.typography.bodySmall),n={fontWeight:e.typography.fontWeightBold,cursor:"pointer","&:hover":{background:e.colors.action.hover}},nl(t,rl(n)))),readOnlyCombinedFilter:(0,Nn.css)({paddingRight:e.spacing(1),cursor:"text","&:hover":{background:e.colors.action.selected}}),removeButton:(0,Nn.css)({marginInline:e.spacing(.5),cursor:"pointer","&:hover":{color:e.colors.text.primary}}),pillText:(0,Nn.css)({maxWidth:"200px",width:"100%",textOverflow:"ellipsis",overflow:"hidden"}),tooltipText:(0,Nn.css)({textAlign:"center"})};var t,n},dl=(0,o.forwardRef)(function({model:e},t){const{_wip:n}=e.useState();return(0,o.useLayoutEffect)(()=>{n||e._addWip()},[n]),s().createElement(Js,{model:e,filter:n,isAlwaysWip:!0,ref:t})}),pl=(0,o.memo)(function({model:e}){const{filters:t,readOnly:n}=e.useState(),r=(0,Pn.useStyles2)(fl),a=(0,o.useRef)();return s().createElement("div",{className:(0,Nn.cx)(r.comboboxWrapper,{[r.comboboxFocusOutline]:!n}),onClick:()=>{var e;null==(e=a.current)||e.call(a)}},s().createElement(Pn.Icon,{name:"filter",className:r.filterIcon,size:"lg"}),t.map((t,r)=>s().createElement(cl,{key:`${r}-${t.key}`,filter:t,model:e,readOnly:n,focusOnWipInputRef:a.current})),n?null:s().createElement(dl,{model:e,ref:a}))}),fl=e=>({comboboxWrapper:(0,Nn.css)({display:"flex",flexWrap:"wrap",alignItems:"center",columnGap:e.spacing(1),rowGap:e.spacing(.5),minHeight:e.spacing(4),backgroundColor:e.components.input.background,border:`1px solid ${e.colors.border.strong}`,borderRadius:e.shape.radius.default,paddingInline:e.spacing(1),paddingBlock:e.spacing(.5),flexGrow:1}),comboboxFocusOutline:(0,Nn.css)({"&:focus-within":{outline:"2px dotted transparent",outlineOffset:"2px",boxShadow:`0 0 0 2px ${e.colors.background.canvas}, 0 0 0px 4px ${e.colors.primary.main}`,transitionTimingFunction:"cubic-bezier(0.19, 1, 0.22, 1)",transitionDuration:"0.2s",transitionProperty:"outline, outline-offset, box-shadow",zIndex:2}}),filterIcon:(0,Nn.css)({color:e.colors.text.secondary,alignSelf:"center"})});var hl=Object.defineProperty,ml=Object.defineProperties,gl=Object.getOwnPropertyDescriptors,bl=Object.getOwnPropertySymbols,vl=Object.prototype.hasOwnProperty,yl=Object.prototype.propertyIsEnumerable,wl=(e,t,n)=>t in e?hl(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,El=(e,t)=>{for(var n in t||(t={}))vl.call(t,n)&&wl(e,n,t[n]);if(bl)for(var n of bl(t))yl.call(t,n)&&wl(e,n,t[n]);return e};const Sl=[{value:"=",description:"Equals"},{value:"!=",description:"Not equal"},{value:"=|",description:"One of. Use to filter on multiple values.",isMulti:!0},{value:"!=|",description:"Not one of. Use to exclude multiple values.",isMulti:!0},{value:"=~",description:"Matches regex",isRegex:!0},{value:"!~",description:"Does not match regex",isRegex:!0},{value:"<",description:"Less than"},{value:">",description:"Greater than"}];class Ol extends J{constructor(e){var t,n;super(El({type:"adhoc",name:null!=(t=e.name)?t:"Filters",filters:[],datasource:null,applyMode:"auto",filterExpression:null!=(n=e.filterExpression)?n:Cl(e.expressionBuilder,e.filters)},e)),this._scopedVars={__sceneObject:ir(this)},this._dataSourceSrv=(0,u.getDataSourceSrv)(),this._urlSync=new Tr(this),"auto"===this.state.applyMode&&function(e){if(e.addActivationHandler(()=>(xn.add(e),()=>xn.delete(e))),An)return;const t=(0,u.getTemplateSrv)();(null==t?void 0:t.getAdhocFilters)?(An=t.getAdhocFilters,t.getAdhocFilters=function(e){var n;if(0===xn.size)return An.call(t,e);const r=(0,u.getDataSourceSrv)().getInstanceSettings(e);if(!r)return[];for(const e of xn.values())if((null==(n=e.state.datasource)?void 0:n.uid)===r.uid)return e.state.filters;return[]}.bind(t)):console.log("Failed to patch getAdhocFilters")}(this)}setState(e){let t=!1;e.filters&&e.filters!==this.state.filters&&!e.filterExpression&&(e.filterExpression=Cl(this.state.expressionBuilder,e.filters),t=e.filterExpression!==this.state.filterExpression),super.setState(e),t&&this.publishEvent(new pt(this),!0)}updateFilters(e,t){let n,r=!1;e&&e!==this.state.filters&&(n=Cl(this.state.expressionBuilder,e),r=n!==this.state.filterExpression),super.setState({filters:e,filterExpression:n}),(r&&!0!==(null==t?void 0:t.skipPublish)||(null==t?void 0:t.forcePublish))&&this.publishEvent(new pt(this),!0)}getValue(){return this.state.filterExpression}_updateFilter(e,t){const{filters:n,_wip:r}=this.state;if(e===r)return void("value"in t&&""!==t.value?this.setState({filters:[...n,El(El({},r),t)],_wip:void 0}):this.setState({_wip:El(El({},e),t)}));const a=this.state.filters.map(n=>n===e?El(El({},n),t):n);this.setState({filters:a})}_removeFilter(e){e!==this.state._wip?this.setState({filters:this.state.filters.filter(t=>t!==e)}):this.setState({_wip:void 0})}_removeLastFilter(){const e=this.state.filters.at(-1);e&&this._removeFilter(e)}_handleComboboxBackspace(e){if(this.state.filters.length){let t=this.state.filters.length-1;e!==this.state._wip&&(t=-1),this.setState({filters:this.state.filters.reduce((n,r,a)=>{return a===t?[...n,(o=El({},r),i={forceEdit:!0},ml(o,gl(i)))]:r===e?n:[...n,r];var o,i},[])})}}async _getKeys(e){var t,n,r;const a=await(null==(n=(t=this.state).getTagKeysProvider)?void 0:n.call(t,this,e));if(a&&a.replace)return gc(a.values).map(xl);if(this.state.defaultKeys)return this.state.defaultKeys.map(xl);const o=await this._dataSourceSrv.get(this.state.datasource,this._scopedVars);if(!o||!o.getTagKeys)return[];const i=this.state.filters.filter(t=>t.key!==e).concat(null!=(r=this.state.baseFilters)?r:[]),s=lu.getTimeRange(this).state.value,l=this.state.useQueriesAsFilterForOptions?dc(this):void 0,c=await o.getTagKeys(El({filters:i,queries:l,timeRange:s},nr(this)));bc(c)&&this.setState({error:c.error.message});let u=gc(c);a&&(u=u.concat(gc(a.values)));const d=this.state.tagKeyRegexFilter;return d&&(u=u.filter(e=>e.text.match(d))),u.map(xl)}async _getValuesFor(e){var t,n,r;const a=await(null==(n=(t=this.state).getTagValuesProvider)?void 0:n.call(t,this,e));if(a&&a.replace)return gc(a.values).map(xl);const o=await this._dataSourceSrv.get(this.state.datasource,this._scopedVars);if(!o||!o.getTagValues)return[];const i=this.state.filters.filter(t=>t.key!==e.key).concat(null!=(r=this.state.baseFilters)?r:[]),s=lu.getTimeRange(this).state.value,l=this.state.useQueriesAsFilterForOptions?dc(this):void 0,c=await o.getTagValues(El({key:e.key,filters:i,timeRange:s,queries:l},nr(this)));bc(c)&&this.setState({error:c.error.message});let u=gc(c);return a&&(u=u.concat(gc(a.values))),u.map(xl)}_addWip(){this.setState({_wip:{key:"",value:"",operator:"=",condition:""}})}_getOperators(){const{supportsMultiValueOperators:e,allowCustomValue:t}=this.state;return Sl.filter(({isMulti:n,isRegex:r})=>!(!e&&n||!t&&r)).map(({value:e,description:t})=>({label:e,value:e,description:t}))}}function Cl(e,t){return(null!=e?e:sc)(null!=t?t:[])}Ol.Component=function({model:e}){const{filters:t,readOnly:n,addFilterButtonText:r}=e.useState(),a=(0,Pn.useStyles2)(Al);return"combobox"===e.state.layout?s().createElement(pl,{model:e}):s().createElement("div",{className:a.wrapper},t.filter(e=>!e.hidden).map((t,n)=>s().createElement(s().Fragment,{key:n},s().createElement(Pr,{filter:t,model:e}))),!n&&s().createElement(Rr,{model:e,key:"'builder",addFilterButtonText:r}))};const Al=e=>({wrapper:(0,Nn.css)({display:"flex",flexWrap:"wrap",alignItems:"flex-end",columnGap:e.spacing(2),rowGap:e.spacing(1)})});function xl(e){const{text:t,value:n}=e,r={label:String(t),value:String(null!=n?n:t)};return"group"in e&&(r.group=e.group),"meta"in e&&(r.meta=e.meta),r}function Dl(e){return""!==e.key&&""!==e.operator&&""!==e.value}function Pl(e){const t=Sl.find(t=>t.value===e);return!!t&&Boolean(t.isMulti)}class Il{constructor(){this._resultsMap=new Map,this._prevLayers=[]}getMergedStream(e){(function(e,t){if(e.length!==t.length)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!0;return!1})(e,this._prevLayers)&&(this._resultsMap=new Map,this._prevLayers=e);const t=e.map(e=>e.getResultsStream()),n=[];for(const t of e)n.push(t.activate());return(0,x.merge)(t).pipe((0,x.mergeAll)(),(0,x.filter)(e=>this._resultsMap.get(e.origin.state.key)!==e),(0,x.map)(e=>(this._resultsMap.set(e.origin.state.key,e),this._resultsMap.values())),(0,x.finalize)(()=>{n.forEach(e=>e())}))}}var Rl=Object.defineProperty,Tl=Object.defineProperties,kl=Object.getOwnPropertyDescriptors,_l=Object.getOwnPropertySymbols,Ll=Object.prototype.hasOwnProperty,Ml=Object.prototype.propertyIsEnumerable,Bl=(e,t,n)=>t in e?Rl(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,jl=(e,t)=>{for(var n in t||(t={}))Ll.call(t,n)&&Bl(e,n,t[n]);if(_l)for(var n of _l(t))Ml.call(t,n)&&Bl(e,n,t[n]);return e},Nl=(e,t)=>Tl(e,kl(t));let Vl=100;function Fl(){return"SQR"+Vl++}class $l extends J{constructor(e){super(e),this._dataLayersMerger=new Il,this._variableValueRecorder=new rn,this._results=new x.ReplaySubject(1),this._scopedVars={__sceneObject:ir(this)},this._variableDependency=new Pc(this,{statePaths:["queries","datasource","minInterval"],onVariableUpdateCompleted:this.onVariableUpdatesCompleted.bind(this),onAnyVariableChanged:this.onAnyVariableChanged.bind(this)}),this.onDataReceived=e=>{const t=(0,c.preProcessPanelData)(e,this.state.data);this._resultAnnotations=e.annotations;const n=this._combineDataLayers(t);let r=this.state._hasFetchedData;r||t.state===Ue.Loading||(r=!0),this.setState({data:n,_hasFetchedData:r}),this._results.next({origin:this,data:n})},this.addActivationHandler(()=>this._onActivate())}getResultsStream(){return this._results}_onActivate(){if(this.isQueryModeAuto()){const e=lu.getTimeRange(this),t=this.getClosestExtraQueryProviders();for(const e of t)this._subs.add(e.subscribeToState((t,n)=>{e.shouldRerun(n,t,this.state.queries)&&this.runQueries()}));this.subscribeToTimeRangeChanges(e),this.shouldRunQueriesOnActivate()&&this.runQueries()}return this._dataLayersSub||this._handleDataLayers(),()=>this._onDeactivate()}_handleDataLayers(){const e=lu.getDataLayers(this);0!==e.length&&(this._dataLayersSub=this._dataLayersMerger.getMergedStream(e).subscribe(this._onLayersReceived.bind(this)))}_onLayersReceived(e){var t,n,r,a,o;const i=lu.getTimeRange(this),{dataLayerFilter:s}=this.state;let l,u=[],d=[];for(const r of e)for(let e of r.data.series)(null==(t=e.meta)?void 0:t.dataTopic)===c.DataTopic.Annotations&&(u=u.concat(e)),(null==(n=e.meta)?void 0:n.dataTopic)===c.DataTopic.AlertStates&&(d=d.concat(e));if((null==s?void 0:s.panelId)&&(u.length>0&&(u=function(e,t){var n;if(!Array.isArray(e)||0===e.length)return e;const r=Array.from({length:e.length},()=>new Set);let a=0;for(const o of e){for(let e=0;e<o.length;e++){if(r[a].has(e))continue;let i=!0;const s=o.fields.find(e=>"panelId"===e.name),l=o.fields.find(e=>"source"===e.name);if(l){s&&"dashboard"===l.values[e].type&&(i=[t.panelId,On].includes(s.values[e]));const r=l.values[e].filter;if(r){const e=[...null!=(n=r.ids)?n:[],On].includes(t.panelId);r.exclude?e&&(i=!1):e||(i=!1)}}i&&r[a].add(e)}a++}const o=[];a=0;for(const t of e){const e=r[a].size,n=[];for(const e of t.fields){const o=[];for(let n=0;n<t.length;n++)r[a].has(n)&&o.push(e.values[n]);n.push(Sn(En({},e),{values:o}))}o.push(Sn(En({},t),{fields:n,length:e})),a++}return o}(u,s)),d.length>0))for(const e of d){const t=new c.DataFrameView(e);for(const e of t)if(e.panelId===s.panelId){l=e;break}}if(zl(u)&&zl(this._layerAnnotations)&&(0,fe.isEqual)(l,null==(r=this.state.data)?void 0:r.alertState))return;this._layerAnnotations=u;const p=this.state.data?this.state.data:Nl(jl({},Ye),{timeRange:i.state.value});this.setState({data:Nl(jl({},p),{annotations:[...null!=(a=this._resultAnnotations)?a:[],...u],alertState:null!=l?l:null==(o=this.state.data)?void 0:o.alertState})})}onVariableUpdatesCompleted(){this.isQueryModeAuto()&&this.runQueries()}onAnyVariableChanged(e){this._adhocFiltersVar!==e&&this._groupByVar!==e&&this.isQueryModeAuto()&&(e instanceof Ol&&this._isRelevantAutoVariable(e)&&this.runQueries(),e instanceof mr&&this._isRelevantAutoVariable(e)&&this.runQueries())}_isRelevantAutoVariable(e){var t,n;const r=null!=(t=this.state.datasource)?t:Ul(this.state.queries);return"auto"===e.state.applyMode&&(null==r?void 0:r.uid)===(null==(n=e.state.datasource)?void 0:n.uid)}shouldRunQueriesOnActivate(){return this._variableValueRecorder.hasDependenciesChanged(this)?(me("SceneQueryRunner","Variable dependency changed while inactive, shouldRunQueriesOnActivate returns true"),!0):!this.state.data||!!this._isDataTimeRangeStale(this.state.data)}_isDataTimeRangeStale(e){const t=lu.getTimeRange(this).state.value,n=e.timeRange;return(t.from.unix()!==n.from.unix()||t.to.unix()!==n.to.unix())&&(me("SceneQueryRunner","Data time range is stale"),!0)}_onDeactivate(){var e;this._querySub&&(this._querySub.unsubscribe(),this._querySub=void 0),this._dataLayersSub&&(this._dataLayersSub.unsubscribe(),this._dataLayersSub=void 0),null==(e=this._timeSub)||e.unsubscribe(),this._timeSub=void 0,this._timeSubRange=void 0,this._adhocFiltersVar=void 0,this._groupByVar=void 0,this._variableValueRecorder.recordCurrentDependencyValuesForSceneObject(this)}setContainerWidth(e){!this._containerWidth&&e>0?(this._containerWidth=e,this.state.maxDataPointsFromWidth&&!this.state.maxDataPoints&&setTimeout(()=>{this.isActive&&!this.state._hasFetchedData&&this.runQueries()},0)):e>0&&(this._containerWidth=e)}isDataReadyToDisplay(){return Boolean(this.state._hasFetchedData)}subscribeToTimeRangeChanges(e){this._timeSubRange!==e&&(this._timeSub&&this._timeSub.unsubscribe(),this._timeSubRange=e,this._timeSub=e.subscribeToState(()=>{this.runWithTimeRange(e)}))}runQueries(){const e=lu.getTimeRange(this);this.isQueryModeAuto()&&this.subscribeToTimeRangeChanges(e),this.runWithTimeRange(e)}getMaxDataPoints(){var e;return this.state.maxDataPoints?this.state.maxDataPoints:this.state.maxDataPointsFromWidth&&null!=(e=this._containerWidth)?e:500}cancelQuery(){var e;null==(e=this._querySub)||e.unsubscribe(),this._dataLayersSub&&(this._dataLayersSub.unsubscribe(),this._dataLayersSub=void 0),this.setState({data:Nl(jl({},this.state.data),{state:Ue.Done})})}async runWithTimeRange(e){var t,n,r;if(!this.state.maxDataPoints&&this.state.maxDataPointsFromWidth&&!this._containerWidth)return;if(this._dataLayersSub||this._handleDataLayers(),null==(t=this._querySub)||t.unsubscribe(),this._variableDependency.hasDependencyInLoadingState())return me("SceneQueryRunner","Variable dependency is in loading state, skipping query execution"),void this.setState({data:Nl(jl({},null!=(n=this.state.data)?n:Ye),{state:Ue.Loading})});const{queries:a}=this.state;if(null==a?void 0:a.length)try{const t=null!=(r=this.state.datasource)?r:Ul(a),n=await nn(t,this._scopedVars);this.findAndSubscribeToAdHocFilters(n.uid);const o=(0,u.getRunRequest)(),{primary:i,secondaries:s,processors:l}=this.prepareRequests(e,n);me("SceneQueryRunner","Starting runRequest",this.state.key);let c=o(n,i);if(s.length>0){const e=s.map(e=>o(n,e)),t=(e=>t=>t.pipe((0,x.mergeMap)(([t,...n])=>{const r=n.flatMap(n=>{var r,a;return null!=(a=null==(r=e.get(n.request.requestId))?void 0:r(t,n))?a:(0,x.of)(n)});return(0,x.forkJoin)([(0,x.of)(t),...r])}),(0,x.map)(([e,...t])=>{var n,r,a;return r=((e,t)=>{for(var n in t||(t={}))un.call(t,n)&&pn(e,n,t[n]);if(cn)for(var n of cn(t))dn.call(t,n)&&pn(e,n,t[n]);return e})({},e),a={series:[...e.series,...t.flatMap(e=>e.series)],annotations:[...null!=(n=e.annotations)?n:[],...t.flatMap(e=>{var t;return null!=(t=e.annotations)?t:[]})]},sn(r,ln(a))})))(l);c=(0,x.forkJoin)([c,...e]).pipe(t)}c=c.pipe(en({type:"data",request:i,origin:this,cancel:()=>this.cancelQuery()})),this._querySub=c.subscribe(this.onDataReceived)}catch(e){console.error("PanelQueryRunner Error",e),this.onDataReceived(Nl(jl(jl({},Ye),this.state.data),{state:Ue.Error,errors:[(0,u.toDataQueryError)(e)]}))}else this._setNoDataState()}clone(e){var t;const n=super.clone(e);return this._resultAnnotations&&(n._resultAnnotations=this._resultAnnotations.map(e=>jl({},e))),this._layerAnnotations&&(n._layerAnnotations=this._layerAnnotations.map(e=>jl({},e))),n._variableValueRecorder=this._variableValueRecorder.cloneAndRecordCurrentValuesForSceneObject(this),n._containerWidth=this._containerWidth,n._results.next({origin:this,data:null!=(t=this.state.data)?t:Ye}),n}prepareRequests(e,t){var n;const{minInterval:r,queries:a}=this.state;let o=jl({app:"scenes",requestId:Fl(),timezone:e.getTimeZone(),range:e.state.value,interval:"1s",intervalMs:1e3,targets:(0,fe.cloneDeep)(a),maxDataPoints:this.getMaxDataPoints(),scopedVars:this._scopedVars,startTime:Date.now(),liveStreaming:this.state.liveStreaming,rangeRaw:{from:e.state.from,to:e.state.to},cacheTimeout:this.state.cacheTimeout,queryCachingTTL:this.state.queryCachingTTL},Cn(this));this._adhocFiltersVar&&(o.filters=this._adhocFiltersVar.state.filters.filter(Dl)),this._groupByVar&&(o.groupByKeys=this._groupByVar.state.value),o.targets=o.targets.map(e=>{var n;return e.datasource&&(e.datasource.uid===t.uid||(null==(n=t.meta)?void 0:n.mixed)||!u.isExpressionReference||(0,u.isExpressionReference)(e.datasource))||(e.datasource=t.getRef()),e});const i=r?au(this,r):t.interval,s=c.rangeUtil.calculateInterval(e.state.value,o.maxDataPoints,i);o.scopedVars=Object.assign({},o.scopedVars,{__interval:{text:s.interval,value:s.interval},__interval_ms:{text:s.intervalMs.toString(),value:s.intervalMs}}),o.interval=s.interval,o.intervalMs=s.intervalMs;const l=e.state.value;let d=[],p=new Map;for(const e of null!=(n=this.getClosestExtraQueryProviders())?n:[])for(const{req:t,processor:n}of e.getExtraQueries(o)){const e=Fl();d.push(Nl(jl({},t),{requestId:e})),p.set(e,null!=n?n:fn)}return o.range=l,{primary:o,secondaries:d,processors:p}}_combineDataLayers(e){return this._layerAnnotations&&this._layerAnnotations.length>0&&(e.annotations=(e.annotations||[]).concat(this._layerAnnotations)),this.state.data&&this.state.data.alertState&&(e.alertState=this.state.data.alertState),e}_setNoDataState(){this.state.data!==Ye&&this.setState({data:Ye})}getClosestExtraQueryProviders(){const e=new Map;return this.parent?(ce(this.parent,t=>(an(t)&&!e.has(t.constructor)&&e.set(t.constructor,t),t.forEachChild(t=>{an(t)&&!e.has(t.constructor)&&e.set(t.constructor,t)}),null)),Array.from(e.values())):[]}findAndSubscribeToAdHocFilters(e){const t=function(e){var t;for(const n of xn.values())if(au(n,null==(t=n.state.datasource)?void 0:t.uid)===e)return n}(e);this._adhocFiltersVar!==t&&(this._adhocFiltersVar=t,this._updateExplicitVariableDependencies());const n=function(e){var t;for(const n of Dn.values())if(au(n,null==(t=n.state.datasource)?void 0:t.uid)===e)return n}(e);this._groupByVar!==n&&(this._groupByVar=n,this._updateExplicitVariableDependencies())}_updateExplicitVariableDependencies(){const e=[];this._adhocFiltersVar&&e.push(this._adhocFiltersVar.state.name),this._groupByVar&&e.push(this._groupByVar.state.name),this._variableDependency.setVariableNames(e)}isQueryModeAuto(){var e;return"auto"===(null!=(e=this.state.runQueriesMode)?e:"auto")}}function Ul(e){var t,n;return null!=(n=null==(t=e.find(e=>null!==e.datasource))?void 0:t.datasource)?n:void 0}function zl(e){if(!e)return!0;for(let t=0;t<e.length;t++)if(e[t].length>0)return!1;return!0}const Wl=(e,t)=>e>t?1:e<t?-1:0,Hl=1/0,Gl=e=>e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),ql="eexxaacctt",Ql=/\p{P}/gu,Yl=["en",{numeric:!0,sensitivity:"base"}],Kl=(e,t,n)=>e.replace("A-Z",t).replace("a-z",n),Xl={unicode:!1,alpha:null,interSplit:"[^A-Za-z\\d']+",intraSplit:"[a-z][A-Z]",interBound:"[^A-Za-z\\d]",intraBound:"[A-Za-z]\\d|\\d[A-Za-z]|[a-z][A-Z]",interLft:0,interRgt:0,interChars:".",interIns:Hl,intraChars:"[a-z\\d']",intraIns:null,intraContr:"'[a-z]{1,2}\\b",intraMode:0,intraSlice:[1,Hl],intraSub:null,intraTrn:null,intraDel:null,intraFilt:(e,t,n)=>!0,toUpper:e=>e.toLocaleUpperCase(),toLower:e=>e.toLocaleLowerCase(),compare:null,sort:(e,t,n,r=Wl)=>{let{idx:a,chars:o,terms:i,interLft2:s,interLft1:l,start:c,intraIns:u,interIns:d,cases:p}=e;return a.map((e,t)=>t).sort((e,n)=>o[n]-o[e]||u[e]-u[n]||i[n]+s[n]+.5*l[n]-(i[e]+s[e]+.5*l[e])||d[e]-d[n]||c[e]-c[n]||p[n]-p[e]||r(t[a[e]],t[a[n]]))}},Zl=(e,t)=>0==t?"":1==t?e+"??":t==Hl?e+"*?":e+`{0,${t}}?`,Jl="(?:\\b|_)";function ec(e){e=Object.assign({},Xl,e);let{unicode:t,interLft:n,interRgt:r,intraMode:a,intraSlice:o,intraIns:i,intraSub:s,intraTrn:l,intraDel:c,intraContr:u,intraSplit:d,interSplit:p,intraBound:f,interBound:h,intraChars:m,toUpper:g,toLower:b,compare:v}=e;i??=a,s??=a,l??=a,c??=a,v??="undefined"==typeof Intl?Wl:new Intl.Collator(...Yl).compare;let y=e.letters??e.alpha;if(null!=y){let e=g(y),t=b(y);p=Kl(p,e,t),d=Kl(d,e,t),h=Kl(h,e,t),f=Kl(f,e,t),m=Kl(m,e,t),u=Kl(u,e,t)}let w=t?"u":"";const E='".+?"',S=new RegExp(E,"gi"+w),O=new RegExp(`(?:\\s+|^)-(?:${m}+|${E})`,"gi"+w);let{intraRules:C}=e;null==C&&(C=e=>{let t=Xl.intraSlice,n=0,r=0,a=0,u=0;if(/[^\d]/.test(e)){let d=e.length;d<=4?d>=3&&(a=Math.min(l,1),4==d&&(n=Math.min(i,1))):(t=o,n=i,r=s,a=l,u=c)}return{intraSlice:t,intraIns:n,intraSub:r,intraTrn:a,intraDel:u}});let A=!!d,x=new RegExp(d,"g"+w),D=new RegExp(p,"g"+w),P=new RegExp("^"+p+"|"+p+"$","g"+w),I=new RegExp(u,"gi"+w);const R=(e,t=!1)=>{let n=[];e=(e=e.replace(S,e=>(n.push(e),ql))).replace(P,""),t||(e=b(e)),A&&(e=e.replace(x,e=>e[0]+" "+e[1]));let r=0;return e.split(D).filter(e=>""!=e).map(e=>e===ql?n[r++]:e)},T=/[^\d]+|\d+/g,k=(t,o=0,s=!1)=>{let l=R(t);if(0==l.length)return[];let c,u=Array(l.length).fill("");if(l=l.map((e,t)=>e.replace(I,e=>(u[t]=e,""))),1==a)c=l.map((e,t)=>{if('"'===e[0])return Gl(e.slice(1,-1));let n="";for(let r of e.matchAll(T)){let e=r[0],{intraSlice:a,intraIns:o,intraSub:i,intraTrn:s,intraDel:l}=C(e);if(o+i+s+l==0)n+=e+u[t];else{let[r,c]=a,d=e.slice(0,r),p=e.slice(c),f=e.slice(r,c);1==o&&1==d.length&&d!=f[0]&&(d+="(?!"+d+")");let h=f.length,g=[e];if(i)for(let e=0;e<h;e++)g.push(d+f.slice(0,e)+m+f.slice(e+1)+p);if(s)for(let e=0;e<h-1;e++)f[e]!=f[e+1]&&g.push(d+f.slice(0,e)+f[e+1]+f[e]+f.slice(e+2)+p);if(l)for(let e=0;e<h;e++)g.push(d+f.slice(0,e+1)+"?"+f.slice(e+1)+p);if(o){let e=Zl(m,1);for(let t=0;t<h;t++)g.push(d+f.slice(0,t)+e+f.slice(t)+p)}n+="(?:"+g.join("|")+")"+u[t]}}return n});else{let e=Zl(m,i);2==o&&i>0&&(e=")("+e+")("),c=l.map((t,n)=>'"'===t[0]?Gl(t.slice(1,-1)):t.split("").map((e,t,n)=>(1==i&&0==t&&n.length>1&&e!=n[t+1]&&(e+="(?!"+e+")"),e)).join(e)+u[n])}let d=2==n?Jl:"",p=2==r?Jl:"",f=p+Zl(e.interChars,e.interIns)+d;return o>0?s?c=d+"("+c.join(")"+p+"|"+d+"(")+")"+p:(c="("+c.join(")("+f+")(")+")",c="(.??"+d+")"+c+"("+p+".*)"):(c=c.join(f),c=d+c+p),[new RegExp(c,"i"+w),l,u]},_=(e,t,n)=>{let[r]=k(t);if(null==r)return null;let a=[];if(null!=n)for(let t=0;t<n.length;t++){let o=n[t];r.test(e[o])&&a.push(o)}else for(let t=0;t<e.length;t++)r.test(e[t])&&a.push(t);return a};let L=!!f,M=new RegExp(h,w),B=new RegExp(f,w);const j=(t,a,o)=>{let[i,s,l]=k(o,1),c=R(o,!0),[u]=k(o,2),d=s.length,p=Array(d),f=Array(d);for(let e=0;e<d;e++){let t=s[e],n=c[e],r='"'==t[0]?t.slice(1,-1):t+l[e],a='"'==n[0]?n.slice(1,-1):n+l[e];p[e]=r,f[e]=a}let h=t.length,m=Array(h).fill(0),g={idx:Array(h),start:m.slice(),chars:m.slice(),cases:m.slice(),terms:m.slice(),interIns:m.slice(),intraIns:m.slice(),interLft2:m.slice(),interRgt2:m.slice(),interLft1:m.slice(),interRgt1:m.slice(),ranges:Array(h)},v=1==n||1==r,y=0;for(let o=0;o<t.length;o++){let s=a[t[o]],l=s.match(i),c=l.index+l[1].length,h=c,m=!1,E=0,S=0,O=0,C=0,A=0,x=0,D=0,P=0,I=0,R=[];for(let t=0,a=2;t<d;t++,a+=2){let o=b(l[a]),i=p[t],u=f[t],g=i.length,y=o.length,T=o==i;if(l[a]==u&&D++,!T&&l[a+1].length>=g){let e=b(l[a+1]).indexOf(i);e>-1&&(R.push(h,y,e,g),h+=N(l,a,e,g),o=i,y=g,T=!0,0==t&&(c=h))}if(v||T){let e=h-1,u=h+y,d=!1,p=!1;if(-1==e||M.test(s[e]))T&&E++,d=!0;else{if(2==n){m=!0;break}if(L&&B.test(s[e]+s[e+1]))T&&S++,d=!0;else if(1==n){let e=l[a+1],n=h+y;if(e.length>=g){let r,u=0,p=!1,f=new RegExp(i,"ig"+w);for(;r=f.exec(e);){u=r.index;let e=n+u,t=e-1;if(-1==t||M.test(s[t])){E++,p=!0;break}if(B.test(s[t]+s[e])){S++,p=!0;break}}p&&(d=!0,R.push(h,y,u,g),h+=N(l,a,u,g),o=i,y=g,T=!0,0==t&&(c=h))}if(!d){m=!0;break}}}if(u==s.length||M.test(s[u]))T&&O++,p=!0;else{if(2==r){m=!0;break}if(L&&B.test(s[u-1]+s[u]))T&&C++,p=!0;else if(1==r){m=!0;break}}T&&(A+=g,d&&p&&x++)}if(y>g&&(I+=y-g),t>0&&(P+=l[a-1].length),!e.intraFilt(i,o,h)){m=!0;break}t<d-1&&(h+=y+l[a+1].length)}if(!m){g.idx[y]=t[o],g.interLft2[y]=E,g.interLft1[y]=S,g.interRgt2[y]=O,g.interRgt1[y]=C,g.chars[y]=A,g.terms[y]=x,g.cases[y]=D,g.interIns[y]=P,g.intraIns[y]=I,g.start[y]=c;let e=s.match(u),n=e.index+e[1].length,r=R.length,a=r>0?0:1/0,i=r-4;for(let t=2;t<e.length;){let r=e[t].length;if(a<=i&&R[a]==n){let r=R[a+1],o=R[a+2],i=R[a+3],s=t,l="";for(let t=0;t<r;s++)l+=e[s],t+=e[s].length;e.splice(t,s-t,l),n+=N(e,t,o,i),a+=4}else n+=r,t++}n=e.index+e[1].length;let l=g.ranges[y]=[],d=n,p=n;for(let t=2;t<e.length;t++){let r=e[t].length;n+=r,t%2==0?p=n:r>0&&(l.push(d,p),d=p=n)}p>d&&l.push(d,p),y++}}if(y<t.length)for(let e in g)g[e]=g[e].slice(0,y);return g},N=(e,t,n,r)=>{let a=e[t]+e[t+1].slice(0,n);return e[t-1]+=a,e[t]=e[t+1].slice(n,n+r),e[t+1]=e[t+1].slice(n+r),a.length};return{search:(...t)=>{let n=((t,n,r,a=1e3,o)=>{r=r?!0===r?5:r:0;let i=null,s=null,l=[];n=n.replace(O,e=>{let t=e.trim().slice(1);return t='"'===t[0]?Gl(t.slice(1,-1)):t.replace(Ql,""),""!=t&&l.push(t),""});let c,u=R(n);if(l.length>0){if(c=new RegExp(l.join("|"),"i"+w),0==u.length){let e=[];for(let n=0;n<t.length;n++)c.test(t[n])||e.push(n);return[e,null,null]}}else if(0==u.length)return[null,null,null];if(r>0){let e=R(n);if(e.length>1){let n=e.slice().sort((e,t)=>t.length-e.length);for(let e=0;e<n.length;e++){if(0==o?.length)return[[],null,null];o=_(t,n[e],o)}if(e.length>r)return[o,null,null];i=nc(e).map(e=>e.join(" ")),s=[];let a=new Set;for(let e=0;e<i.length;e++)if(a.size<o.length){let n=o.filter(e=>!a.has(e)),r=_(t,i[e],n);for(let e=0;e<r.length;e++)a.add(r[e]);s.push(r)}else s.push([])}}null==i&&(i=[n],s=[o?.length>0?o:_(t,n)]);let d=null,p=null;if(l.length>0&&(s=s.map(e=>e.filter(e=>!c.test(t[e])))),s.reduce((e,t)=>e+t.length,0)<=a){d={},p=[];for(let n=0;n<s.length;n++){let r=s[n];if(null==r||0==r.length)continue;let a=i[n],o=j(r,t,a),l=e.sort(o,t,a,v);if(n>0)for(let e=0;e<l.length;e++)l[e]+=p.length;for(let e in o)d[e]=(d[e]??[]).concat(o[e]);p=p.concat(l)}}return[[].concat(...s),d,p]})(...t);return n},split:R,filter:_,info:j,sort:e.sort}}const tc=(()=>{let e={A:"ÁÀÃÂÄĄ",a:"áàãâäą",E:"ÉÈÊËĖ",e:"éèêëę",I:"ÍÌÎÏĮ",i:"íìîïį",O:"ÓÒÔÕÖ",o:"óòôõö",U:"ÚÙÛÜŪŲ",u:"úùûüūų",C:"ÇČĆ",c:"çčć",L:"Ł",l:"ł",N:"ÑŃ",n:"ñń",S:"ŠŚ",s:"šś",Z:"ŻŹ",z:"żź"},t=new Map,n="";for(let r in e)e[r].split("").forEach(e=>{n+=e,t.set(e,r)});let r=new RegExp(`[${n}]`,"g"),a=e=>t.get(e);return e=>{if("string"==typeof e)return e.replace(r,a);let t=Array(e.length);for(let n=0;n<e.length;n++)t[n]=e[n].replace(r,a);return t}})();function nc(e){let t,n,r=(e=e.slice()).length,a=[e.slice()],o=new Array(r).fill(0),i=1;for(;i<r;)o[i]<i?(t=i%2&&o[i],n=e[i],e[i]=e[t],e[t]=n,++o[i],i=1,a.push(e.slice())):(o[i]=0,++i);return a}const rc=(e,t)=>t?`<mark>${e}</mark>`:e,ac=(e,t)=>e+t;function oc(e,t){return e===t||(0,fe.isEqual)(e,t)}function ic(e){try{return JSON.stringify(e,(()=>{const e=new WeakSet;return(t,n)=>{if("object"==typeof n&&null!==n){if(e.has(n))return;e.add(n)}return n}})())}catch(e){console.error(e)}return""}function sc(e){return e.map(e=>function(e){var t,n;let r="",a=e.operator;return"=|"===a?(a="=~",r=null==(t=e.values)?void 0:t.map(cc).join("|")):"!=|"===a?(a="!~",r=null==(n=e.values)?void 0:n.map(cc).join("|")):r="=~"===a||"!~"===a?cc(e.value):lc(e.value),`${e.key}${a}"${r}"`}(e)).join(",")}function lc(e){return e.replace(/\\/g,"\\\\").replace(/\n/g,"\\n").replace(/"/g,'\\"')}function cc(e){return lc(e.replace(uc,"\\$&"))}ec.latinize=tc,ec.permute=e=>nc([...Array(e.length).keys()]).sort((e,t)=>{for(let n=0;n<e.length;n++)if(e[n]!=t[n])return e[n]-t[n];return 0}).map(t=>t.map(t=>e[t])),ec.highlight=function(e,t,n=rc,r="",a=ac){r=a(r,n(e.substring(0,t[0]),!1))??r;for(let o=0;o<t.length;o+=2){let i=t[o],s=t[o+1];r=a(r,n(e.substring(i,s),!0))??r,o<t.length-3&&(r=a(r,n(e.substring(t[o+1],t[o+2]),!1))??r)}return a(r,n(e.substring(t[t.length-1]),!1))??r};const uc=/[*+?()|\\.\[\]{}^$]/g;function dc(e){var t;const n=lu.findAllObjects(e.getRoot(),e=>e instanceof $l),r=lu.interpolate(e,null==(t=e.state.datasource)?void 0:t.uid),a=function(e){const t={};for(const n of e)n.state.key&&(n.state.key in t||(t[n.state.key]=[]),t[n.state.key].push(n));return Object.values(t).flatMap(e=>{const t=e.filter(e=>e.isActive);return 0===t.length&&1===e.length?e:t})}(n).filter(t=>{var n;return lu.interpolate(e,null==(n=t.state.datasource)?void 0:n.uid)===r});if(0===a.length)return[];const o=[];return a.forEach(t=>{o.push(...t.state.queries.filter(t=>!t.datasource||!t.datasource.uid||lu.interpolate(e,t.datasource.uid)===r))}),o}function pc(e){return null==e?"":/\|/g[Symbol.replace](e,"__gfp__")}function fc(e){return null==e?"":/,/g[Symbol.replace](e,"__gfc__")}function hc(e){return null==e?"":(e=/__gfp__/g[Symbol.replace](e,"|"),e=/__gfc__/g[Symbol.replace](e,","))}function mc(e,t){return t&&e!==t?[e,t].map(fc).join(","):fc(e)}function gc(e){return Array.isArray(e)?e:e.data}function bc(e){return!Array.isArray(e)&&Boolean(e.error)}function vc(e){const t=[],n=new Map;for(const r of e){const e=r.group;if(e){let a=n.get(e);a||(a=[],n.set(e,a),t.push({label:e,options:a})),a.push(r)}else t.push(r)}return t}function yc(e,t=1e4){const n=new ec,r=Array.from({length:Math.min(t,e.length)},(e,t)=>t);return a=>{if(""===a)return r;const[o,i,s]=n.search(e,a);if(o){if(i&&s){const e=Array(Math.min(s.length,t));for(let t=0;t<e.length;t++)e[t]=i.idx[s[t]];return e}return o.slice(0,t)}return[]}}var wc=Object.defineProperty,Ec=Object.defineProperties,Sc=Object.getOwnPropertyDescriptors,Oc=Object.getOwnPropertySymbols,Cc=Object.prototype.hasOwnProperty,Ac=Object.prototype.propertyIsEnumerable,xc=(e,t,n)=>t in e?wc(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;class Dc extends J{constructor(e){var t;super((t=((e,t)=>{for(var n in t||(t={}))Cc.call(t,n)&&xc(e,n,t[n]);if(Oc)for(var n of Oc(t))Ac.call(t,n)&&xc(e,n,t[n]);return e})({type:"constant",value:"",name:""},e),Ec(t,Sc({skipUrlSync:!0}))))}getValue(){return this.state.value}}class Pc{constructor(e,t){this._sceneObject=e,this._options=t,this._dependencies=new Set,this._isWaitingForVariables=!1,this.scanCount=0,this._statePaths=t.statePaths,this._options.handleTimeMacros&&this.handleTimeMacros()}hasDependencyOn(e){return this.getNames().has(e)}variableUpdateCompleted(e,t){const n=this.getNames();let r=!1;(n.has(e.state.name)||n.has(c.DataLinkBuiltInVars.includeVars))&&t&&(r=!0),me("VariableDependencyConfig","variableUpdateCompleted",e.state.name,r,this._isWaitingForVariables),this._options.onAnyVariableChanged&&this._options.onAnyVariableChanged(e),this._options.onVariableUpdateCompleted&&(this._isWaitingForVariables||r)&&this._options.onVariableUpdateCompleted(),r&&(this._options.onReferencedVariableValueChanged&&this._options.onReferencedVariableValueChanged(e),this._options.onReferencedVariableValueChanged||this._options.onVariableUpdateCompleted||this._sceneObject.forceRender())}hasDependencyInLoadingState(){return lu.hasVariableDependencyInLoadingState(this._sceneObject)?(this._isWaitingForVariables=!0,!0):(this._isWaitingForVariables=!1,!1)}getNames(){const e=this._state,t=this._state=this._sceneObject.state;if(!e)return this.scanStateForDependencies(this._state),this._dependencies;if(t!==e)if(this._statePaths){for(const n of this._statePaths)if("*"===n||t[n]!==e[n]){this.scanStateForDependencies(t);break}}else this.scanStateForDependencies(t);return this._dependencies}setVariableNames(e){this._options.variableNames=e,this.scanStateForDependencies(this._state)}setPaths(e){this._statePaths=e}scanStateForDependencies(e){if(this._dependencies.clear(),this.scanCount+=1,this._options.variableNames)for(const e of this._options.variableNames)this._dependencies.add(e);if(this._statePaths)for(const t of this._statePaths){if("*"===t){this.extractVariablesFrom(e);break}{const n=e[t];n&&this.extractVariablesFrom(n)}}}extractVariablesFrom(e){It.lastIndex=0;const t=("string"!=typeof e?ic(e):e).matchAll(It);if(t)for(const e of t){const[,t,n,,r]=e,a=t||n||r;this._dependencies.add(a)}}handleTimeMacros(){this._sceneObject.addActivationHandler(()=>{const e=lu.getTimeRange(this._sceneObject).subscribeToState((e,t)=>{const n=this.getNames(),r=n.has("__from"),a=n.has("__to"),o=n.has("__timezone");if(e.value!==t.value)if(r){const t=new Dc({name:"__from",value:e.from});this.variableUpdateCompleted(t,!0)}else if(a){const t=new Dc({name:"__to",value:e.to});this.variableUpdateCompleted(t,!0)}if(e.timeZone!==t.timeZone&&o){const t=new Dc({name:"__timezone",value:e.timeZone});this.variableUpdateCompleted(t,!0)}});return()=>e.unsubscribe()})}}const Ic=e=>Boolean(e.metricFindQuery)&&!Boolean(e.variables),Rc=e=>{if(!e.variables)return!1;if(e.variables.getType()!==c.VariableSupportType.Standard)return!1;const t=e.variables;return"toDataQuery"in t&&Boolean(t.toDataQuery)},Tc=e=>{if(!e.variables)return!1;if(e.variables.getType()!==c.VariableSupportType.Custom)return!1;const t=e.variables;return"query"in t&&"editor"in t&&Boolean(t.query)&&Boolean(t.editor)},kc=e=>!!e.variables&&e.variables.getType()===c.VariableSupportType.Datasource;var _c=Object.defineProperty,Lc=Object.defineProperties,Mc=Object.getOwnPropertyDescriptors,Bc=Object.getOwnPropertySymbols,jc=Object.prototype.hasOwnProperty,Nc=Object.prototype.propertyIsEnumerable,Vc=(e,t,n)=>t in e?_c(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Fc=(e,t)=>{for(var n in t||(t={}))jc.call(t,n)&&Vc(e,n,t[n]);if(Bc)for(var n of Bc(t))Nc.call(t,n)&&Vc(e,n,t[n]);return e},$c=(e,t)=>Lc(e,Mc(t));class Uc{constructor(e,t=(0,u.getRunRequest)()){this.datasource=e,this._runRequest=t}getTarget(e){if(Rc(this.datasource))return this.datasource.variables.toDataQuery(function(e){var t;const n=null!=(t=e.state.query)?t:"";return"string"==typeof n?{query:n,refId:`variable-${e.state.name}`}:null==n.refId?$c(Fc({},n),{refId:`variable-${e.state.name}`}):e.state.query}(e));throw new Error("Couldn't create a target with supplied arguments.")}runRequest(e,t){return Rc(this.datasource)?this.datasource.variables.query?this._runRequest(this.datasource,t,this.datasource.variables.query.bind(this.datasource.variables)):this._runRequest(this.datasource,t):Gc()}}class zc{constructor(e){this.datasource=e}getTarget(e){if(Ic(this.datasource))return e.state.query;throw new Error("Couldn't create a target with supplied arguments.")}runRequest({variable:e,searchFilter:t},n){return Ic(this.datasource)?(0,x.from)(this.datasource.metricFindQuery(e.state.query,$c(Fc({},n),{variable:{name:e.state.name,type:e.state.type},searchFilter:t}))).pipe((0,x.mergeMap)(e=>{if(!e||!e.length)return Gc();const t=e;return(0,x.of)({series:t,state:c.LoadingState.Done,timeRange:n.range})})):Gc()}}class Wc{constructor(e,t=(0,u.getRunRequest)()){this.datasource=e,this._runRequest=t}getTarget(e){if(Tc(this.datasource))return e.state.query;throw new Error("Couldn't create a target with supplied arguments.")}runRequest(e,t){return Tc(this.datasource)?this.datasource.variables.query?this._runRequest(this.datasource,t,this.datasource.variables.query.bind(this.datasource.variables)):this._runRequest(this.datasource,t):Gc()}}class Hc{constructor(e,t=(0,u.getRunRequest)()){this.datasource=e,this._runRequest=t}getTarget(e){var t;if(kc(this.datasource))return"string"==typeof e.state.query?e.state.query:$c(Fc({},e.state.query),{refId:null!=(t=e.state.query.refId)?t:"variable-query"});throw new Error("Couldn't create a target with supplied arguments.")}runRequest(e,t){return kc(this.datasource)?this._runRequest(this.datasource,t,this.datasource.query):Gc()}}function Gc(){return(0,x.of)({state:c.LoadingState.Done,series:[],timeRange:(0,c.getDefaultTimeRange)()})}const qc=(e,t)=>{const n=[];let r=null;t.lastIndex=0;do{r=t.exec(e),r&&n.push(r)}while(t.global&&r&&""!==r[0]&&void 0!==r[0]);return n};function Qc(e){if(!e.label)return-1;const t=e.label.match(/.*?(\d+).*/);return!t||t.length<2?-1:parseInt(t[1],10)}const Yc=new Intl.Collator(void 0,{sensitivity:"accent",numeric:!0});function Kc(e){return e.slice().sort((e,t)=>Yc.compare(e.label,t.label))}var Xc=Object.defineProperty,Zc=Object.getOwnPropertySymbols,Jc=Object.prototype.hasOwnProperty,eu=Object.prototype.propertyIsEnumerable,tu=(e,t,n)=>t in e?Xc(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;class nu extends Mt{constructor(e){super(((e,t)=>{for(var n in t||(t={}))Jc.call(t,n)&&tu(e,n,t[n]);if(Zc)for(var n of Zc(t))eu.call(t,n)&&tu(e,n,t[n]);return e})({type:"query",name:"",value:"",text:"",options:[],datasource:null,regex:"",query:"",refresh:c.VariableRefresh.onDashboardLoad,sort:c.VariableSort.disabled},e)),this._variableDependency=new Pc(this,{statePaths:["regex","query","datasource"]}),this.onSearchChange=e=>{ic(this.state.query).indexOf("__searchFilter")>-1&&this._updateOptionsBasedOnSearchFilter(e)},this._updateOptionsBasedOnSearchFilter=(0,fe.debounce)(async e=>{const t=await(0,x.lastValueFrom)(this.getValueOptions({searchFilter:e}));this.setState({options:t,loading:!1})},400)}getValueOptions(e){return this.state.query?(this.setState({loading:!0,error:null}),(0,x.from)(nn(this.state.datasource,{__sceneObject:ir(this)})).pipe((0,x.mergeMap)(t=>{const n=function(e){if(Rc(e))return new Uc(e,(0,u.getRunRequest)());if(Ic(e))return new zc(e);if(Tc(e))return new Wc(e);if(kc(e))return new Hc(e);throw new Error(`Couldn't create a query runner for datasource ${e.type}`)}(t),r=n.getTarget(this),a=this.getRequest(r,e.searchFilter);return n.runRequest({variable:this,searchFilter:e.searchFilter},a).pipe(en({type:"variable",request:a,origin:this}),(0,x.filter)(e=>e.state===c.LoadingState.Done||e.state===c.LoadingState.Error),(0,x.take)(1),(0,x.mergeMap)(e=>e.state===c.LoadingState.Error?(0,x.throwError)(()=>e.error):(0,x.of)(e)),e=>e.pipe((0,x.map)(e=>{const t=e.series;if(!t||!t.length)return[];if(function(e){if(!e)return!1;if(!e.length)return!0;const t=e[0];if((0,c.isDataFrame)(t))return!1;for(const e in t){if(!t.hasOwnProperty(e))continue;if(null!==t[e]&&"string"!=typeof t[e]&&"number"!=typeof t[e])continue;const n=e.toLowerCase();if("text"===n||"value"===n)return!0}return!1}(t))return t;if(0===t[0].fields.length)return[];const n=(0,c.getProcessedDataFrames)(t),r=[];let a=-1,o=-1,i=-1,s=-1;for(const e of n)for(let n=0;n<e.fields.length;n++){const r=e.fields[n],l=(0,c.getFieldDisplayName)(r,e,t).toLowerCase();r.type===c.FieldType.string&&-1===i&&(i=n),"text"===l&&r.type===c.FieldType.string&&-1===o&&(o=n),"value"===l&&r.type===c.FieldType.string&&-1===a&&(a=n),"expandable"!==l||r.type!==c.FieldType.boolean&&r.type!==c.FieldType.number||-1!==s||(s=n)}if(-1===i)throw new Error("Couldn't find any field of type string in the results.");for(const e of t)for(let t=0;t<e.length;t++){const n=-1!==s?e.fields[s].values.get(t):void 0,l=e.fields[i].values.get(t),c=-1!==o?e.fields[o].values.get(t):"",u=-1!==a?e.fields[a].values.get(t):"";-1!==a||-1!==o?-1!==a||-1===o?-1===a||-1!==o?r.push({text:c,value:u,expandable:n}):r.push({text:u,value:u,expandable:n}):r.push({text:c,value:c,expandable:n}):r.push({text:l,value:l,expandable:n})}return r})),(0,x.mergeMap)(e=>{let t="";return this.state.regex&&(t=lu.interpolate(this,this.state.regex,void 0,"regex")),(0,x.of)(function(e,t,n){var r,a,o,i,s,l,u,d,p,f;let h,m=[];e&&(h=(0,c.stringToJsRegex)(e));for(let e=0;e<n.length;e++){const t=n[e];let c=null!=(a=null!=(r=t.text)?r:t.value)?a:"",g=null!=(i=null!=(o=t.value)?o:t.text)?i:"";if((0,fe.isNumber)(g)&&(g=g.toString()),(0,fe.isNumber)(c)&&(c=c.toString()),h){const e=qc(g,h);if(!e.length)continue;const t=e.find(e=>e.groups&&e.groups.value),n=e.find(e=>e.groups&&e.groups.text),r=e.find(e=>e.length>1),a=e.length>1&&r;if(t||n)g=null!=(u=null==(s=null==t?void 0:t.groups)?void 0:s.value)?u:null==(l=null==n?void 0:n.groups)?void 0:l.text,c=null!=(f=null==(d=null==n?void 0:n.groups)?void 0:d.text)?f:null==(p=null==t?void 0:t.groups)?void 0:p.value;else{if(a){for(let t=0;t<e.length;t++){const n=e[t];m.push({label:n[1],value:n[1]})}continue}r&&(c=r[1],g=r[1])}}m.push({label:c,value:g})}return m=(0,fe.uniqBy)(m,"value"),((e,t)=>{if(t===c.VariableSort.disabled)return e;switch(t){case c.VariableSort.alphabeticalAsc:e=(0,fe.sortBy)(e,"label");break;case c.VariableSort.alphabeticalDesc:e=(0,fe.sortBy)(e,"label").reverse();break;case c.VariableSort.numericalAsc:e=(0,fe.sortBy)(e,Qc);break;case c.VariableSort.numericalDesc:e=(e=(0,fe.sortBy)(e,Qc)).reverse();break;case c.VariableSort.alphabeticalCaseInsensitiveAsc:e=(0,fe.sortBy)(e,e=>(0,fe.toLower)(e.label));break;case c.VariableSort.alphabeticalCaseInsensitiveDesc:e=(e=(0,fe.sortBy)(e,e=>(0,fe.toLower)(e.label))).reverse();break;case c.VariableSort.naturalAsc||7:e=Kc(e);break;case c.VariableSort.naturalDesc||8:e=(e=Kc(e)).reverse()}return e})(m,t)}(t,this.state.sort,e))}),(0,x.catchError)(e=>e.cancelled?(0,x.of)([]):(0,x.throwError)(()=>e)))}))):(0,x.of)([])}getRequest(e,t){const n={__sceneObject:ir(this)};t&&(n.__searchFilter={value:t,text:t});const r=lu.getTimeRange(this).state.value;return{app:c.CoreApp.Dashboard,requestId:k(),timezone:"",range:r,interval:"",intervalMs:0,targets:[e],scopedVars:n,startTime:Date.now()}}}function ru(e){var t;return null!=(t=ce(e,e=>e.state.$data))?t:lt}function au(e,t,n,r,a){return""===t||null==t?"":Yt(e,t,n,r,a)}function ou(e,t,n,r){if(t(e))return e;let a=null;return e.forEachChild(e=>{if(e===n)return;let r=ou(e,t);r&&(a=r)}),a||(r&&e.parent?ou(e.parent,t,e,!0):null)}function iu(e,t){return ou(e,t,void 0,!0)}function su(e,t){const n=[];return e.forEachChild(e=>{t(e)&&n.push(e),n.push(...su(e,t))}),n}nu.Component=({model:e})=>er(e);const lu={getVariables:function(e){var t;return null!=(t=ce(e,e=>e.state.$variables))?t:ut},getData:ru,getTimeRange:dt,getLayout:function(e){return ce(e,e=>function(e){return"isDraggable"in e}(e)?e:void 0)||null},getDataLayers:function(e,t=!1){let n=e,r=[];for(;n;){const e=n.state.$data;if(e){if(Jt(e)?r=r.concat(e):e.state.$data&&Jt(e.state.$data)&&(r=r.concat(e.state.$data)),t&&r.length>0)break;n=n.parent}else n=n.parent}return r},interpolate:au,lookupVariable:he,hasVariableDependencyInLoadingState:function(e){if(!e.variableDependency)return!1;for(const t of e.variableDependency.getNames()){if(e instanceof nu&&e.state.name===t){console.warn("Query variable is referencing itself");continue}const n=he(t,e);if(n&&n.parent.isVariableLoadingOrWaitingToUpdate(n))return!0}return!1},findByKey:function(e,t){const n=iu(e,e=>e.state.key===t);if(!n)throw new Error("Unable to find scene with key "+t);return n},findByKeyAndType:function(e,t,n){const r=iu(e,e=>e.state.key===t);if(!r)throw new Error("Unable to find scene with key "+t);if(!(r instanceof n))throw new Error(`Found scene object with key ${t} does not match type ${n.name}`);return r},findObject:iu,findAllObjects:su,getAncestor:function(e,t){let n=e;for(;n;){if(n instanceof t)return n;n=n.parent}if(!n)throw new Error("Unable to find parent of type "+t.name);return n},getQueryController:Ve,findDescendents:function(e,t){function n(e){return e instanceof t}return su(e,n).filter(n)}};class cu{constructor(){this.index=new Map}getUniqueKey(e,t){const n=this.index.get(e);if(!n)return this.index.set(e,[t]),e;let r=n.findIndex(e=>e===t);return-1===r&&(function(e){for(const t of e)if(uu(t)){const n=e.indexOf(t);e.splice(n,1)}}(n),n.push(t),r=n.length-1),r>0?`${e}-${r+1}`:e}clear(){this.index.clear()}}function uu(e){const t=e.getRoot();return!lu.findObject(t,t=>t===e)}function du(e){const t=new cu,n={},r=e=>{if(e.urlSync){const r=e.urlSync.getUrlState();for(const[a,o]of Object.entries(r))if(null!=o){const r=t.getUniqueKey(a,e);n[r]=o}}e.forEachChild(r)};return r(e),n}function pu(e,t,n,r){r||fu(e,t,n),e.forEachChild(e=>{fu(e,t,n)}),e.forEachChild(e=>pu(e,t,n,!0))}function fu(e,t,n){if(e.urlSync){const r={},a=e.urlSync.getUrlState();for(const o of e.urlSync.getKeys()){const i=n.getUniqueKey(o,e),s=t.getAll(i),l=a[o];hu(s,l)||(s.length>0?Array.isArray(l)?r[o]=s:r[o]=s[0]:r[o]=null)}Object.keys(r).length>0&&e.urlSync.updateFromUrl(r)}}function hu(e,t){return 0===e.length&&null==t||(Array.isArray(t)||1!==(null==e?void 0:e.length)?0===(null==t?void 0:t.length)&&null===e||(0,fe.isEqual)(e,t):t===e[0])}class mu extends J{constructor(){super(...arguments),this._runningEffect=null,this._variableDependency=new Pc(this,{variableNames:[this.state.variableName],onReferencedVariableValueChanged:this._onVariableChanged.bind(this)})}_onVariableChanged(e){const t=this.state.onChange;this._runningEffect&&(this._runningEffect(),this._runningEffect=null);const n=t(e,this);n&&(this._runningEffect=n)}}var gu=(e=>(e[e.never=0]="never",e[e.onDashboardLoad=1]="onDashboardLoad",e[e.onTimeRangeChanged=2]="onTimeRangeChanged",e))(gu||{}),bu=(e=>(e[e.Crosshair=1]="Crosshair",e[e.Off=0]="Off",e[e.Tooltip=2]="Tooltip",e))(bu||{}),vu=Object.defineProperty,yu=Object.defineProperties,wu=Object.getOwnPropertyDescriptors,Eu=Object.getOwnPropertySymbols,Su=Object.prototype.hasOwnProperty,Ou=Object.prototype.propertyIsEnumerable,Cu=(e,t,n)=>t in e?vu(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;class Au extends J{constructor(e){var t,n;super((t=((e,t)=>{for(var n in t||(t={}))Su.call(t,n)&&Cu(e,n,t[n]);if(Eu)for(var n of Eu(t))Ou.call(t,n)&&Cu(e,n,t[n]);return e})({},e),n={sync:e.sync||bu.Off},yu(t,wu(n)))),this.getEventsBus=e=>{if(!this.parent)throw new Error("EnableCursorSync cannot be used as a standalone scene object");return new xu(this.parent,e)}}getEventsScope(){if(!this.parent)throw new Error("EnableCursorSync cannot be used as a standalone scene object");return this.state.key}}class xu{constructor(e,t){this._source=e,this._eventsOrigin=t}publish(e){e.origin=this,this._eventsOrigin.publishEvent(e,!0)}getStream(e){return new x.Observable(t=>{const n=this._source.subscribeToEvent(e,e=>{t.next(e)});return()=>n.unsubscribe()})}subscribe(e,t){return this.getStream(e).pipe().subscribe(t)}removeAllListeners(){}newScopedBus(e,t){throw new Error("For internal use only")}}var Du=function(){},Pu="undefined"!=typeof window;const Iu=Pu?o.useLayoutEffect:o.useEffect;var Ru={x:0,y:0,width:0,height:0,top:0,left:0,bottom:0,right:0};const Tu=Pu&&void 0!==window.ResizeObserver?function(){var e=(0,o.useState)(null),t=e[0],n=e[1],r=(0,o.useState)(Ru),a=r[0],i=r[1],s=(0,o.useMemo)(function(){return new window.ResizeObserver(function(e){if(e[0]){var t=e[0].contentRect,n=t.x,r=t.y,a=t.width,o=t.height,s=t.top,l=t.left,c=t.bottom,u=t.right;i({x:n,y:r,width:a,height:o,top:s,left:l,bottom:c,right:u})}})},[]);return Iu(function(){if(t)return s.observe(t),function(){s.disconnect()}},[t]),[n,a]}:function(){return[Du,Ru]};function ku({data:e,showAll:t,seriesLimit:n,onShowAllSeries:r}){const a=(0,Pn.useStyles2)(_u),o=null==e?void 0:e.series.length;if(void 0===o||o<n)return null;const i=t?"Restore limit":`Show all ${o}`;return s().createElement("div",{className:a.timeSeriesDisclaimer},!t&&s().createElement("span",{className:a.warningMessage},s().createElement(Pn.Icon,{title:`Showing only ${n} series`,name:"exclamation-triangle","aria-hidden":"true"})),s().createElement(Pn.Tooltip,{content:"Rendering too many series in a single panel may impact performance and make data harder to read."},s().createElement(Pn.Button,{variant:"secondary",size:"sm",onClick:r},i)))}const _u=e=>({timeSeriesDisclaimer:(0,Nn.css)({label:"time-series-disclaimer",display:"flex",alignItems:"center",gap:e.spacing(1)}),warningMessage:(0,Nn.css)({display:"flex",alignItems:"center",gap:e.spacing(.5),color:e.colors.warning.main,fontSize:e.typography.bodySmall.fontSize})});var Lu=Object.defineProperty,Mu=Object.defineProperties,Bu=Object.getOwnPropertyDescriptors,ju=Object.getOwnPropertySymbols,Nu=Object.prototype.hasOwnProperty,Vu=Object.prototype.propertyIsEnumerable,Fu=(e,t,n)=>t in e?Lu(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,$u=(e,t)=>{for(var n in t||(t={}))Nu.call(t,n)&&Fu(e,n,t[n]);if(ju)for(var n of ju(t))Vu.call(t,n)&&Fu(e,n,t[n]);return e};function Uu(e,t){if(t)return t;let n=e.error?e.error.message:void 0;return e.errors&&(n=e.errors.map(e=>e.message).join(", ")),n}const zu=(0,Nn.css)({position:"relative",width:"100%",height:"100%"}),Wu=(0,Nn.css)({position:"absolute",width:"100%",height:"100%"}),Hu=e=>({ok:(0,Nn.css)({color:e.colors.success.text}),pending:(0,Nn.css)({color:e.colors.warning.text}),alerting:(0,Nn.css)({color:e.colors.error.text})});var Gu=Object.defineProperty,qu=Object.defineProperties,Qu=Object.getOwnPropertyDescriptors,Yu=Object.getOwnPropertySymbols,Ku=Object.prototype.hasOwnProperty,Xu=Object.prototype.propertyIsEnumerable,Zu=(e,t,n)=>t in e?Gu(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ju=(e,t)=>{for(var n in t||(t={}))Ku.call(t,n)&&Zu(e,n,t[n]);if(Yu)for(var n of Yu(t))Xu.call(t,n)&&Zu(e,n,t[n]);return e},ed=(e,t)=>qu(e,Qu(t));const td="hideSeriesFrom",nd=(0,c.isSystemOverrideWithRef)(td);function rd(e,t=c.ByNamesMatcherMode.exclude,n){return n=null!=n?n:{id:"custom.hideFrom",value:{viz:!0,legend:!1,tooltip:!1}},{__systemRef:td,matcher:{id:c.FieldMatcherID.byNames,options:{mode:t,names:e,prefix:t===c.ByNamesMatcherMode.exclude?"All except:":void 0,readOnly:!0}},properties:[ed(Ju({},n),{value:{viz:!0,legend:!1,tooltip:!1}})]}}const ad=e=>{var t;const n=null==(t=e.matcher.options)?void 0:t.names;return Array.isArray(n)?[...n]:[]},od=(e,t)=>{const n=new Set;for(const r of e)for(const a of r.fields){if(a.type!==c.FieldType.number)continue;const o=(0,c.getFieldDisplayName)(a,r,e);o!==t&&n.add(o)}return Array.from(n)},id=(e,t)=>{var n;let r=[];for(const a of e){const e=a.properties.find(e=>"custom.hideFrom"===e.id);if(void 0!==e&&!0===(null==(n=e.value)?void 0:n.legend)){const e=c.fieldMatchers.get(a.matcher.id).get(a.matcher.options);for(const n of t)for(const a of n.fields){if(a.type!==c.FieldType.number)continue;const o=(0,c.getFieldDisplayName)(a,n,t);e(a,n,t)&&r.push(o)}}}return r};var sd=Object.defineProperty,ld=Object.defineProperties,cd=Object.getOwnPropertyDescriptors,ud=Object.getOwnPropertySymbols,dd=Object.prototype.hasOwnProperty,pd=Object.prototype.propertyIsEnumerable,fd=(e,t,n)=>t in e?sd(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,hd=(e,t)=>{for(var n in t||(t={}))dd.call(t,n)&&fd(e,n,t[n]);if(ud)for(var n of ud(t))pd.call(t,n)&&fd(e,n,t[n]);return e},md=(e,t)=>ld(e,cd(t));const gd=(e,t)=>({matcher:{id:c.FieldMatcherID.byName,options:e},properties:[bd(t)]}),bd=e=>({id:"color",value:{mode:c.FieldColorModeId.Fixed,fixedColor:e}});var vd=Object.defineProperty,yd=Object.defineProperties,wd=Object.getOwnPropertyDescriptors,Ed=Object.getOwnPropertySymbols,Sd=Object.prototype.hasOwnProperty,Od=Object.prototype.propertyIsEnumerable,Cd=(e,t,n)=>t in e?vd(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ad=(e,t)=>{for(var n in t||(t={}))Sd.call(t,n)&&Cd(e,n,t[n]);if(Ed)for(var n of Ed(t))Od.call(t,n)&&Cd(e,n,t[n]);return e},xd=(e,t)=>yd(e,wd(t));class Dd extends J{constructor(e){var t;super(Ad({options:{},fieldConfig:{defaults:{},overrides:[]},title:"Title",pluginId:"timeseries",_renderCounter:0},e)),this._variableDependency=new Pc(this,{statePaths:["title","options","fieldConfig"]}),this._structureRev=0,this.onTimeRangeChange=e=>{lu.getTimeRange(this).onTimeRangeChange({raw:{from:(0,c.toUtc)(e.from),to:(0,c.toUtc)(e.to)},from:(0,c.toUtc)(e.from),to:(0,c.toUtc)(e.to)})},this.getTimeRange=e=>{const t=lu.findObject(this,e=>e instanceof Id),n=lu.getTimeRange(this);if(t instanceof Id&&t.isEnabled)return Je(n.state.from,n.state.to,n.getTimeZone(),n.state.fiscalYearStartMonth,n.state.UNSAFE_nowDelay,n.state.weekStart);const r=this.getPlugin();return r&&!r.meta.skipDataQuery&&e&&e.timeRange?e.timeRange:n.state.value},this.onTitleChange=e=>{this.setState({title:e})},this.onDescriptionChange=e=>{this.setState({description:e})},this.onDisplayModeChange=e=>{this.setState({displayMode:e})},this.onToggleCollapse=e=>{this.setState({collapsed:e})},this.onOptionsChange=(e,t=!1,n=!1)=>{var r;const{fieldConfig:a,options:o}=this.state,i=t?e:(0,fe.mergeWith)((0,fe.cloneDeep)(o),e,(e,t,n,r)=>{if((0,fe.isArray)(t))return t;e===t||void 0!==t||(r[n]=t)}),s=(0,c.getPanelOptionsWithDefaults)({plugin:this._plugin,currentOptions:i,currentFieldConfig:a,isAfterPluginChange:n});this.setState({options:s.options,_renderCounter:(null!=(r=this.state._renderCounter)?r:0)+1})},this.onFieldConfigChange=(e,t)=>{const{fieldConfig:n,options:r}=this.state,a=t?e:(0,fe.merge)((0,fe.cloneDeep)(n),e),o=(0,c.getPanelOptionsWithDefaults)({plugin:this._plugin,currentOptions:r,currentFieldConfig:a,isAfterPluginChange:!1});this._dataWithFieldConfig=void 0,this.setState({fieldConfig:o.fieldConfig})},this.interpolate=(e,t,n)=>lu.interpolate(this,e,t,n),this.getDescription=()=>{this.publishEvent(new z({origin:this,interaction:"panel-description-shown"}),!0);const{description:e}=this.state;if(e){const t=this.interpolate(e);return(0,c.renderMarkdown)(t)}return""},this.onCancelQuery=()=>{var e;this.publishEvent(new z({origin:this,interaction:"panel-cancel-query-clicked"}),!0);const t=lu.getData(this);null==(e=t.cancelQuery)||e.call(t)},this.onStatusMessageClick=()=>{this.publishEvent(new z({origin:this,interaction:"panel-status-message-clicked"}),!0)},this._onSeriesColorChange=(e,t)=>{this.onFieldConfigChange(((e,t,n)=>{const{overrides:r}=n,a=n.overrides.findIndex(t=>t.matcher.id===c.FieldMatcherID.byName&&t.matcher.options===e);if(a<0)return md(hd({},n),{overrides:[...n.overrides,gd(e,t)]});const o=Array.from(r),i=o[a],s=i.properties.findIndex(e=>"color"===e.id);if(s<0)return o[a]=md(hd({},i),{properties:[...i.properties,bd(t)]}),md(hd({},n),{overrides:o});const l=Array.from(i.properties);return l[s]=bd(t),o[a]=md(hd({},i),{properties:l}),md(hd({},n),{overrides:o})})(e,t,this.state.fieldConfig))},this._onSeriesVisibilityChange=(e,t)=>{this._dataWithFieldConfig&&this.onFieldConfigChange(function(e,t,n,r){const{overrides:a}=n,o=e,i=a.findIndex(nd);if(i<0){if(t===Pn.SeriesVisibilityChangeMode.ToggleSelection){const e=rd([o,...id(a,r)]);return ed(Ju({},n),{overrides:[...n.overrides,e]})}const e=rd(od(r,o));return ed(Ju({},n),{overrides:[...n.overrides,e]})}const s=Array.from(a),[l]=s.splice(i,1);if(t===Pn.SeriesVisibilityChangeMode.ToggleSelection){let e=ad(l);const t=id(s,r);if(t.length>0&&(e=e.filter(e=>t.indexOf(e)<0)),e[0]===o&&1===e.length)return ed(Ju({},n),{overrides:s});const a=rd([o,...t]);return ed(Ju({},n),{overrides:[...s,a]})}const u=((e,t,n=c.ByNamesMatcherMode.exclude)=>{const r=e.properties.find(e=>"custom.hideFrom"===e.id),a=ad(e),o=a.findIndex(e=>e===t);return o<0?a.push(t):a.splice(o,1),rd(a,n,r)})(l,o);return((e,t)=>ad(e).length===od(t).length)(u,r)?ed(Ju({},n),{overrides:s}):ed(Ju({},n),{overrides:[...s,u]})}(e,t,this.state.fieldConfig,this._dataWithFieldConfig.series),!0)},this._onInstanceStateChange=e=>{this._panelContext&&(this._panelContext=xd(Ad({},this._panelContext),{instanceState:e})),this.setState({_pluginInstanceState:e})},this._onToggleLegendSort=e=>{const t=this.state.options.legend;if(!t)return;let n=t.sortDesc,r=t.sortBy;e!==r&&(n=void 0),!1===n?(r=void 0,n=void 0):(n=!n,r=e),this.onOptionsChange(xd(Ad({},this.state.options),{legend:xd(Ad({},t),{sortBy:r,sortDesc:n})}),!0)},this.addActivationHandler(()=>{this._onActivate()}),null==(t=e.menu)||t.addActivationHandler(()=>{this.publishEvent(new z({origin:this,interaction:"panel-menu-shown"}),!0)})}_onActivate(){this._plugin||this._loadPlugin(this.state.pluginId)}forceRender(){var e;this.setState({_renderCounter:(null!=(e=this.state._renderCounter)?e:0)+1})}async _loadPlugin(e,t,n,r){const a=function(e){var t;const{getPanelPluginFromCache:n}=(0,u.getPluginImportUtils)();return null!=(t=n(e))?t:A.get(e)}(e);if(a)this._pluginLoaded(a,t,n,r);else{const{importPanelPlugin:a}=(0,u.getPluginImportUtils)();try{const o=a(e),i=lu.getQueryController(this);i&&i.state.enableProfiling&&tn(o).pipe(en({type:"plugin",origin:this})).subscribe(()=>{});const s=await o;this._pluginLoaded(s,t,n,r)}catch(t){this._pluginLoaded(function(e){const t=new c.PanelPlugin(()=>null);return t.meta={id:e,name:e,sort:100,type:c.PluginType.panel,module:"",baseUrl:"",info:{author:{name:""},description:"",links:[],logos:{large:"",small:"public/img/grafana_icon.svg"},screenshots:[],updated:"",version:""}},t}(e)),t instanceof Error&&this.setState({_pluginLoadError:t.message})}}}getLegacyPanelId(){const e=parseInt(this.state.key.replace("panel-",""),10);return isNaN(e)?0:e}async _pluginLoaded(e,t,n,r){const{options:a,fieldConfig:o,title:i,pluginVersion:s,_UNSAFE_customMigrationHandler:l}=this.state,u={title:i,options:a,fieldConfig:o,id:this.getLegacyPanelId(),type:e.meta.id,pluginVersion:s};t&&(u.options=t),n&&(u.fieldConfig=n);const d=this._getPluginVersion(e);null==l||l(u,e),e.onPanelMigration&&d!==s&&!r&&(u.options=await e.onPanelMigration(u));const p=(0,c.getPanelOptionsWithDefaults)({plugin:e,currentOptions:u.options,currentFieldConfig:u.fieldConfig,isAfterPluginChange:null!=r&&r});if(this._plugin=e,this.setState({options:p.options,fieldConfig:p.fieldConfig,pluginVersion:d,pluginId:e.meta.id}),e.meta.skipDataQuery){const e=lu.getTimeRange(this);this._subs.add(e.subscribeToState(()=>this.forceRender()))}}_getPluginVersion(e){return e&&e.meta.info.version?e.meta.info.version:u.config.buildInfo.version}getPlugin(){return this._plugin}getPanelContext(){return null!=this._panelContext||(this._panelContext=this.buildPanelContext()),this._panelContext}async changePluginType(e,t,n){var r,a;const{options:o,fieldConfig:i,pluginId:s}=this.state;this._dataWithFieldConfig=void 0;const l=this.state.pluginId!==e;await this._loadPlugin(e,null!=t?t:{},n,l);const c={title:this.state.title,options:this.state.options,fieldConfig:this.state.fieldConfig,id:1,type:e},u=null==(a=null==(r=this._plugin)?void 0:r.onPanelTypeChanged)?void 0:a.call(r,c,s,o,i);u&&!(0,fe.isEmpty)(u)&&this.onOptionsChange(u,!0,!0)}clearFieldConfigCache(){this._dataWithFieldConfig=void 0}applyFieldConfig(e){var t,n,r,a;const o=this._plugin;if(!o||o.meta.skipDataQuery||!e)return Ye;if(this._prevData===e&&this._dataWithFieldConfig)return this._dataWithFieldConfig;const i=o.dataSupport||{alertStates:!1,annotations:!1},s=o.fieldConfigRegistry,l=null!=(n=null==(t=this._dataWithFieldConfig)?void 0:t.series)?n:[],d=(0,c.applyFieldOverrides)({data:e.series,fieldConfig:this.state.fieldConfig,fieldConfigRegistry:s,replaceVariables:this.interpolate,theme:u.config.theme2,timeZone:null==(r=e.request)?void 0:r.timezone});return(0,c.compareArrayValues)(d,l,c.compareDataFrameStructures)||this._structureRev++,this._dataWithFieldConfig=xd(Ad({},e),{structureRev:this._structureRev,series:d}),this._dataWithFieldConfig.annotations&&(this._dataWithFieldConfig.annotations=(0,c.applyFieldOverrides)({data:this._dataWithFieldConfig.annotations,fieldConfig:{defaults:{},overrides:[]},fieldConfigRegistry:s,replaceVariables:this.interpolate,theme:u.config.theme2,timeZone:null==(a=e.request)?void 0:a.timezone})),i.alertStates||(this._dataWithFieldConfig.alertState=void 0),i.annotations||(this._dataWithFieldConfig.annotations=void 0),this._prevData=e,this._dataWithFieldConfig}buildPanelContext(){const e=lu.findObject(this,e=>e instanceof Au);const t={eventsScope:e?e.getEventsScope():"__global_",eventBus:e?e.getEventsBus(this):(0,u.getAppEvents)(),app:c.CoreApp.Unknown,sync:()=>e?e.state.sync:c.DashboardCursorSync.Off,onSeriesColorChange:this._onSeriesColorChange,onToggleSeriesVisibility:this._onSeriesVisibilityChange,onToggleLegendSort:this._onToggleLegendSort,onInstanceStateChange:this._onInstanceStateChange};return this.state.extendPanelContext&&this.state.extendPanelContext(this,t),t}}Dd.Component=function({model:e}){var t;const{title:n,options:r,fieldConfig:a,_pluginLoadError:i,displayMode:l,hoverHeader:d,showMenuAlways:p,hoverHeaderOffset:f,menu:h,headerActions:m,titleItems:g,seriesLimit:b,seriesLimitShowAll:v,description:y,collapsible:w,collapsed:E,_renderCounter:S=0}=e.useState(),[O,{width:C,height:A}]=Tu(),x=(0,o.useMemo)(()=>(0,u.getAppEvents)(),[]),D=(0,o.useCallback)(()=>{e.state.key&&x.publish(new c.SetPanelAttentionEvent({panelId:e.state.key}))},[e.state.key,x]),P=(0,o.useMemo)(()=>(0,fe.debounce)(D,100,{leading:!0,trailing:!1}),[D]),I=e.getPlugin(),{dragClass:R,dragClassCancel:T}=function(e){var t,n;const r=lu.getLayout(e),a=null==r?void 0:r.isDraggable();return r&&a&&!function(e,t){let n=e.parent;for(;n&&n!==t;){if("isDraggable"in n.state&&!1===n.state.isDraggable)return!0;n=n.parent}return!1}(e,r)?{dragClass:null==(t=r.getDragClass)?void 0:t.call(r),dragClassCancel:null==(n=null==r?void 0:r.getDragClassCancel)?void 0:n.call(r)}:{dragClass:"",dragClassCancel:""}}(e),k=function(e){var t,n;const r=lu.getLayout(e);return null!=(n=null==(t=null==r?void 0:r.getDragHooks)?void 0:t.call(r))?n:{}}(e),_=lu.getData(e),L=_.useState(),M=function(e,t,n){return(0,o.useMemo)(()=>{return(null==e?void 0:e.series)&&t&&!n?(r=$u({},e),a={series:e.series.slice(0,t)},Mu(r,Bu(a))):e;var r,a},[e,t,n])}(L.data,b,v),B=e.applyFieldConfig(M),j=lu.getTimeRange(e).getTimeZone(),N=e.getTimeRange(B),V=e.interpolate(n,void 0,"text"),F=(0,Pn.useStyles2)(Hu);if(!I)return s().createElement("div",null,"Loading plugin panel...");if(!I.panel)return s().createElement("div",null,"Panel plugin has no panel component");const $=I.panel;_&&_.setContainerWidth&&_.setContainerWidth(Math.round(C));let U,z,W=[];g&&(Array.isArray(g)?W=W.concat(g.map(e=>s().createElement(e.Component,{model:e,key:`${e.state.key}`}))):Kt(g)?W.push(s().createElement(g.Component,{model:g})):W.push(g)),b&&W.push(s().createElement(ku,{key:"series-limit",data:L.data,seriesLimit:b,showAll:v,onShowAllSeries:()=>e.setState({seriesLimitShowAll:!v})})),e.state.$timeRange&&W.push(s().createElement(e.state.$timeRange.Component,{model:e.state.$timeRange,key:e.state.key})),B.alertState&&W.push(s().createElement(Pn.Tooltip,{content:null!=(t=B.alertState.state)?t:"unknown",key:`alert-states-icon-${e.state.key}`},s().createElement(Pn.PanelChrome.TitleItem,{className:(0,Nn.cx)({[F.ok]:B.alertState.state===c.AlertState.OK,[F.pending]:B.alertState.state===c.AlertState.Pending,[F.alerting]:B.alertState.state===c.AlertState.Alerting})},s().createElement(Pn.Icon,{name:"alerting"===B.alertState.state?"heart-break":"heart",className:"panel-alert-icon",size:"md"})))),h&&(U=s().createElement(h.Component,{model:h})),m&&(z=Array.isArray(m)?s().createElement(s().Fragment,null,m.map(e=>s().createElement(e.Component,{model:e,key:`${e.state.key}`}))):Kt(m)?s().createElement(m.Component,{model:m}):m);const H=B,G=!_.isDataReadyToDisplay||_.isDataReadyToDisplay(),q=e.getPanelContext(),Q=e.getLegacyPanelId();return s().createElement("div",{className:zu},s().createElement("div",{ref:O,className:Wu,"data-viz-panel-key":e.state.key},C>0&&A>0&&s().createElement(Pn.PanelChrome,$u({title:V,description:(null==y?void 0:y.trim())?e.getDescription:void 0,loadingState:H.state,statusMessage:Uu(H,i),statusMessageOnClick:e.onStatusMessageClick,width:C,height:A,selectionId:e.state.key,displayMode:l,titleItems:W,dragClass:R,actions:z,dragClassCancel:T,padding:I.noPadding?"none":"md",menu:U,onCancelQuery:e.onCancelQuery,onFocus:D,onMouseEnter:D,onMouseMove:P,onDragStart:t=>{var n;null==(n=k.onDragStart)||n.call(k,t,e)}},w?{collapsible:Boolean(w),collapsed:E,onToggleCollapse:e.onToggleCollapse,showMenuAlways:p}:{hoverHeader:d,hoverHeaderOffset:f}),(t,o)=>s().createElement(s().Fragment,null,s().createElement(Pn.ErrorBoundaryAlert,{dependencies:[I,H]},s().createElement(c.PluginContextProvider,{meta:I.meta},s().createElement(Pn.PanelContextProvider,{value:q},G&&s().createElement($,{id:Q,data:H,title:n,timeRange:N,timeZone:j,options:r,fieldConfig:a,transparent:!1,width:t,height:o,renderCounter:S,replaceVariables:e.interpolate,onOptionsChange:e.onOptionsChange,onFieldConfigChange:e.onFieldConfigChange,onChangeTimeRange:e.onTimeRangeChange,eventBus:q.eventBus}))))))))};const Pd=class extends J{constructor({enabled:e=!1}){super({enabled:e}),this.timerId=void 0,this._activationHandler=()=>(this.state.enabled&&this.enable(),()=>{window.clearInterval(this.timerId),this.timerId=void 0}),this.addActivationHandler(this._activationHandler)}enable(){window.clearInterval(this.timerId),this.timerId=void 0,this.timerId=window.setInterval(()=>{const e=lu.findAllObjects(this.getRoot(),e=>e instanceof Dd);for(const t of e)t.forceRender()},Pd.REFRESH_RATE),this.setState({enabled:!0})}disable(){window.clearInterval(this.timerId),this.timerId=void 0,this.setState({enabled:!1})}get isEnabled(){return this.state.enabled}};let Id=Pd;function Rd(e){if("string"==typeof e)return e;if(e){if(e instanceof Error)return e.message;if((0,u.isFetchError)(e)){if(e.data&&e.data.message)return e.data.message;if(e.statusText)return e.statusText}else if(e.hasOwnProperty("message"))return e.message}return JSON.stringify(e)}Id.REFRESH_RATE=100;var Td=Object.defineProperty,kd=Object.getOwnPropertySymbols,_d=Object.prototype.hasOwnProperty,Ld=Object.prototype.propertyIsEnumerable,Md=(e,t,n)=>t in e?Td(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;class Bd extends J{constructor(e,t=[]){super(((e,t)=>{for(var n in t||(t={}))_d.call(t,n)&&Md(e,n,t[n]);if(kd)for(var n of kd(t))Ld.call(t,n)&&Md(e,n,t[n]);return e})({isEnabled:!0},e)),this._results=new x.ReplaySubject(1),this.isDataLayer=!0,this._variableValueRecorder=new rn,this._variableDependency=new Pc(this,{onVariableUpdateCompleted:this.onVariableUpdateCompleted.bind(this)}),this._variableDependency.setPaths(t),this.addActivationHandler(()=>this.onActivate())}onActivate(){return this.state.isEnabled&&this.onEnable(),this.shouldRunLayerOnActivate()&&this.runLayer(),this.subscribeToState((e,t)=>{!e.isEnabled&&this.querySub&&(this.querySub.unsubscribe(),this.querySub=void 0,this.onDisable(),this._results.next({origin:this,data:Ye}),this.setStateHelper({data:Ye})),e.isEnabled&&!t.isEnabled&&(this.onEnable(),this.runLayer())}),()=>{this.onDeactivate()}}onDeactivate(){this.querySub&&(this.querySub.unsubscribe(),this.querySub=void 0),this.onDisable(),this._variableValueRecorder.recordCurrentDependencyValuesForSceneObject(this)}onVariableUpdateCompleted(){this.runLayer()}cancelQuery(){this.querySub&&(this.querySub.unsubscribe(),this.querySub=void 0,this.publishResults(Ye))}publishResults(e){this.state.isEnabled&&(this._results.next({origin:this,data:e}),this.setStateHelper({data:e}))}getResultsStream(){return this._results}shouldRunLayerOnActivate(){return!!this.state.isEnabled&&(this._variableValueRecorder.hasDependenciesChanged(this)?(me("SceneDataLayerBase","Variable dependency changed while inactive, shouldRunLayerOnActivate returns true"),!0):!this.state.data)}setStateHelper(e){_t(this,e)}}class jd extends J{constructor(){super({})}}function Nd({layer:e}){var t,n;const r=`data-layer-${e.state.key}`,{data:a,isEnabled:o}=e.useState(),i=Boolean(a&&a.state===Ue.Loading);return s().createElement("div",{className:Vd},s().createElement(yr,{htmlFor:r,isLoading:i,onCancel:()=>{var t;return null==(t=e.cancelQuery)?void 0:t.call(e)},label:e.state.name,description:e.state.description,error:null==(n=null==(t=e.state.data)?void 0:t.errors)?void 0:n[0].message}),s().createElement(Pn.InlineSwitch,{id:r,value:o,onChange:()=>e.setState({isEnabled:!o})}))}jd.Component=function({model:e}){const t=lu.getDataLayers(e,!0);return 0===t.length?null:s().createElement(s().Fragment,null,t.map(e=>s().createElement(e.Component,{model:e,key:e.state.key})))};const Vd=(0,Nn.css)({display:"flex"});function Fd(e){return"function"==typeof e}function $d(e){return function(t){if(function(e){return Fd(null==e?void 0:e.lift)}(t))return t.lift(function(t){try{return e(t,this)}catch(e){this.error(e)}});throw new TypeError("Unable to lift unknown Observable type")}}var Ud=function(e,t){return Ud=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},Ud(e,t)};function zd(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}Ud(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var Wd=function(){return Wd=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},Wd.apply(this,arguments)};function Hd(e,t){var n,r,a,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=s(0),i.throw=s(1),i.return=s(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(o=0)),o;)try{if(n=1,r&&(a=2&s[0]?r.return:s[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,s[1])).done)return a;switch(r=0,a&&(s=[2&s[0],a.value]),s[0]){case 0:case 1:a=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((a=(a=o.trys).length>0&&a[a.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!a||s[1]>a[0]&&s[1]<a[3])){o.label=s[1];break}if(6===s[0]&&o.label<a[1]){o.label=a[1],a=s;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(s);break}a[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],r=0}finally{n=a=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}}function Gd(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function qd(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,a,o=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)i.push(r.value)}catch(e){a={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(a)throw a.error}}return i}function Qd(e,t,n){if(n||2===arguments.length)for(var r,a=0,o=t.length;a<o;a++)!r&&a in t||(r||(r=Array.prototype.slice.call(t,0,a)),r[a]=t[a]);return e.concat(r||Array.prototype.slice.call(t))}function Yd(e){return this instanceof Yd?(this.v=e,this):new Yd(e)}Object.create,Object.create,"function"==typeof SuppressedError&&SuppressedError;var Kd,Xd=((Kd=function(e){var t;t=this,Error.call(t),t.stack=(new Error).stack,this.message=e?e.length+" errors occurred during unsubscription:\n"+e.map(function(e,t){return t+1+") "+e.toString()}).join("\n  "):"",this.name="UnsubscriptionError",this.errors=e}).prototype=Object.create(Error.prototype),Kd.prototype.constructor=Kd,Kd);function Zd(e,t){if(e){var n=e.indexOf(t);0<=n&&e.splice(n,1)}}var Jd=function(){function e(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}var t;return e.prototype.unsubscribe=function(){var e,t,n,r,a;if(!this.closed){this.closed=!0;var o=this._parentage;if(o)if(this._parentage=null,Array.isArray(o))try{for(var i=Gd(o),s=i.next();!s.done;s=i.next())s.value.remove(this)}catch(t){e={error:t}}finally{try{s&&!s.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}else o.remove(this);var l=this.initialTeardown;if(Fd(l))try{l()}catch(e){a=e instanceof Xd?e.errors:[e]}var c=this._finalizers;if(c){this._finalizers=null;try{for(var u=Gd(c),d=u.next();!d.done;d=u.next()){var p=d.value;try{tp(p)}catch(e){a=null!=a?a:[],e instanceof Xd?a=Qd(Qd([],qd(a)),qd(e.errors)):a.push(e)}}}catch(e){n={error:e}}finally{try{d&&!d.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}if(a)throw new Xd(a)}},e.prototype.add=function(t){var n;if(t&&t!==this)if(this.closed)tp(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(t)}},e.prototype._hasParent=function(e){var t=this._parentage;return t===e||Array.isArray(t)&&t.includes(e)},e.prototype._addParent=function(e){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e},e.prototype._removeParent=function(e){var t=this._parentage;t===e?this._parentage=null:Array.isArray(t)&&Zd(t,e)},e.prototype.remove=function(t){var n=this._finalizers;n&&Zd(n,t),t instanceof e&&t._removeParent(this)},e.EMPTY=((t=new e).closed=!0,t),e}();function ep(e){return e instanceof Jd||e&&"closed"in e&&Fd(e.remove)&&Fd(e.add)&&Fd(e.unsubscribe)}function tp(e){Fd(e)?e():e.unsubscribe()}Jd.EMPTY;var np=null,rp=null,ap=void 0,op=!1,ip=!1,sp={setTimeout:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var a=sp.delegate;return(null==a?void 0:a.setTimeout)?a.setTimeout.apply(a,Qd([e,t],qd(n))):setTimeout.apply(void 0,Qd([e,t],qd(n)))},clearTimeout:function(e){var t=sp.delegate;return((null==t?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0};function lp(e){sp.setTimeout(function(){if(!np)throw e;np(e)})}function cp(){}var up=dp("C",void 0,void 0);function dp(e,t,n){return{kind:e,value:t,error:n}}var pp=null,fp=function(e){function t(t){var n=e.call(this)||this;return n.isStopped=!1,t?(n.destination=t,ep(t)&&t.add(n)):n.destination=wp,n}return zd(t,e),t.create=function(e,t,n){return new bp(e,t,n)},t.prototype.next=function(e){this.isStopped?yp(function(e){return dp("N",e,void 0)}(e),this):this._next(e)},t.prototype.error=function(e){this.isStopped?yp(dp("E",void 0,e),this):(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped?yp(up,this):(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){try{this.destination.error(e)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(Jd),hp=Function.prototype.bind;function mp(e,t){return hp.call(e,t)}var gp=function(){function e(e){this.partialObserver=e}return e.prototype.next=function(e){var t=this.partialObserver;if(t.next)try{t.next(e)}catch(e){vp(e)}},e.prototype.error=function(e){var t=this.partialObserver;if(t.error)try{t.error(e)}catch(e){vp(e)}else vp(e)},e.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(e){vp(e)}},e}(),bp=function(e){function t(t,n,r){var a,o,i=e.call(this)||this;return Fd(t)||!t?a={next:null!=t?t:void 0,error:null!=n?n:void 0,complete:null!=r?r:void 0}:i&&ip?((o=Object.create(t)).unsubscribe=function(){return i.unsubscribe()},a={next:t.next&&mp(t.next,o),error:t.error&&mp(t.error,o),complete:t.complete&&mp(t.complete,o)}):a=t,i.destination=new gp(a),i}return zd(t,e),t}(fp);function vp(e){var t;op?(t=e,op&&pp&&(pp.errorThrown=!0,pp.error=t)):lp(e)}function yp(e,t){var n=rp;n&&sp.setTimeout(function(){return n(e,t)})}var wp={closed:!0,next:cp,error:function(e){throw e},complete:cp};function Ep(e,t,n,r,a){return new Sp(e,t,n,r,a)}var Sp=function(e){function t(t,n,r,a,o,i){var s=e.call(this,t)||this;return s.onFinalize=o,s.shouldUnsubscribe=i,s._next=n?function(e){try{n(e)}catch(e){t.error(e)}}:e.prototype._next,s._error=a?function(e){try{a(e)}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._error,s._complete=r?function(){try{r()}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._complete,s}return zd(t,e),t.prototype.unsubscribe=function(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var n=this.closed;e.prototype.unsubscribe.call(this),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}},t}(fp);function Op(e,t){return $d(function(n,r){var a=0;n.subscribe(Ep(r,function(n){r.next(e.call(t,n,a++))}))})}var Cp="function"==typeof Symbol&&Symbol.observable||"@@observable";function Ap(e){return e}var xp=function(){function e(e){e&&(this._subscribe=e)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(e,t,n){var r,a=this,o=(r=e)&&r instanceof fp||function(e){return e&&Fd(e.next)&&Fd(e.error)&&Fd(e.complete)}(r)&&ep(r)?e:new bp(e,t,n);return function(e){if(op){var t=!pp;if(t&&(pp={errorThrown:!1,error:null}),e(),t){var n=pp,r=n.errorThrown,a=n.error;if(pp=null,r)throw a}}else e()}(function(){var e=a,t=e.operator,n=e.source;o.add(t?t.call(o,n):n?a._subscribe(o):a._trySubscribe(o))}),o},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.error(t)}},e.prototype.forEach=function(e,t){var n=this;return new(t=Dp(t))(function(t,r){var a=new bp({next:function(t){try{e(t)}catch(e){r(e),a.unsubscribe()}},error:r,complete:t});n.subscribe(a)})},e.prototype._subscribe=function(e){var t;return null===(t=this.source)||void 0===t?void 0:t.subscribe(e)},e.prototype[Cp]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0===(n=e).length?Ap:1===n.length?n[0]:function(e){return n.reduce(function(e,t){return t(e)},e)})(this);var n},e.prototype.toPromise=function(e){var t=this;return new(e=Dp(e))(function(e,n){var r;t.subscribe(function(e){return r=e},function(e){return n(e)},function(){return e(r)})})},e.create=function(t){return new e(t)},e}();function Dp(e){var t;return null!==(t=null!=e?e:ap)&&void 0!==t?t:Promise}var Pp="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";function Ip(e){if(e instanceof xp)return e;if(null!=e){if(function(e){return Fd(e[Cp])}(e))return i=e,new xp(function(e){var t=i[Cp]();if(Fd(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")});if((o=e)&&"number"==typeof o.length&&"function"!=typeof o)return a=e,new xp(function(e){for(var t=0;t<a.length&&!e.closed;t++)e.next(a[t]);e.complete()});if(Fd(null==(r=e)?void 0:r.then))return n=e,new xp(function(e){n.then(function(t){e.closed||(e.next(t),e.complete())},function(t){return e.error(t)}).then(null,lp)});if(function(e){return Symbol.asyncIterator&&Fd(null==e?void 0:e[Symbol.asyncIterator])}(e))return Rp(e);if(function(e){return Fd(null==e?void 0:e[Pp])}(e))return t=e,new xp(function(e){var n,r;try{for(var a=Gd(t),o=a.next();!o.done;o=a.next()){var i=o.value;if(e.next(i),e.closed)return}}catch(e){n={error:e}}finally{try{o&&!o.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}e.complete()});if(function(e){return Fd(null==e?void 0:e.getReader)}(e))return Rp(function(e){return function(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,a=n.apply(e,t||[]),o=[];return r=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),i("next"),i("throw"),i("return",function(e){return function(t){return Promise.resolve(t).then(e,c)}}),r[Symbol.asyncIterator]=function(){return this},r;function i(e,t){a[e]&&(r[e]=function(t){return new Promise(function(n,r){o.push([e,t,n,r])>1||s(e,t)})},t&&(r[e]=t(r[e])))}function s(e,t){try{(n=a[e](t)).value instanceof Yd?Promise.resolve(n.value.v).then(l,c):u(o[0][2],n)}catch(e){u(o[0][3],e)}var n}function l(e){s("next",e)}function c(e){s("throw",e)}function u(e,t){e(t),o.shift(),o.length&&s(o[0][0],o[0][1])}}(this,arguments,function(){var t,n,r;return Hd(this,function(a){switch(a.label){case 0:t=e.getReader(),a.label=1;case 1:a.trys.push([1,,9,10]),a.label=2;case 2:return[4,Yd(t.read())];case 3:return n=a.sent(),r=n.value,n.done?[4,Yd(void 0)]:[3,5];case 4:return[2,a.sent()];case 5:return[4,Yd(r)];case 6:return[4,a.sent()];case 7:return a.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}})})}(e))}var t,n,r,a,o,i;throw function(e){return new TypeError("You provided "+(null!==e&&"object"==typeof e?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}(e)}function Rp(e){return new xp(function(t){(function(e,t){var n,r,a,o,i,s,l,c;return i=this,s=void 0,c=function(){var i,s;return Hd(this,function(l){switch(l.label){case 0:l.trys.push([0,5,6,11]),n=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=Gd(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise(function(r,a){!function(e,t,n,r){Promise.resolve(r).then(function(t){e({value:t,done:n})},t)}(r,a,(t=e[n](t)).done,t.value)})}}}(e),l.label=1;case 1:return[4,n.next()];case 2:if((r=l.sent()).done)return[3,4];if(i=r.value,t.next(i),t.closed)return[2];l.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return s=l.sent(),a={error:s},[3,11];case 6:return l.trys.push([6,,9,10]),r&&!r.done&&(o=n.return)?[4,o.call(n)]:[3,8];case 7:l.sent(),l.label=8;case 8:return[3,10];case 9:if(a)throw a.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}})},new((l=void 0)||(l=Promise))(function(e,t){function n(e){try{a(c.next(e))}catch(e){t(e)}}function r(e){try{a(c.throw(e))}catch(e){t(e)}}function a(t){var a;t.done?e(t.value):(a=t.value,a instanceof l?a:new l(function(e){e(a)})).then(n,r)}a((c=c.apply(i,s||[])).next())})})(e,t).catch(function(e){return t.error(e)})})}function Tp(e,t,n){return void 0===n&&(n=1/0),Fd(t)?Tp(function(n,r){return Op(function(e,a){return t(n,e,r,a)})(Ip(e(n,r)))},n):("number"==typeof t&&(n=t),$d(function(t,r){return function(e,t,n,r){var a=[],o=0,i=0,s=!1,l=function(){!s||a.length||o||t.complete()},c=function(e){return o<r?u(e):a.push(e)},u=function(e){o++;var s=!1;Ip(n(e,i++)).subscribe(Ep(t,function(e){t.next(e)},function(){s=!0},void 0,function(){if(s)try{o--;for(var e=function(){var e=a.shift();u(e)};a.length&&o<r;)e();l()}catch(e){t.error(e)}}))};return e.subscribe(Ep(t,c,function(){s=!0,l()})),function(){}}(t,r,e,n)}))}var kp=Object.defineProperty,_p=Object.defineProperties,Lp=Object.getOwnPropertyDescriptors,Mp=Object.getOwnPropertySymbols,Bp=Object.prototype.hasOwnProperty,jp=Object.prototype.propertyIsEnumerable,Np=(e,t,n)=>t in e?kp(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const Vp={prepareAnnotation:e=>{if((0,fe.isString)(null==e?void 0:e.query)){const n=e,{query:r}=n;return t=((e,t)=>{for(var n in t||(t={}))Bp.call(t,n)&&Np(e,n,t[n]);if(Mp)for(var n of Mp(t))jp.call(t,n)&&Np(e,n,t[n]);return e})({},((e,t)=>{var n={};for(var r in e)Bp.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Mp)for(var r of Mp(e))t.indexOf(r)<0&&jp.call(e,r)&&(n[r]=e[r]);return n})(n,["query"])),_p(t,Lp({target:{refId:"annotation_query",query:r},mappings:{}}))}var t;return e},prepareQuery:e=>e.target,processEvents:(e,t)=>function(e,t){return(0,x.of)(e).pipe(e=>e.pipe(Tp(e=>{if(!(null==e?void 0:e.length))return(0,x.of)(void 0);if(1===e.length)return(0,x.of)(e[0]);return(0,x.of)(e).pipe(c.standardTransformers.mergeTransformer.operator({},{interpolate:e=>e}),Op(e=>e[0]))})),Op(e=>{if(!(null==e?void 0:e.length))return[];let n=!1,r=!1;const a={};for(const t of e.fields)a[(0,c.getFieldDisplayName)(t,e).toLowerCase()]=t;t||(t={});const o=[];for(const i of $p){const s=t[i.key]||{};if(s.source===c.AnnotationEventFieldSource.Skip)continue;const l={key:i.key,split:i.split};if(s.source===c.AnnotationEventFieldSource.Text)l.text=s.value;else{const t=(s.value||i.key).toLowerCase();l.field=a[t],!l.field&&i.field&&(l.field=i.field(e))}(l.field||l.text)&&(o.push(l),"time"===l.key?n=!0:"text"===l.key&&(r=!0))}if(!n||!r)return console.error("Cannot process annotation fields. No time or text present."),[];const i=[];for(let t=0;t<e.length;t++){const e={type:"default",color:"red"};for(const n of o){let r;if(n.text)r=n.text;else if(n.field&&(r=n.field.values.get(t),void 0!==r&&n.regex)){const e=n.regex.exec(r);e&&(r=e[1]?e[1]:e[0])}null!=r&&(n.split&&"string"==typeof r&&(r=r.split(",")),e[n.key]=r)}i.push(e)}return i}))}(t,e.mappings)},Fp=[{key:"time",field:e=>e.fields.find(e=>e.type===c.FieldType.time),placeholder:"time, or the first time field"},{key:"timeEnd",help:"When this field is defined, the annotation will be treated as a range"},{key:"title"},{key:"text",field:e=>e.fields.find(e=>e.type===c.FieldType.string),placeholder:"text, or the first text field"},{key:"tags",split:",",help:"The results will be split on comma (,)"},{key:"id"}],$p=[...u.config.publicDashboardAccessToken?[{key:"color"},{key:"isRegion"},{key:"source"}]:[],...Fp,{key:"userId"},{key:"login"},{key:"email"},{key:"prevState"},{key:"newState"},{key:"data"},{key:"panelId"},{key:"alertId"},{key:"dashboardId"},{key:"dashboardUID"}],Up=["prometheus","loki","elasticsearch","grafana-opensearch-datasource"];var zp=Object.defineProperty,Wp=Object.defineProperties,Hp=Object.getOwnPropertyDescriptors,Gp=Object.getOwnPropertySymbols,qp=Object.prototype.hasOwnProperty,Qp=Object.prototype.propertyIsEnumerable,Yp=(e,t,n)=>t in e?zp(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Kp=(e,t)=>{for(var n in t||(t={}))qp.call(t,n)&&Yp(e,n,t[n]);if(Gp)for(var n of Gp(t))Qp.call(t,n)&&Yp(e,n,t[n]);return e},Xp=(e,t)=>Wp(e,Hp(t));let Zp=100;var Jp=Object.defineProperty,ef=Object.getOwnPropertySymbols,tf=Object.prototype.hasOwnProperty,nf=Object.prototype.propertyIsEnumerable,rf=(e,t,n)=>t in e?Jp(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function af(e){return"panel-alert"===e.eventType}var of=Object.defineProperty,sf=Object.defineProperties,lf=Object.getOwnPropertyDescriptors,cf=Object.getOwnPropertySymbols,uf=Object.prototype.hasOwnProperty,df=Object.prototype.propertyIsEnumerable,pf=(e,t,n)=>t in e?of(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ff=(e,t)=>{for(var n in t||(t={}))uf.call(t,n)&&pf(e,n,t[n]);if(cf)for(var n of cf(t))df.call(t,n)&&pf(e,n,t[n]);return e},hf=(e,t)=>sf(e,lf(t));class mf extends Bd{constructor(e){super(ff({isEnabled:!0},e),["query"]),this._scopedVars={__sceneObject:ir(this)}}onEnable(){this.publishEvent(new u.RefreshEvent,!0);const e=lu.getTimeRange(this);this._timeRangeSub=e.subscribeToState(()=>{this.runWithTimeRange(e)})}onDisable(){var e;this.publishEvent(new u.RefreshEvent,!0),null==(e=this._timeRangeSub)||e.unsubscribe()}runLayer(){me("AnnotationsDataLayer","run layer");const e=lu.getTimeRange(this);this.runWithTimeRange(e)}async runWithTimeRange(e){const{query:t}=this.state;if(this.querySub&&this.querySub.unsubscribe(),this._variableDependency.hasDependencyInLoadingState())me("AnnotationsDataLayer","Variable dependency is in loading state, skipping query execution");else try{let n=function(e,t,n,r){var a;if(e.annotationQuery&&function(e){const{type:t}=e;return!e.annotations||Up.includes(t)}(e))return console.warn("Using deprecated annotationQuery method, please upgrade your datasource"),(0,x.from)(e.annotationQuery({range:t.state.value,rangeRaw:t.state.value.raw,annotation:n,dashboard:{getVariables:(0,u.getTemplateSrv)().getVariables}})).pipe(Op(e=>({state:Ue.Done,events:e})));const o=Kp(Kp({},Vp),e.annotations),i=Kp(Kp({},null==(a=o.getDefaultQuery)?void 0:a.call(o)),n),s=o.prepareAnnotation(i);if(!s)return(0,x.of)({state:Ue.Done,events:[]});const l=o.prepareQuery(s);if(!l)return(0,x.of)({state:Ue.Done,events:[]});const d=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,p=c.rangeUtil.calculateInterval(t.state.value,d,e.interval),f={__interval:{text:p.interval,value:p.interval},__interval_ms:{text:p.intervalMs.toString(),value:p.intervalMs},__annotation:{text:s.name,value:s},__sceneObject:ir(r)},h=Kp(Xp(Kp({startTime:Date.now(),requestId:"AQ"+Zp++,range:t.state.value,maxDataPoints:d,scopedVars:f},p),{app:c.CoreApp.Dashboard,timezone:t.getTimeZone(),targets:[Xp(Kp({},l),{refId:"Anno"})]}),Cn(r));return(0,u.getRunRequest)()(e,h).pipe(Tp(e=>{const t=(null==e?void 0:e.series.length)?e.series:e.annotations;return(null==t?void 0:t.length)?(t.forEach(e=>{var t;(null==(t=e.meta)?void 0:t.dataTopic)||(e.meta=Xp(Kp({},e.meta||{}),{dataTopic:c.DataTopic.Annotations}))}),o.processEvents(s,t).pipe(Op(t=>({state:e.state,events:t||[]})))):(0,x.of)({state:e.state,events:[]})}))}(await this.resolveDataSource(t),e,t,this).pipe(en({type:"annotations",origin:this,cancel:()=>this.cancelQuery()}),(0,x.map)(e=>this.processEvents(t,e)));this.querySub=n.subscribe(e=>{this.publishResults(e)})}catch(e){this.publishResults(hf(ff({},Ye),{state:Ue.Error,errors:[{message:Rd(e)}]})),console.error("AnnotationsDataLayer error",e)}}async resolveDataSource(e){return await nn(e.datasource||void 0,this._scopedVars)}processEvents(e,t){let n=(r=e,a=t.events||[],r.snapshotData&&delete(r=(0,fe.cloneDeep)(r)).snapshotData,a.map(e=>{var t;const n=((e,t)=>{for(var n in t||(t={}))tf.call(t,n)&&rf(e,n,t[n]);if(ef)for(var n of ef(t))nf.call(t,n)&&rf(e,n,t[n]);return e})({},e);switch(n.source=r,n.color=u.config.theme2.visualization.getColorByName(r.iconColor),n.type=r.name,n.isRegion=Boolean(n.timeEnd&&n.time!==n.timeEnd),null==(t=n.newState)?void 0:t.toLowerCase()){case"pending":n.color="yellow";break;case"alerting":n.color="red";break;case"ok":case"normal":n.color="green";break;case"no_data":case"nodata":n.color="gray"}return n}));var r,a;n=function(e){let t=[];const n=(0,fe.partition)(e,"id"),r=(0,fe.groupBy)(n[0],"id");return t=(0,fe.map)(r,e=>e.length>1&&!(0,fe.every)(e,af)?(0,fe.find)(e,e=>"panel-alert"!==e.eventType):(0,fe.head)(e)),t=(0,fe.concat)(t,n[1]),t}(n);const o=hf(ff({},Ye),{state:t.state}),i=(0,c.arrayToDataFrame)(n);return i.meta=hf(ff({},i.meta),{dataTopic:c.DataTopic.Annotations}),o.series=[i],o}}mf.Component=function({model:e}){const{isHidden:t}=e.useState();return t?null:s().createElement(Nd,{layer:e})};class gf extends J{constructor(e){super(e),this._activationHandler=()=>{const e=this.getAncestorTimeRange();this.ancestorTimeRangeChanged(e.state),this._subs.add(e.subscribeToState(e=>this.ancestorTimeRangeChanged(e)))},this.addActivationHandler(this._activationHandler)}getAncestorTimeRange(){if(!this.parent||!this.parent.parent)throw new Error(typeof this+" must be used within $timeRange scope");return lu.getTimeRange(this.parent.parent)}getTimeZone(){return this.getAncestorTimeRange().getTimeZone()}onTimeRangeChange(e){this.getAncestorTimeRange().onTimeRangeChange(e)}onTimeZoneChange(e){this.getAncestorTimeRange().onTimeZoneChange(e)}onRefresh(){this.getAncestorTimeRange().onRefresh()}}var bf=Object.defineProperty,vf=Object.defineProperties,yf=Object.getOwnPropertyDescriptors,wf=Object.getOwnPropertySymbols,Ef=Object.prototype.hasOwnProperty,Sf=Object.prototype.propertyIsEnumerable,Of=(e,t,n)=>t in e?bf(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Cf=(e,t)=>{for(var n in t||(t={}))Ef.call(t,n)&&Of(e,n,t[n]);if(wf)for(var n of wf(t))Sf.call(t,n)&&Of(e,n,t[n]);return e},Af=(e,t)=>vf(e,yf(t));class xf extends gf{constructor(e){super(Af(Cf({},e),{timeZone:e.timeZone,from:"now-6h",to:"now",value:(0,c.getDefaultTimeRange)()}))}ancestorTimeRangeChanged(e){this.setState(Af(Cf({},e),{timeZone:this.state.timeZone,value:Je(e.from,e.to,this.state.timeZone,e.fiscalYearStartMonth,e.UNSAFE_nowDelay,e.weekStart)}))}getTimeZone(){return this.state.timeZone}onTimeZoneChange(e){const t=this.getAncestorTimeRange();this.setState({timeZone:e,value:Je(t.state.from,t.state.to,e,t.state.fiscalYearStartMonth,t.state.UNSAFE_nowDelay,t.state.weekStart)})}}class Df extends J{constructor(e){super({source:e.source,data:e.source.resolve().state.data}),this.addActivationHandler(()=>{this._subs.add(this.state.source.resolve().subscribeToState((e,t)=>{e.data!==t.data&&this.setState({data:e.data})}))})}setContainerWidth(e){var t,n;null==(n=(t=this.state.source.resolve()).setContainerWidth)||n.call(t,e)}isDataReadyToDisplay(){var e,t,n;return null==(n=null==(t=(e=this.state.source.resolve()).isDataReadyToDisplay)?void 0:t.call(e))||n}cancelQuery(){var e,t;null==(t=(e=this.state.source.resolve()).cancelQuery)||t.call(e)}getResultsStream(){return this.state.source.resolve().getResultsStream()}}var Pf=Object.defineProperty,If=Object.defineProperties,Rf=Object.getOwnPropertyDescriptors,Tf=Object.getOwnPropertySymbols,kf=Object.prototype.hasOwnProperty,_f=Object.prototype.propertyIsEnumerable,Lf=(e,t,n)=>t in e?Pf(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;class Mf extends J{constructor(){super(...arguments),this.isDataLayer=!0,this._results=new x.ReplaySubject(1),this._dataLayersMerger=new Il}subscribeToAllLayers(e){e.length>0?this.querySub=this._dataLayersMerger.getMergedStream(e).subscribe(this._onLayerUpdateReceived.bind(this)):(this._results.next({origin:this,data:Ye}),this.setStateHelper({data:Ye}))}_onLayerUpdateReceived(e){var t;let n=[];for(const r of e)(null==(t=r.data)?void 0:t.series)&&(n=n.concat(r.data.series));const r=(a=((e,t)=>{for(var n in t||(t={}))kf.call(t,n)&&Lf(e,n,t[n]);if(Tf)for(var n of Tf(t))_f.call(t,n)&&Lf(e,n,t[n]);return e})({},Ye),If(a,Rf({series:n})));var a;this._results.next({origin:this,data:r}),this.setStateHelper({data:r})}getResultsStream(){return this._results}cancelQuery(){var e;null==(e=this.querySub)||e.unsubscribe()}setStateHelper(e){_t(this,e)}}class Bf extends Mf{constructor(e){var t,n;super({name:null!=(t=e.name)?t:"Data layers",layers:null!=(n=e.layers)?n:[]}),this.addActivationHandler(()=>this._onActivate())}_onActivate(){return this._subs.add(this.subscribeToState((e,t)=>{var n;e.layers!==t.layers&&(null==(n=this.querySub)||n.unsubscribe(),this.subscribeToAllLayers(e.layers))})),this.subscribeToAllLayers(this.state.layers),()=>{var e;null==(e=this.querySub)||e.unsubscribe()}}}Bf.Component=({model:e})=>{const{layers:t}=e.useState();return s().createElement(s().Fragment,null,t.map(e=>s().createElement(e.Component,{model:e,key:e.state.key})))};var jf=Object.defineProperty,Nf=Object.defineProperties,Vf=Object.getOwnPropertyDescriptors,Ff=Object.getOwnPropertySymbols,$f=Object.prototype.hasOwnProperty,Uf=Object.prototype.propertyIsEnumerable,zf=(e,t,n)=>t in e?jf(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Wf=(e,t)=>{for(var n in t||(t={}))$f.call(t,n)&&zf(e,n,t[n]);if(Ff)for(var n of Ff(t))Uf.call(t,n)&&zf(e,n,t[n]);return e},Hf=(e,t)=>Nf(e,Vf(t));class Gf extends J{constructor(e){super(e),this._results=new x.ReplaySubject(1),this._variableDependency=new Pc(this,{statePaths:["transformations"],onReferencedVariableValueChanged:()=>this.reprocessTransformations()}),this.addActivationHandler(()=>this.activationHandler())}activationHandler(){const e=this.getSourceData();return this._subs.add(e.subscribeToState(e=>this.transform(e.data))),e.state.data&&this.transform(e.state.data),()=>{this._transformSub&&this._transformSub.unsubscribe()}}getSourceData(){if(this.state.$data){if(this.state.$data instanceof Bf)throw new Error("SceneDataLayerSet can not be used as data provider for SceneDataTransformer.");return this.state.$data}if(!this.parent||!this.parent.parent)throw new Error("SceneDataTransformer must either have $data set on it or have a parent.parent with $data");return lu.getData(this.parent.parent)}setContainerWidth(e){this.state.$data&&this.state.$data.setContainerWidth&&this.state.$data.setContainerWidth(e)}isDataReadyToDisplay(){const e=this.getSourceData();return!e.isDataReadyToDisplay||e.isDataReadyToDisplay()}reprocessTransformations(){this.transform(this.getSourceData().state.data,!0)}cancelQuery(){var e,t;null==(t=(e=this.getSourceData()).cancelQuery)||t.call(e)}getResultsStream(){return this._results}clone(e){const t=super.clone(e);return this._prevDataFromSource&&(t._prevDataFromSource=this._prevDataFromSource),t}haveAlreadyTransformedData(e){if(!this._prevDataFromSource)return!1;if(e===this._prevDataFromSource)return!0;const{series:t,annotations:n}=this._prevDataFromSource;return e.series===t&&e.annotations===n&&(this.state.data&&e.state!==this.state.data.state&&this.setState({data:Hf(Wf({},this.state.data),{state:e.state})}),!0)}transform(e,t=!1){var n;if(0===this.state.transformations.length||!e)return this._prevDataFromSource=e,this.setState({data:e}),void(e&&this._results.next({origin:this,data:e}));if(!t&&this.haveAlreadyTransformedData(e))return;const r=this.state.transformations.filter(e=>!("options"in e)&&!("topic"in e)||null==e.topic||e.topic===c.DataTopic.Series).map(e=>"operator"in e?e.operator:e),a=this.state.transformations.filter(e=>("options"in e||"topic"in e)&&e.topic===c.DataTopic.Annotations).map(e=>"operator"in e?e.operator:e);this._transformSub&&this._transformSub.unsubscribe();const o={interpolate:t=>{var n;return lu.interpolate(this,t,null==(n=e.request)?void 0:n.scopedVars)}};let i=[(0,c.transformDataFrame)(r,e.series,o)];e.annotations&&e.annotations.length>0&&a.length>0&&i.push((0,c.transformDataFrame)(a,null!=(n=e.annotations)?n:[])),this._transformSub=(0,x.forkJoin)(i).pipe((0,x.map)(t=>{const n=t[0],r=t[1];return Hf(Wf({},e),{series:n,annotations:null!=r?r:e.annotations})}),(0,x.catchError)(t=>{var n;console.error("Error transforming data: ",t);const r=(null==(n=this.getSourceData().state.data)?void 0:n.errors)||[],a=(0,u.toDataQueryError)(t);a.message=`Error transforming data: ${a.message}`;const o=Hf(Wf({},e),{state:c.LoadingState.Error,errors:[...r,a]});return(0,x.of)(o)})).subscribe(t=>{this.setState({data:t}),this._results.next({origin:this,data:t}),this._prevDataFromSource=e})}}class qf extends J{}function Qf({variable:e,layout:t,showAlways:n,hideLabel:r}){return ee(e,{shouldActivateOrKeepAlive:!0}).hide!==c.VariableHide.hideVariable||n?"vertical"===t?s().createElement("div",{className:Xf,"data-testid":jn.pages.Dashboard.SubMenu.submenuItem},s().createElement(Yf,{variable:e,layout:t,hideLabel:r}),s().createElement(e.Component,{model:e})):s().createElement("div",{className:Kf,"data-testid":jn.pages.Dashboard.SubMenu.submenuItem},s().createElement(Yf,{variable:e,hideLabel:r}),s().createElement(e.Component,{model:e})):null}function Yf({variable:e,layout:t,hideLabel:n}){var r;const{state:a}=e;if(e.state.hide===c.VariableHide.hideLabel||n)return null;const o=`var-${a.key}`,i=a.label||a.name;return s().createElement(yr,{htmlFor:o,isLoading:a.loading,onCancel:()=>{var t;return null==(t=e.onCancel)?void 0:t.call(e)},label:i,error:a.error,layout:t,description:null!=(r=a.description)?r:void 0})}qf.Component=function({model:e}){const t=lu.getVariables(e).useState();return s().createElement(s().Fragment,null,t.variables.map(t=>s().createElement(Qf,{key:t.state.key,variable:t,layout:e.state.layout})))};const Kf=(0,Nn.css)({display:"flex","> :nth-child(2)":(0,Nn.css)({borderTopLeftRadius:0,borderBottomLeftRadius:0})}),Xf=(0,Nn.css)({display:"flex",flexDirection:"column"});class Zf extends J{}Zf.Component=function({model:e}){const t=lu.lookupVariable(e.state.variableName,e);return t?s().createElement(Qf,{key:t.state.key,variable:t,layout:e.state.layout,showAlways:!0}):null};class Jf extends J{constructor(e){super(e),this._variablesThatHaveChanged=new Set,this._variablesToUpdate=new Set,this._updating=new Map,this._variableValueRecorder=new rn,this._variableDependency=new th(this._handleParentVariableUpdatesCompleted.bind(this)),this._onActivate=()=>{const e=lu.getTimeRange(this);this._subs.add(this.subscribeToEvent(pt,e=>this._handleVariableValueChanged(e.payload))),this._subs.add(e.subscribeToState(()=>{this._refreshTimeRangeBasedVariables()})),this._subs.add(this.subscribeToState(this._onStateChanged)),this._checkForVariablesThatChangedWhileInactive();for(const e of this.state.variables)this._variableNeedsUpdate(e)&&this._variablesToUpdate.add(e);return this._updateNextBatch(),this._onDeactivate},this._onDeactivate=()=>{var e;for(const t of this._updating.values())null==(e=t.subscription)||e.unsubscribe();for(const e of this.state.variables)this._variablesToUpdate.has(e)||this._updating.has(e)||this._variableValueRecorder.recordCurrentValue(e);this._variablesToUpdate.clear(),this._updating.clear()},this._onStateChanged=(e,t)=>{const n=this._variablesToUpdate.size;for(const n of t.variables)if(!e.variables.includes(n)){const e=this._updating.get(n);(null==e?void 0:e.subscription)&&e.subscription.unsubscribe(),this._updating.delete(n),this._variablesToUpdate.delete(n)}for(const n of e.variables)t.variables.includes(n)||this._variableNeedsUpdate(n)&&this._variablesToUpdate.add(n);0===n&&this._variablesToUpdate.size>0&&this._updateNextBatch()},this.addActivationHandler(this._onActivate)}getByName(e){return this.state.variables.find(t=>t.state.name===e)}_refreshTimeRangeBasedVariables(){for(const e of this.state.variables)"refresh"in e.state&&e.state.refresh===c.VariableRefresh.onTimeRangeChanged&&this._variablesToUpdate.add(e);this._updateNextBatch()}_checkForVariablesThatChangedWhileInactive(){if(this._variableValueRecorder.hasValues())for(const e of this.state.variables)this._variableValueRecorder.hasValueChanged(e)&&(eh(e,"Changed while in-active"),this._addDependentVariablesToUpdateQueue(e))}_variableNeedsUpdate(e){return!(e.isLazy||!e.validateAndUpdate||this._variableValueRecorder.hasRecordedValue(e)&&(eh(e,"Skipping updateAndValidate current value valid"),1))}_updateNextBatch(){for(const e of this._variablesToUpdate){if(!e.validateAndUpdate)throw new Error("Variable added to variablesToUpdate but does not have validateAndUpdate");if(this._updating.has(e))continue;if(lu.hasVariableDependencyInLoadingState(e))continue;const t={variable:e};this._updating.set(e,t),eh(e,"updateAndValidate started"),t.subscription=e.validateAndUpdate().subscribe({next:()=>this._validateAndUpdateCompleted(e),complete:()=>this._validateAndUpdateCompleted(e),error:t=>this._handleVariableError(e,t)})}}_validateAndUpdateCompleted(e){var t;if(!this._updating.has(e))return;const n=this._updating.get(e);null==(t=null==n?void 0:n.subscription)||t.unsubscribe(),this._updating.delete(e),this._variablesToUpdate.delete(e),eh(e,"updateAndValidate completed"),this._notifyDependentSceneObjects(e),this._updateNextBatch()}cancel(e){var t;const n=this._updating.get(e);null==(t=null==n?void 0:n.subscription)||t.unsubscribe(),this._updating.delete(e),this._variablesToUpdate.delete(e)}_handleVariableError(e,t){var n;const r=this._updating.get(e);null==(n=null==r?void 0:r.subscription)||n.unsubscribe(),this._updating.delete(e),this._variablesToUpdate.delete(e),e.setState({loading:!1,error:t.message}),console.error("SceneVariableSet updateAndValidate error",t),eh(e,"updateAndValidate error",t),this._notifyDependentSceneObjects(e),this._updateNextBatch()}_handleVariableValueChanged(e){this._variablesThatHaveChanged.add(e),this._addDependentVariablesToUpdateQueue(e),this._updating.has(e)||(this._updateNextBatch(),this._notifyDependentSceneObjects(e))}_handleParentVariableUpdatesCompleted(e,t){t&&this._addDependentVariablesToUpdateQueue(e),this._variablesToUpdate.size>0&&0===this._updating.size&&this._updateNextBatch()}_addDependentVariablesToUpdateQueue(e){for(const t of this.state.variables)t.variableDependency&&t.variableDependency.hasDependencyOn(e.state.name)&&(eh(t,"Added to update queue, dependant variable value changed"),this._updating.has(t)&&t.onCancel&&t.onCancel(),this._variablesToUpdate.add(t))}_notifyDependentSceneObjects(e){this.parent&&(this._traverseSceneAndNotify(this.parent,e,this._variablesThatHaveChanged.has(e)),this._variablesThatHaveChanged.delete(e))}_traverseSceneAndNotify(e,t,n){if(this!==e&&e.isActive){if(e.state.$variables&&e.state.$variables!==this){const n=e.state.$variables.getByName(t.state.name);if(null==n?void 0:n.isAncestorLoading)t=n;else if(n)return}e.variableDependency&&e.variableDependency.variableUpdateCompleted(t,n),e.forEachChild(e=>this._traverseSceneAndNotify(e,t,n))}}isVariableLoadingOrWaitingToUpdate(e){return!(!e.isAncestorLoading||!e.isAncestorLoading())||!(!this._variablesToUpdate.has(e)&&!this._updating.has(e))||lu.hasVariableDependencyInLoadingState(e)}}function eh(e,t,n){n?me("SceneVariableSet",`Variable[${e.state.name}]: ${t}`,n):me("SceneVariableSet",`Variable[${e.state.name}]: ${t}`)}class th{constructor(e){this._variableUpdatesCompleted=e,this._emptySet=new Set}getNames(){return this._emptySet}hasDependencyOn(e){return!1}variableUpdateCompleted(e,t){this._variableUpdatesCompleted(e,t)}}var nh=Object.defineProperty,rh=Object.getOwnPropertySymbols,ah=Object.prototype.hasOwnProperty,oh=Object.prototype.propertyIsEnumerable,ih=(e,t,n)=>t in e?nh(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;class sh extends Mt{constructor(e){super(((e,t)=>{for(var n in t||(t={}))ah.call(t,n)&&ih(e,n,t[n]);if(rh)for(var n of rh(t))oh.call(t,n)&&ih(e,n,t[n]);return e})({type:"custom",query:"",value:"",text:"",options:[],name:""},e)),this._variableDependency=new Pc(this,{statePaths:["query"]})}getValueOptions(e){var t;const n=(null!=(t=lu.interpolate(this,this.state.query).match(/(?:\\,|[^,])+/g))?t:[]).map(e=>{var t;e=e.replace(/\\,/g,",");const n=null!=(t=/^(.+)\s:\s(.+)$/g.exec(e))?t:[];if(3===n.length){const[,e,t]=n;return{label:e.trim(),value:t.trim()}}return{label:e.trim(),value:e.trim()}});return n.length||(this.skipNextValidation=!0),(0,x.of)(n)}}sh.Component=({model:e})=>er(e);var lh=Object.defineProperty,ch=Object.getOwnPropertySymbols,uh=Object.prototype.hasOwnProperty,dh=Object.prototype.propertyIsEnumerable,ph=(e,t,n)=>t in e?lh(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;class fh extends Mt{constructor(e){super(((e,t)=>{for(var n in t||(t={}))uh.call(t,n)&&ph(e,n,t[n]);if(ch)for(var n of ch(t))dh.call(t,n)&&ph(e,n,t[n]);return e})({type:"datasource",value:"",text:"",options:[],name:"",regex:"",pluginId:""},e)),this._variableDependency=new Pc(this,{statePaths:["regex"]})}getValueOptions(e){if(!this.state.pluginId)return(0,x.of)([]);const t=(0,u.getDataSourceSrv)().getList({metrics:!0,variables:!1,pluginId:this.state.pluginId});let n;if(this.state.regex){const e=lu.interpolate(this,this.state.regex,void 0,"regex");n=(0,c.stringToJsRegex)(e)}const r=[];for(let e=0;e<t.length;e++){const a=t[e];hh(a,n)&&r.push({label:a.name,value:a.uid}),this.state.defaultOptionEnabled&&mh(a,n)&&r.push({label:"default",value:"default"})}return 0===r.length?this.setState({error:"No data sources found"}):this.state.error&&this.setState({error:null}),(0,x.of)(r)}}function hh(e,t){return!t||t.exec(e.name)}function mh(e,t){return!!e.isDefault&&(!t||t.exec("default"))}function gh(e,t){const n=["A","B","C","D","E","F","G","H"],r=[];if(t>5)return[];for(const a of n){const n=`${e}${a}`;r.push({name:n,children:gh(n,t+1)})}return r}function bh(e,t,n){if(n>=t.length)return e;if("*"===t[n])return e;const r=t[n];let a=[],o=[r];r.startsWith("{")&&(o=r.replace(/\{|\}/g,"").split(","));for(const r of e)for(const e of o)if(-1!==e.indexOf("*")){const o=e.replace("*","");new RegExp(`^${o}.*`,"gi").test(r.name)&&(a=a.concat(bh([r],t,n+1)))}else r.name===e&&(a=a.concat(bh(r.children,t,n+1)));return a}function vh(e){return 0===e.indexOf("value")?[{name:e,children:[]}]:bh(gh("",0),e.split("."),0)}fh.Component=({model:e})=>er(e);var yh=Object.defineProperty,wh=Object.getOwnPropertySymbols,Eh=Object.prototype.hasOwnProperty,Sh=Object.prototype.propertyIsEnumerable,Oh=(e,t,n)=>t in e?yh(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;class Ch extends Mt{constructor(e,t=!1){super(((e,t)=>{for(var n in t||(t={}))Eh.call(t,n)&&Oh(e,n,t[n]);if(wh)for(var n of wh(t))Sh.call(t,n)&&Oh(e,n,t[n]);return e})({type:"custom",name:"Test",value:"Value",text:"Text",query:"Query",options:[],refresh:c.VariableRefresh.onDashboardLoad,updateOptions:!0},e)),this.completeUpdate=new x.Subject,this.isGettingValues=!0,this.getValueOptionsCount=0,this.isLazy=!1,this._variableDependency=new Pc(this,{statePaths:["query"]}),this.isLazy=t}getValueOptions(e){const{delayMs:t}=this.state;this.getValueOptionsCount+=1;const n=lu.getQueryController(this);return new x.Observable(e=>{const r={type:"variable",origin:this,cancel:()=>e.complete()};if(n&&n.queryStarted(r),this.setState({loading:!0}),this.state.throwError)throw new Error(this.state.throwError);const a=lu.interpolate(this,this.state.query),o=this.getOptions(a),i=this.completeUpdate.subscribe({next:()=>{const t={issuedQuery:a,loading:!1};this.state.updateOptions&&(t.options=o),this.setState(t),e.next(o),e.complete()}});let s;return t?s=window.setTimeout(()=>this.signalUpdateCompleted(),t):0===t&&this.signalUpdateCompleted(),this.isGettingValues=!0,()=>{i.unsubscribe(),window.clearTimeout(s),this.isGettingValues=!1,this.state.loading&&this.setState({loading:!1}),n&&n.queryCompleted(r)}})}cancel(){const e=ce(this,e=>e instanceof Jf?e:void 0);null==e||e.cancel(this)}getOptions(e){return this.state.optionsToReturn?this.state.optionsToReturn:vh(e).map(e=>({label:e.name,value:e.name}))}signalUpdateCompleted(){this.completeUpdate.next(1)}}function Ah({model:e}){const{value:t,key:n,loading:r}=e.useState(),a=(0,o.useCallback)(t=>{e.setValue(t.currentTarget.value)},[e]),i=(0,o.useCallback)(t=>{"Enter"===t.key&&e.setValue(t.currentTarget.value)},[e]);return s().createElement(Pn.AutoSizeInput,{id:n,placeholder:"Enter value",minWidth:15,maxWidth:30,value:t,loading:r,onBlur:a,onKeyDown:i})}Ch.Component=({model:e})=>er(e);var xh=Object.defineProperty,Dh=Object.getOwnPropertySymbols,Ph=Object.prototype.hasOwnProperty,Ih=Object.prototype.propertyIsEnumerable,Rh=(e,t,n)=>t in e?xh(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;class Th extends J{constructor(e){super(((e,t)=>{for(var n in t||(t={}))Ph.call(t,n)&&Rh(e,n,t[n]);if(Dh)for(var n of Dh(t))Ih.call(t,n)&&Rh(e,n,t[n]);return e})({type:"textbox",value:"",name:""},e)),this._urlSync=new Ke(this,{keys:()=>[this.getKey()]})}getValue(){return this.state.value}setValue(e){e!==this.state.value&&(this.setState({value:e}),this.publishEvent(new pt(this),!0))}getKey(){return`var-${this.state.name}`}getUrlState(){return{[this.getKey()]:this.state.value}}updateFromUrl(e){const t=e[this.getKey()];"string"==typeof t&&this.setValue(t)}}Th.Component=({model:e})=>s().createElement(Ah,{model:e});var kh=Object.defineProperty,_h=Object.defineProperties,Lh=Object.getOwnPropertyDescriptors,Mh=Object.getOwnPropertySymbols,Bh=Object.prototype.hasOwnProperty,jh=Object.prototype.propertyIsEnumerable,Nh=(e,t,n)=>t in e?kh(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;class Vh extends J{constructor(e){var t;super((t=((e,t)=>{for(var n in t||(t={}))Bh.call(t,n)&&Nh(e,n,t[n]);if(Mh)for(var n of Mh(t))jh.call(t,n)&&Nh(e,n,t[n]);return e})({type:"system",value:"",text:"",name:""},e),_h(t,Lh({skipUrlSync:!0}))))}getValue(){return this.state.value}getValueText(){return this.state.text.toString()}isAncestorLoading(){var e,t;const n=null==(t=null==(e=this.parent)?void 0:e.parent)?void 0:t.parent;if(!n)throw new Error("LocalValueVariable requires a parent SceneVariableSet that has an ancestor SceneVariableSet");const r=lu.getVariables(n),a=lu.lookupVariable(this.state.name,n);return!(!r||!a)&&r.isVariableLoadingOrWaitingToUpdate(a)}}var Fh=Object.defineProperty,$h=Object.getOwnPropertySymbols,Uh=Object.prototype.hasOwnProperty,zh=Object.prototype.propertyIsEnumerable,Wh=(e,t,n)=>t in e?Fh(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;class Hh extends J{constructor(e){super(((e,t)=>{for(var n in t||(t={}))Uh.call(t,n)&&Wh(e,n,t[n]);if($h)for(var n of $h(t))zh.call(t,n)&&Wh(e,n,t[n]);return e})({type:"interval",value:"",intervals:["1m","10m","30m","1h","6h","12h","1d","7d","14d","30d"],name:"",autoStepCount:30,autoMinInterval:"10s",autoEnabled:!1,refresh:gu.onTimeRangeChanged},e)),this._onChange=e=>{this.setState({value:e.value}),this.publishEvent(new pt(this),!0)},this._urlSync=new Ke(this,{keys:()=>[this.getKey()]})}getKey(){return`var-${this.state.name}`}getUrlState(){return{[this.getKey()]:this.state.value}}updateFromUrl(e){const t={},n=e[this.getKey()];"string"==typeof n&&(n.startsWith("$__auto_interval_")?t.value=Pt:t.value=n),this.setState(t)}getOptionsForSelect(){const{value:e,intervals:t,autoEnabled:n}=this.state;let r=t.map(e=>({value:e,label:e}));return n&&(r=[{value:Pt,label:"Auto"},...r]),e&&!r.some(t=>t.value===e)&&r.push({value:e,label:e}),r}getValue(){const{value:e,autoStepCount:t,autoMinInterval:n}=this.state;return e===Pt?this.getAutoRefreshInteval(t,n):e}getAutoRefreshInteval(e,t){const n=lu.getTimeRange(this).state.value;return c.rangeUtil.calculateInterval(n,e,t).interval}validateAndUpdate(){const{value:e,intervals:t}=this.state;let n=!1;if(e===Pt)n=!0;else if(!e&&t.length>0){const e=t[0];this.setState({value:e}),n=!0}return n&&this.publishEvent(new pt(this),!0),(0,x.of)({})}}Hh.Component=({model:e})=>{const{key:t,value:n}=e.useState();return s().createElement(Pn.Select,{id:t,placeholder:"Select value",width:"auto",value:n,tabSelectsValue:!1,options:e.getOptionsForSelect(),onChange:e._onChange})};var Gh,qh,Qh=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},Yh=(e,t,n)=>(Qh(e,t,"read from private field"),n?n.call(e):t.get(e)),Kh=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},Xh=(e,t,n,r)=>(Qh(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n);class Zh extends c.BusEventWithPayload{}Zh.type="new-scene-object-added";class Jh{constructor(e={},t=u.locationService){this._urlKeyMapper=new cu,this._options=e,this._locationService=t,this._paramsCache=new em(t)}initSync(e){var t;if(this._subs&&(me("UrlSyncManager","Unregister previous scene state subscription",null==(t=this._sceneRoot)?void 0:t.state.key),this._subs.unsubscribe()),me("UrlSyncManager","init",e.state.key),this._sceneRoot=e,this._subs=new x.Subscription,this._subs.add(e.subscribeToEvent(U,e=>{this.handleSceneObjectStateChanged(e.payload.changedObject)})),this._subs.add(e.subscribeToEvent(Zh,e=>{this.handleNewObject(e.payload)})),this._urlKeyMapper.clear(),this._lastLocation=this._locationService.getLocation(),this.handleNewObject(this._sceneRoot),this._options.updateUrlOnInit){const t=du(e);(function(e,t){for(let n in e)if(!hu(t.getAll(n),e[n]))return!0;return!1})(t,this._paramsCache.getParams())&&this._locationService.partial(t,!0)}}cleanUp(e){this._sceneRoot===e&&(me("UrlSyncManager","Clean up"),this._subs&&(this._subs.unsubscribe(),this._subs=void 0,me("UrlSyncManager","Root deactived, unsub to state","same key",this._sceneRoot.state.key===e.state.key)),this._sceneRoot=void 0,this._lastLocation=void 0)}handleNewLocation(e){this._sceneRoot&&this._lastLocation!==e&&(me("UrlSyncManager","handleNewLocation"),this._lastLocation=e,pu(this._sceneRoot,this._paramsCache.getParams(),this._urlKeyMapper))}handleNewObject(e){this._sceneRoot&&pu(e,this._paramsCache.getParams(),this._urlKeyMapper)}handleSceneObjectStateChanged(e){var t,n;if(!e.urlSync)return;const r=e.urlSync.getUrlState(),a=this._locationService.getSearch(),o={};for(const[t,n]of Object.entries(r)){const r=this._urlKeyMapper.getUniqueKey(t,e);hu(a.getAll(r),n)||(o[r]=n)}if(Object.keys(o).length>0){const a=!0!==(null==(n=(t=e.urlSync).shouldCreateHistoryStep)?void 0:n.call(t,r));me("UrlSyncManager","onStateChange updating URL"),this._locationService.partial(o,a),this._lastLocation=this._locationService.getLocation()}}getUrlState(e){return du(e)}}class em{constructor(e){this.locationService=e,Kh(this,Gh,void 0),Kh(this,qh,void 0)}getParams(){const e=this.locationService.getLocation();return Yh(this,qh)===e||(Xh(this,qh,e),Xh(this,Gh,new URLSearchParams(e.search))),Yh(this,Gh)}}function tm(e,t={}){const n=(0,l.useLocation)(),r=Lt(),[a,i]=(0,o.useState)(!1),s=function(e,t){return(0,o.useMemo)(()=>new Jh({updateUrlOnInit:e.updateUrlOnInit,createBrowserHistorySteps:e.createBrowserHistorySteps},t),[e.updateUrlOnInit,e.createBrowserHistorySteps,t])}(t,r);return(0,o.useEffect)(()=>(s.initSync(e),i(!0),()=>s.cleanUp(e)),[e,s]),(0,o.useEffect)(()=>{const e=r.getLocation(),t=e!==n?e:n;e!==n&&me("useUrlSync","latestLocation different from location"),s.handleNewLocation(t)},[e,s,n,r]),a}function nm({children:e,scene:t,updateUrlOnInit:n,createBrowserHistorySteps:r}){return tm(t,{updateUrlOnInit:n,createBrowserHistorySteps:r})?e:null}Gh=new WeakMap,qh=new WeakMap;class rm extends J{constructor(e){super(e),this.addActivationHandler(()=>{const e=function(e){const t=window.__grafanaSceneContext;return me("setWindowGrafanaScene","set window.__grafanaSceneContext",e),window.__grafanaSceneContext=e,()=>{window.__grafanaSceneContext===e&&(me("setWindowGrafanaScene","restore window.__grafanaSceneContext",t),window.__grafanaSceneContext=t)}}(this);return()=>{e()}})}}rm.Component=function({model:e}){const{body:t,controls:n}=e.useState(),r=(0,Pn.useStyles2)(am);return s().createElement("div",{className:r.container},n&&s().createElement("div",{className:r.controls},n.map(e=>s().createElement(e.Component,{key:e.state.key,model:e}))),s().createElement("div",{className:r.body},s().createElement(t.Component,{model:t})))};const am=e=>({container:(0,Nn.css)({flexGrow:1,display:"flex",gap:e.spacing(2),minHeight:"100%",flexDirection:"column"}),body:(0,Nn.css)({flexGrow:1,display:"flex",gap:e.spacing(1)}),controls:(0,Nn.css)({display:"flex",gap:e.spacing(2),alignItems:"flex-end",flexWrap:"wrap"})});class om extends J{addItem(e){this.setState({items:this.state.items?[...this.state.items,e]:[e]})}setItems(e){this.setState({items:e})}}async function im(e,t,n,r){var a,o,i,s;const l=null==(a=e.request)?void 0:a.targets;if(!l)return"";const{from:c,to:d}=n,p=null==(o=e.request)?void 0:o.filters,f={__sceneObject:ir(t)},h=(await Promise.allSettled(l.map(async e=>{var t;const n=await(0,u.getDataSourceSrv)().get(e.datasource);return(null==(t=n.interpolateVariablesInQueries)?void 0:t.call(n,[e],null!=f?f:{},p)[0])||e}))).filter(e=>"fulfilled"===e.status).map(e=>e.value).map(e=>{var t;return null!=(t=null==r?void 0:r(e))?t:e}),m=null!=h?h:[],g=null==(s=null==(i=m.find(e=>{var t;return!!(null==(t=e.datasource)?void 0:t.uid)}))?void 0:i.datasource)?void 0:s.uid;return(null==m?void 0:m.length)&&g&&c&&d?`/explore?left=${encodeURIComponent(JSON.stringify({datasource:g,queries:m,range:{from:c,to:d}}))}`:""}om.Component=function({model:e}){const{items:t=[]}=e.useState(),n=s().useRef(null);(0,o.useEffect)(()=>{n.current&&n.current.focus()},[]);const r=e=>e.map(e=>{switch(e.type){case"divider":return s().createElement(Pn.Menu.Divider,{key:e.text});case"group":return s().createElement(Pn.Menu.Group,{key:e.text,label:e.text},e.subMenu?r(e.subMenu):void 0);default:return s().createElement(Pn.Menu.Item,{key:e.text,label:e.text,icon:e.iconClassName,childItems:e.subMenu?r(e.subMenu):void 0,url:e.href,onClick:e.onClick,shortcut:e.shortcut,testId:jn.components.Panels.Panel.menuItems(e.text)})}});return s().createElement(Pn.Menu,{ref:n},r(t))};class sm extends J{constructor(e={}){super({options:e})}}sm.Component=function({model:e}){const{options:t}=e.useState(),{data:n}=lu.getData(e).useState(),{from:r,to:a}=lu.getTimeRange(e).useState(),{value:i}=function(i,s){void 0===s&&(s=[]);var l=function(e,t,n){void 0===t&&(t=[]),void 0===n&&(n={loading:!1});var r,a,i=(0,o.useRef)(0),s=(r=(0,o.useRef)(!1),a=(0,o.useCallback)(function(){return r.current},[]),(0,o.useEffect)(function(){return r.current=!0,function(){r.current=!1}},[]),a),l=(0,o.useState)(n),c=l[0],u=l[1],d=(0,o.useCallback)(function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=++i.current;return c.loading||u(function(e){return Wd(Wd({},e),{loading:!0})}),e.apply(void 0,t).then(function(e){return s()&&r===i.current&&u({value:e,loading:!1}),e},function(e){return s()&&r===i.current&&u({error:e,loading:!1}),e})},t);return[c,d]}(async()=>n?im(n,e,{from:r,to:a},t.transform):"",s,{loading:!0}),c=l[0],u=l[1];return(0,o.useEffect)(function(){u()},[u]),c}(0,[n,e,r,a]),l=(0,u.useReturnToPrevious)();return i?s().createElement(Pn.LinkButton,{key:"explore",icon:"compass",size:"sm",variant:"secondary",href:i,onClick:()=>{var e;t.returnToPrevious&&l(t.returnToPrevious.title,t.returnToPrevious.href),null==(e=t.onClick)||e.call(t)}},"Explore"):null};class lm extends J{}function cm(e){return e instanceof lg}lm.Component=function({model:e}){const{body:t}=e.useState(),n=e.parent;if(n&&!(n instanceof Xm)&&!cm(n))throw new Error("SceneGridItem must be a child of SceneGridLayout or SceneGridRow");return t?s().createElement(t.Component,{model:t}):null};var um=n(2548),dm=n.n(um);var pm=Object.defineProperty,fm=Object.getOwnPropertySymbols,hm=Object.prototype.hasOwnProperty,mm=Object.prototype.propertyIsEnumerable,gm=(e,t,n)=>t in e?pm(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function bm(){const e=(0,o.useRef)(void 0);return null!=e.current||(e.current=(0,fe.uniqueId)()),e.current}const vm=s().forwardRef((e,t)=>{var n=e,{children:r,onLoad:a,onChange:i,className:l}=n,c=((e,t)=>{var n={};for(var r in e)hm.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&fm)for(var r of fm(e))t.indexOf(r)<0&&mm.call(e,r)&&(n[r]=e[r]);return n})(n,["children","onLoad","onChange","className"]);const u=bm(),{hideEmpty:d}=(0,Pn.useStyles2)(ym),[p,f]=(0,o.useState)(!1),[h,m]=(0,o.useState)(!1),g=(0,o.useRef)(null);return(0,o.useImperativeHandle)(t,()=>g.current),b=()=>{vm.addCallback(u,e=>{!p&&e.isIntersecting&&(f(!0),null==a||a()),m(e.isIntersecting),null==i||i(e.isIntersecting)});const e=g.current;return e&&vm.observer.observe(e),()=>{e&&vm.observer.unobserve(e),delete vm.callbacks[u],0===Object.keys(vm.callbacks).length&&vm.observer.disconnect()}},(0,o.useEffect)(b,[]),s().createElement("div",((e,t)=>{for(var n in t||(t={}))hm.call(t,n)&&gm(e,n,t[n]);if(fm)for(var n of fm(t))mm.call(t,n)&&gm(e,n,t[n]);return e})({id:u,ref:g,className:`${d} ${l}`},c),!p&&" ",p&&("function"==typeof r?r({isInView:h}):r));var b});function ym(){return{hideEmpty:(0,Nn.css)({"&:empty":{display:"none"}})}}vm.displayName="LazyLoader",vm.callbacks={},vm.addCallback=(e,t)=>vm.callbacks[e]=t,vm.observer=new IntersectionObserver(e=>{for(const t of e)"function"==typeof vm.callbacks[t.target.id]&&vm.callbacks[t.target.id](t)},{rootMargin:"100px"});var wm=Object.defineProperty,Em=Object.defineProperties,Sm=Object.getOwnPropertyDescriptors,Om=Object.getOwnPropertySymbols,Cm=Object.prototype.hasOwnProperty,Am=Object.prototype.propertyIsEnumerable,xm=(e,t,n)=>t in e?wm(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Dm=(e,t)=>{for(var n in t||(t={}))Cm.call(t,n)&&xm(e,n,t[n]);if(Om)for(var n of Om(t))Am.call(t,n)&&xm(e,n,t[n]);return e},Pm=(e,t)=>Em(e,Sm(t)),Im=(e,t)=>{var n={};for(var r in e)Cm.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Om)for(var r of Om(e))t.indexOf(r)<0&&Am.call(e,r)&&(n[r]=e[r]);return n};const Rm=s().forwardRef((e,t)=>{var n;const r=e,{grid:a,layoutItem:o,index:i,totalCount:l,isLazy:c,style:u,onLoad:d,onChange:p,children:f}=r,h=Im(r,["grid","layoutItem","index","totalCount","isLazy","style","onLoad","onChange","children"]),m=a.getSceneLayoutChild(o.i),g=null==(n=m.getClassName)?void 0:n.call(m),b=s().createElement(m.Component,{model:m,key:m.state.key});return c?s().createElement(vm,Pm(Dm({},h),{key:m.state.key,"data-griditem-key":m.state.key,className:(0,Nn.cx)(g,e.className),style:u,ref:t}),b,f):s().createElement("div",Pm(Dm({},h),{ref:t,key:m.state.key,"data-griditem-key":m.state.key,className:(0,Nn.cx)(g,e.className),style:u}),b,f)});function Tm(e,t,n){e.current?t?e.current.classList.add("react-grid-layout--enable-move-animations"):e.current.classList.remove("react-grid-layout--enable-move-animations"):n||setTimeout(()=>Tm(e,t,!0),50)}Rm.displayName="GridItemWrapper";const km=s().forwardRef((e,t)=>{var n=Im(e,["handleAxis"]);const r=(0,Pn.useStyles2)(_m);return s().createElement("div",Pm(Dm({ref:t},n),{className:`${r} scene-resize-handle`}),s().createElement("svg",{width:"16px",height:"16px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s().createElement("path",{d:"M21 15L15 21M21 8L8 21",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})))});function _m(e){return(0,Nn.css)({position:"absolute",bottom:0,right:0,zIndex:999,padding:e.spacing(1.5,0,0,1.5),color:e.colors.border.strong,cursor:"se-resize","&:hover":{color:e.colors.text.link},svg:{display:"block"},".react-resizable-hide &":{display:"none"}})}km.displayName="ResizeHandle";var Lm=Object.defineProperty,Mm=Object.defineProperties,Bm=Object.getOwnPropertyDescriptors,jm=Object.getOwnPropertySymbols,Nm=Object.prototype.hasOwnProperty,Vm=Object.prototype.propertyIsEnumerable,Fm=(e,t,n)=>t in e?Lm(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var $m=Object.defineProperty,Um=Object.defineProperties,zm=Object.getOwnPropertyDescriptors,Wm=Object.getOwnPropertySymbols,Hm=Object.prototype.hasOwnProperty,Gm=Object.prototype.propertyIsEnumerable,qm=(e,t,n)=>t in e?$m(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Qm=(e,t)=>{for(var n in t||(t={}))Hm.call(t,n)&&qm(e,n,t[n]);if(Wm)for(var n of Wm(t))Gm.call(t,n)&&qm(e,n,t[n]);return e},Ym=(e,t)=>Um(e,zm(t));const Km=class extends J{constructor(e){super(Ym(Qm({},e),{children:Jm(e.children)})),this._skipOnLayoutChange=!1,this._oldLayout=[],this._loadOldLayout=!1,this.onLayoutChange=e=>{if(this._skipOnLayoutChange)this._skipOnLayoutChange=!1;else{this._loadOldLayout&&(e=[...this._oldLayout],this._loadOldLayout=!1);for(const t of e){const e=this.getSceneLayoutChild(t.i),n={x:t.x,y:t.y,width:t.w,height:t.h};Zm(e.state,n)||e.setState(Qm({},n))}this.setState({children:Jm(this.state.children)})}},this.onResizeStop=(e,t,n)=>{this.getSceneLayoutChild(n.i).setState({width:n.w,height:n.h})},this.onDragStart=e=>{this._oldLayout=[...e]},this.onDragStop=(e,t,n)=>{const r=this.getSceneLayoutChild(n.i);e=eg(e);for(let t=0;t<e.length;t++){const n=e[t],r=this.getSceneLayoutChild(n.i),a=r.state;(null==a?void 0:a.x)===n.x&&(null==a?void 0:a.y)===n.y||r.setState({x:n.x,y:n.y})}const a=e.findIndex(e=>e.i===n.i);let o=this.findGridItemSceneParent(e,a-1),i=this.state.children;r instanceof lg&&o instanceof lg&&(this.isRowDropValid(e,n,a)||(this._loadOldLayout=!0),o=this),o!==r.parent&&(i=this.moveChildTo(r,o)),this.setState({children:Jm(i)}),this._skipOnLayoutChange=!0}}isDraggable(){var e;return null!=(e=this.state.isDraggable)&&e}getDragClass(){return`grid-drag-handle-${this.state.key}`}getDragClassCancel(){return"grid-drag-cancel"}toggleRow(e){var t,n;if(!e.state.isCollapsed)return e.setState({isCollapsed:!0}),void this.setState({});const r=e.state.children;if(0===r.length)return e.setState({isCollapsed:!1}),void this.setState({});const a=e.state.y,o=(null!=(t=r[0].state.y)?t:a)-(a+1);let i=a;for(const e of r){const t=Qm({},e.state);t.y=null!=(n=t.y)?n:a,t.y-=o,t.y!==e.state.y&&e.setState(t),i=Math.max(i,Number(t.y)+Number(t.height))}const s=i-a-1;for(const t of this.state.children)if(t.state.y>a&&this.pushChildDown(t,s),cm(t)&&t!==e)for(const e of t.state.children)e.state.y>a&&this.pushChildDown(e,s);e.setState({isCollapsed:!1}),this.setState({})}ignoreLayoutChange(e){this._skipOnLayoutChange=e}getSceneLayoutChild(e){for(const t of this.state.children){if(t.state.key===e)return t;if(t instanceof lg)for(const n of t.state.children)if(n.state.key===e)return n}throw new Error("Scene layout child not found for GridItem")}pushChildDown(e,t){e.setState({y:e.state.y+t})}findGridItemSceneParent(e,t){for(let n=t;n>=0;n--){const t=e[n],r=this.getSceneLayoutChild(t.i);if(r instanceof lg)return r.state.isCollapsed?this:r}return this}isRowDropValid(e,t,n){if(e[e.length-1].i===t.i)return!0;const r=this.getSceneLayoutChild(e[n+1].i);return r instanceof lg||r.parent instanceof Km}moveChildTo(e,t){const n=e.parent;let r=this.state.children;const a=e.clone({key:e.state.key});if(n instanceof lg){const o=n.clone();if(o.setState({children:o.state.children.filter(t=>t.state.key!==e.state.key)}),r=r.map(e=>e===n?o:e),t instanceof lg){const e=t.clone();e.setState({children:[...e.state.children,a]}),r=r.map(n=>n===t?e:n)}else r=[...r,a]}else if(!(t instanceof Km)){r=r.filter(t=>t.state.key!==e.state.key);const n=t.clone();n.setState({children:[...n.state.children,a]}),r=r.map(e=>e===t?n:e)}return r}toGridCell(e){var t,n;const r=e.state;let a=null!=(t=r.x)?t:0,o=null!=(n=r.y)?n:0;const i=Number.isInteger(Number(r.width))?Number(r.width):4,s=Number.isInteger(Number(r.height))?Number(r.height):4;let l=e.state.isDraggable,c=e.state.isResizable;return e instanceof lg&&(l=!!e.state.isCollapsed,c=!1),{i:e.state.key,x:a,y:o,h:s,w:i,isResizable:c,isDraggable:l}}buildGridLayout(e,t){let n=[];for(const e of this.state.children)if(n.push(this.toGridCell(e)),e instanceof lg&&!e.state.isCollapsed)for(const t of e.state.children)n.push(this.toGridCell(t));return n=eg(n),this.state.UNSAFE_fitPanels&&(n=function(e,t){const n=t-32,r=Math.max(...e.map(e=>e.h+e.y))/Math.floor(n/38);return e.map(e=>{return t=((e,t)=>{for(var n in t||(t={}))Nm.call(t,n)&&Fm(e,n,t[n]);if(jm)for(var n of jm(t))Vm.call(t,n)&&Fm(e,n,t[n]);return e})({},e),n={y:Math.round(e.y/r)||0,h:Math.round(e.h/r)||1},Mm(t,Bm(n));var t,n})}(n,t)),e<768?(this._skipOnLayoutChange=!0,n.map(e=>Ym(Qm({},e),{w:24}))):(this._skipOnLayoutChange=!1,n)}};let Xm=Km;function Zm(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Jm(e){return e.forEach(e=>{e instanceof lg&&e.setState({children:Jm(e.state.children)})}),[...e].sort((e,t)=>e.state.y-t.state.y||e.state.x-t.state.x)}function eg(e){return[...e].sort((e,t)=>e.y-t.y||e.x-t.x)}Xm.Component=function({model:e}){const{children:t,isLazy:n,isDraggable:r,isResizable:a}=e.useState(),[i,{width:l,height:c}]=Tu(),u=(0,o.useRef)(null);return(0,o.useEffect)(()=>{Tm(u,!!r)},[r]),function(e){if(e.some(e=>void 0===e.state.height||void 0===e.state.width||void 0===e.state.x||void 0===e.state.y))throw new Error("All children must have a size specified")}(t),s().createElement("div",{ref:i,style:{flex:"1 1 auto",position:"relative",zIndex:1,width:"100%"}},((t,o)=>{if(!t||!o)return null;const i=e.buildGridLayout(t,o);return s().createElement("div",{ref:u,style:{width:`${t}px`,height:"100%"},className:"react-grid-layout"},s().createElement(dm(),{width:t,isDraggable:r&&t>768,isResizable:null!=a&&a,containerPadding:[0,0],useCSSTransforms:!0,margin:[8,8],cols:24,rowHeight:30,draggableHandle:`.grid-drag-handle-${e.state.key}`,draggableCancel:".grid-drag-cancel",layout:i,onDragStart:e.onDragStart,onDragStop:e.onDragStop,onResizeStop:e.onResizeStop,onLayoutChange:e.onLayoutChange,isBounded:!1,resizeHandle:s().createElement(km,null)},i.map((t,r)=>s().createElement(Rm,{key:t.i,grid:e,layoutItem:t,index:r,isLazy:n,totalCount:i.length}))))})(l,c))};var tg=Object.defineProperty,ng=Object.defineProperties,rg=Object.getOwnPropertyDescriptors,ag=Object.getOwnPropertySymbols,og=Object.prototype.hasOwnProperty,ig=Object.prototype.propertyIsEnumerable,sg=(e,t,n)=>t in e?tg(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;class lg extends J{constructor(e){var t;super((t=((e,t)=>{for(var n in t||(t={}))og.call(t,n)&&sg(e,n,t[n]);if(ag)for(var n of ag(t))ig.call(t,n)&&sg(e,n,t[n]);return e})({children:e.children||[],isCollapsible:e.isCollapsible||!0,title:e.title||""},e),ng(t,rg({x:0,height:1,width:24})))),this._variableDependency=new Pc(this,{statePaths:["title"],handleTimeMacros:!0}),this.onCollapseToggle=()=>{this.state.isCollapsible&&this.getGridLayout().toggleRow(this)}}getGridLayout(){const e=this.parent;if(!(e&&e instanceof Xm))throw new Error("SceneGridRow must be a child of SceneGridLayout");return e}getUrlState(){return{rowc:this.state.isCollapsed?"1":"0"}}updateFromUrl(e){null!=e.rowc&&e.rowc!==this.getUrlState().rowc&&this.onCollapseToggle()}}lg.Component=function({model:e}){const t=(0,Pn.useStyles2)(cg),{isCollapsible:n,isCollapsed:r,title:a,actions:o,children:i}=e.useState(),l=e.getGridLayout(),c=l.getDragClass(),u=l.isDraggable(),d=i?i.length:0,p=1===d?"panel":"panels";return s().createElement("div",{className:(0,Nn.cx)(t.row,r&&t.rowCollapsed)},s().createElement("div",{className:t.rowTitleAndActionsGroup},s().createElement("button",{onClick:e.onCollapseToggle,className:t.rowTitleButton,"aria-label":r?"Expand row":"Collapse row","data-testid":jn.components.DashboardRow.title(lu.interpolate(e,a,void 0,"text"))},n&&s().createElement(Pn.Icon,{name:r?"angle-right":"angle-down"}),s().createElement("span",{className:t.rowTitle,role:"heading"},lu.interpolate(e,a,void 0,"text"))),s().createElement("span",{className:(0,Nn.cx)(t.panelCount,r&&t.panelCountCollapsed)},"(",d," ",p,")"),o&&s().createElement("div",{className:t.rowActions},s().createElement(o.Component,{model:o}))),u&&r&&s().createElement("div",{className:(0,Nn.cx)(t.dragHandle,c)},s().createElement(Pn.Icon,{name:"draggabledots"})))};const cg=e=>({row:(0,Nn.css)({width:"100%",height:"30px",display:"flex",justifyContent:"space-between",gap:e.spacing(1)}),rowTitleButton:(0,Nn.css)({display:"flex",alignItems:"center",cursor:"pointer",background:"transparent",border:"none",minWidth:0,gap:e.spacing(1)}),rowCollapsed:(0,Nn.css)({borderBottom:`1px solid ${e.colors.border.weak}`}),rowTitle:(0,Nn.css)({fontSize:e.typography.h5.fontSize,fontWeight:e.typography.fontWeightMedium,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%",flexGrow:1,minWidth:0}),collapsedInfo:(0,Nn.css)({fontSize:e.typography.bodySmall.fontSize,color:e.colors.text.secondary,display:"flex",alignItems:"center",flexGrow:1}),rowTitleAndActionsGroup:(0,Nn.css)({display:"flex",minWidth:0,"&:hover, &:focus-within":{"& > div":{opacity:1}}}),rowActions:(0,Nn.css)({display:"flex",whiteSpace:"nowrap",opacity:0,transition:"200ms opacity ease-in 200ms","&:hover, &:focus-within":{opacity:1}}),dragHandle:(0,Nn.css)({display:"flex",padding:e.spacing(0,1),alignItems:"center",justifyContent:"flex-end",cursor:"move",color:e.colors.text.secondary,"&:hover":{color:e.colors.text.primary}}),panelCount:(0,Nn.css)({whiteSpace:"nowrap",paddingLeft:e.spacing(2),color:e.colors.text.secondary,fontStyle:"italic",fontSize:e.typography.size.sm,fontWeight:"normal",display:"none",lineHeight:"30px"}),panelCountCollapsed:(0,Nn.css)({display:"inline-block"})});class ug extends J{constructor(){super(...arguments),this.onToggle=()=>{this.setState({isCollapsed:!this.state.isCollapsed})},this.onRemove=()=>{const e=this.parent;"body"in e.state&&e.setState({body:void 0})}}}ug.Component=function({model:e}){const{title:t,isCollapsed:n,canCollapse:r,canRemove:a,body:o,controls:i}=e.useState(),l=(0,Pn.useStyles2)(cg),c=(0,Pn.useStyles2)(dg),u=(null!=i?i:[]).map(e=>s().createElement(e.Component,{key:e.state.key,model:e}));return a&&u.push(s().createElement(Pn.ToolbarButton,{icon:"times",variant:"default",onClick:e.onRemove,key:"remove-button","aria-label":"Remove scene"})),s().createElement("div",{className:c.wrapper},s().createElement("div",{className:(0,Nn.cx)(c.row,n&&c.rowCollapsed)},s().createElement("button",{onClick:e.onToggle,className:l.rowTitleButton,"aria-label":n?"Expand scene":"Collapse scene"},r&&s().createElement(Pn.Icon,{name:n?"angle-right":"angle-down"}),s().createElement("span",{className:l.rowTitle,role:"heading"},lu.interpolate(e,t,void 0,"text"))),s().createElement("div",{className:c.actions},u)),!n&&s().createElement(o.Component,{model:o}))};const dg=e=>({wrapper:(0,Nn.css)({display:"flex",flexDirection:"column",flexGrow:1,gap:e.spacing(1)}),row:(0,Nn.css)({width:"100%",display:"flex",justifyContent:"space-between",gap:e.spacing(1)}),rowCollapsed:(0,Nn.css)({borderBottom:`1px solid ${e.colors.border.weak}`,paddingBottom:e.spacing(1)}),actions:(0,Nn.css)({display:"flex",alignItems:"center",gap:e.spacing(1),justifyContent:"flex-end",flexGrow:1})});class pg extends J{constructor(){super(...arguments),this._variableDependency=new Pc(this,{statePaths:["text"]})}}pg.Component=({model:e})=>{const{text:t,fontSize:n=20,align:r="left",key:a,spacing:o}=e.useState(),i=(0,Pn.useTheme2)(),l=(0,Nn.css)({fontSize:n,display:"flex",flexGrow:1,alignItems:"center",padding:o?i.spacing(o,0):void 0,justifyContent:r});return s().createElement("div",{className:l,"data-testid":a},lu.interpolate(e,t))};class fg extends J{}fg.Component=({model:e})=>{const t=e.useState();return s().createElement(Pn.ToolbarButton,{onClick:t.onClick,icon:t.icon})};class hg extends J{}hg.Component=({model:e})=>{const t=e.useState();return s().createElement("div",{style:{display:"flex"}},t.label&&s().createElement(yr,{label:t.label}),s().createElement(Pn.Input,{defaultValue:t.value,width:8,onBlur:t=>{e.state.onChange(parseInt(t.currentTarget.value,10))}}))};class mg extends J{constructor(){super(...arguments),this.onZoom=()=>{const e=lu.getTimeRange(this),t=function(e){const t=e.to.valueOf()-e.from.valueOf(),n=e.to.valueOf()-t/2,r=0===t?3e4:2*t,a=n+r/2,o=n-r/2;return{from:(0,c.toUtc)(o),to:(0,c.toUtc)(a),raw:{from:(0,c.toUtc)(o),to:(0,c.toUtc)(a)}}}(e.state.value);e.onTimeRangeChange(t)},this.onChangeFiscalYearStartMonth=e=>{lu.getTimeRange(this).setState({fiscalYearStartMonth:e})},this.toAbsolute=()=>{const e=lu.getTimeRange(this),t=e.state.value,n=(0,c.toUtc)(t.from),r=(0,c.toUtc)(t.to);e.onTimeRangeChange({from:n,to:r,raw:{from:n,to:r}})},this.onMoveBackward=()=>{const e=lu.getTimeRange(this),{state:{value:t}}=e;e.onTimeRangeChange(bg(gg.Backward,t,Date.now()))},this.onMoveForward=()=>{const e=lu.getTimeRange(this),{state:{value:t}}=e;e.onTimeRangeChange(bg(gg.Forward,t,Date.now()))}}}mg.Component=function({model:e}){const{hidePicker:t,isOnCanvas:n,quickRanges:r}=e.useState(),a=lu.getTimeRange(e),i=a.getTimeZone(),l=a.useState(),[u,d]=function(e,t,n){if(!Pu)return[t,Du,Du];if(!e)throw new Error("useLocalStorage key may not be falsy");var r=n?n.raw?function(e){return e}:n.deserializer:JSON.parse,a=(0,o.useRef)(function(e){try{var a=n?n.raw?String:n.serializer:JSON.stringify,o=localStorage.getItem(e);return null!==o?r(o):(t&&localStorage.setItem(e,a(t)),t)}catch(e){return t}}),i=(0,o.useState)(function(){return a.current(e)}),s=i[0],l=i[1];(0,o.useLayoutEffect)(function(){return l(a.current(e))},[e]);var c=(0,o.useCallback)(function(t){try{var a,o="function"==typeof t?t(s):t;if(void 0===o)return;a=n?n.raw?"string"==typeof o?o:JSON.stringify(o):n.serializer?n.serializer(o):JSON.stringify(o):JSON.stringify(o),localStorage.setItem(e,a),l(r(a))}catch(e){}},[e,l]),u=(0,o.useCallback)(function(){try{localStorage.removeItem(e),l(void 0)}catch(e){}},[e,l]);return[s,c,u]}(vg,[],{raw:!1,serializer:wg,deserializer:yg});return t?null:s().createElement(Pn.TimeRangePicker,{isOnCanvas:null==n||n,value:l.value,onChange:e=>{var t;t=e,((0,c.isDateTime)(t.raw.from)||(0,c.isDateTime)(t.raw.to))&&d([e,...null!=u?u:[]]),a.onTimeRangeChange(e)},timeZone:i,fiscalYearStartMonth:l.fiscalYearStartMonth,onMoveBackward:e.onMoveBackward,onMoveForward:e.onMoveForward,onZoom:e.onZoom,onChangeTimeZone:a.onTimeZoneChange,onChangeFiscalYearStartMonth:e.onChangeFiscalYearStartMonth,weekStart:l.weekStart,history:u,quickRanges:r})};var gg=(e=>(e[e.Backward=0]="Backward",e[e.Forward=1]="Forward",e))(gg||{});function bg(e,t,n){const r=t.to.valueOf(),a=t.from.valueOf(),o=(r-a)/2;let i,s;0===e?(i=a-o,s=r-o):(i=a+o,s=r+o,s>n&&r<n&&(s=n,i=a));const l=(0,c.toUtc)(i),u=(0,c.toUtc)(s);return{from:l,to:u,raw:{from:l,to:u}}}const vg="grafana.dashboard.timepicker.history";function yg(e){return JSON.parse(e).map(e=>c.rangeUtil.convertRawToRange(e,"utc",void 0,"YYYY-MM-DD HH:mm:ss"))}function wg(e){return JSON.stringify((t=e.map(e=>({from:"string"==typeof e.raw.from?e.raw.from:e.raw.from.toISOString(),to:"string"==typeof e.raw.to?e.raw.to:e.raw.to.toISOString()})),(0,fe.uniqBy)(t,e=>e.from+e.to).slice(0,4)));var t}var Eg=Object.defineProperty,Sg=Object.defineProperties,Og=Object.getOwnPropertyDescriptors,Cg=Object.getOwnPropertySymbols,Ag=Object.prototype.hasOwnProperty,xg=Object.prototype.propertyIsEnumerable,Dg=(e,t,n)=>t in e?Eg(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const Pg=["5s","10s","30s","1m","5m","15m","30m","1h","2h","1d"];class Ig extends J{constructor(e){var t,n,r,a,o;super((a=((e,t)=>{for(var n in t||(t={}))Ag.call(t,n)&&Dg(e,n,t[n]);if(Cg)for(var n of Cg(t))xg.call(t,n)&&Dg(e,n,t[n]);return e})({refresh:""},e),o={autoValue:void 0,autoEnabled:null==(t=e.autoEnabled)||t,autoMinInterval:null!=(n=e.autoMinInterval)?n:u.config.minRefreshInterval,intervals:(null!=(r=e.intervals)?r:Pg).filter(t=>{var n;const r=null!=(n=e.minRefreshInterval)?n:u.config.minRefreshInterval;try{return!r||c.rangeUtil.intervalToMs(t)>=c.rangeUtil.intervalToMs(r)}catch(e){return!1}})},Sg(a,Og(o)))),this._urlSync=new Ke(this,{keys:["refresh"]}),this._autoRefreshBlocked=!1,this.onRefresh=()=>{const e=lu.getQueryController(this);if(null==e||e.startProfile(this),null==e?void 0:e.state.isRunning)return void e.cancelAll();const t=lu.getTimeRange(this);this._intervalTimer&&clearInterval(this._intervalTimer),t.onRefresh(),this.setupIntervalTimer()},this.onIntervalChanged=e=>{this.setState({refresh:e}),this.setupIntervalTimer()},this.setupAutoTimeRangeListener=()=>lu.getTimeRange(this).subscribeToState((e,t)=>{e.from===t.from&&e.to===t.to||this.setupIntervalTimer()}),this.calculateAutoRefreshInterval=()=>{var e;const t=lu.getTimeRange(this),n=null!=(e=null==window?void 0:window.innerWidth)?e:2e3;return c.rangeUtil.calculateInterval(t.state.value,n,this.state.autoMinInterval)},this.setupIntervalTimer=()=>{var e;const t=lu.getTimeRange(this),{refresh:n,intervals:r}=this.state;if((this._intervalTimer||""===n)&&clearInterval(this._intervalTimer),""===n)return;if(n!==Pn.RefreshPicker.autoOption.value&&r&&!r.includes(n))return;let a;if(null==(e=this._autoTimeRangeListener)||e.unsubscribe(),n===Pn.RefreshPicker.autoOption.value){const e=this.calculateAutoRefreshInterval();a=e.intervalMs,this._autoTimeRangeListener=this.setupAutoTimeRangeListener(),e.interval!==this.state.autoValue&&this.setState({autoValue:e.interval})}else a=c.rangeUtil.intervalToMs(n);this._intervalTimer=setInterval(()=>{if(this.isTabVisible()){const e=lu.getQueryController(this);null==e||e.startProfile(this),t.onRefresh()}else this._autoRefreshBlocked=!0},a)},this.addActivationHandler(()=>{this.setupIntervalTimer();const e=()=>{this._autoRefreshBlocked&&"visible"===document.visibilityState&&(this._autoRefreshBlocked=!1,this.onRefresh())};return document.addEventListener("visibilitychange",e),()=>{var t;this._intervalTimer&&clearInterval(this._intervalTimer),document.removeEventListener("visibilitychange",e),null==(t=this._autoTimeRangeListener)||t.unsubscribe()}})}getUrlState(){let e=this.state.refresh;return"string"==typeof e&&0!==e.length||(e=void 0),{refresh:e}}updateFromUrl(e){const{intervals:t}=this.state;let n=e.refresh;"string"==typeof n&&function(e){try{return c.rangeUtil.describeInterval(e).count>0}catch(e){return!1}}(n)&&((null==t?void 0:t.includes(n))?this.setState({refresh:n}):this.setState({refresh:t?t[0]:void 0}))}isTabVisible(){return void 0===document.visibilityState||"visible"===document.visibilityState}}Ig.Component=function({model:e}){var t;const{refresh:n,intervals:r,autoEnabled:a,autoValue:o,isOnCanvas:i,primary:l,withText:c}=e.useState(),u=function(e){const t=lu.getQueryController(e);return!!t&&t.useState().isRunning}(e);let d,p,f=n===(null==(t=Pn.RefreshPicker.autoOption)?void 0:t.value)?o:c?"Refresh":void 0;return u&&(d="Cancel all queries",c&&(f="Cancel")),c&&(p="96px"),s().createElement(Pn.RefreshPicker,{showAutoInterval:a,value:n,intervals:r,tooltip:d,width:p,text:f,onRefresh:()=>{e.onRefresh()},primary:l,onIntervalChanged:e.onIntervalChanged,isLoading:u,isOnCanvas:null==i||i})};const Rg=e=>`${e}-compare`;var Tg=Object.defineProperty,kg=Object.defineProperties,_g=Object.getOwnPropertyDescriptors,Lg=Object.getOwnPropertySymbols,Mg=Object.prototype.hasOwnProperty,Bg=Object.prototype.propertyIsEnumerable,jg=(e,t,n)=>t in e?Tg(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ng=(e,t)=>{for(var n in t||(t={}))Mg.call(t,n)&&jg(e,n,t[n]);if(Lg)for(var n of Lg(t))Bg.call(t,n)&&jg(e,n,t[n]);return e},Vg=(e,t)=>kg(e,_g(t));const Fg="__previousPeriod",$g="__noPeriod",Ug={label:"Previous period",value:Fg},zg={label:"No comparison",value:$g},Wg=[{label:"Day before",value:"24h"},{label:"Week before",value:"1w"},{label:"Month before",value:"1M"}];class Hg extends J{constructor(e){super(Ng({compareOptions:Wg},e)),this._urlSync=new Ke(this,{keys:["compareWith"]}),this._onActivate=()=>{const e=lu.getTimeRange(this);this.setState({compareOptions:this.getCompareOptions(e.state.value)}),this._subs.add(e.subscribeToState(e=>{const t=this.getCompareOptions(e.value),n={compareOptions:t};Boolean(this.state.compareWith)&&!t.find(({value:e})=>e===this.state.compareWith)&&(n.compareWith=Fg),this.setState(n)}))},this.getCompareOptions=e=>{const t=Math.ceil(e.to.diff(e.from)),n=Wg.findIndex(({value:e})=>c.rangeUtil.intervalToMs(e)>=t);return[zg,Ug,...Wg.slice(n).map(({label:e,value:t})=>({label:e,value:t}))]},this.onCompareWithChanged=e=>{e===$g?this.onClearCompare():this.setState({compareWith:e})},this.onClearCompare=()=>{this.setState({compareWith:void 0})},this.addActivationHandler(this._onActivate)}getExtraQueries(e){const t=[],n=this.getCompareTimeRange(e.range);if(!n)return t;const r=e.targets.filter(e=>!1!==e.timeRangeCompare);return r.length&&t.push({req:Vg(Ng({},e),{targets:r,range:n}),processor:Gg}),t}shouldRerun(e,t,n){return e.compareWith!==t.compareWith&&void 0!==n.find(e=>!1!==e.timeRangeCompare)}getCompareTimeRange(e){let t,n;if(this.state.compareWith){if(this.state.compareWith===Fg){const r=e.to.diff(e.from);t=(0,c.dateTime)(e.from).subtract(r),n=(0,c.dateTime)(e.to).subtract(r)}else t=(0,c.dateTime)(e.from).subtract(c.rangeUtil.intervalToMs(this.state.compareWith)),n=(0,c.dateTime)(e.to).subtract(c.rangeUtil.intervalToMs(this.state.compareWith));return{from:t,to:n,raw:{from:t,to:n}}}}getUrlState(){return{compareWith:this.state.compareWith}}updateFromUrl(e){if(!e.compareWith)return;const t=Ze(e.compareWith);t&&(this.getCompareOptions(lu.getTimeRange(this).state.value).find(({value:e})=>e===t)?this.setState({compareWith:t}):this.setState({compareWith:"__previousPeriod"}))}}Hg.Component=function({model:e}){var t;const n=(0,Pn.useStyles2)(qg),{compareWith:r,compareOptions:a}=e.useState(),[o,i]=s().useState(r),l=null!=(t=a.find(({value:e})=>e===o))?t:Ug,c=a.find(({value:e})=>e===r),u=Boolean(c),d=()=>{u?(i(r),e.onClearCompare()):u||e.onCompareWithChanged(l.value)};return s().createElement(Pn.ButtonGroup,null,s().createElement(Pn.ToolbarButton,{variant:"canvas",tooltip:"Enable time frame comparison",onClick:e=>{e.stopPropagation(),e.preventDefault(),d()}},s().createElement(Pn.Checkbox,{label:" ",value:u,onClick:d}),"Comparison"),u?s().createElement(Pn.ButtonSelect,{variant:"canvas",value:c,options:a,onChange:t=>{e.onCompareWithChanged(t.value)}}):s().createElement(Pn.ToolbarButton,{className:n.previewButton,disabled:!0,variant:"canvas",isOpen:!1},l.label))};const Gg=(e,t)=>{const n=t.timeRange.from.diff(e.timeRange.from);return t.series.forEach(e=>{e.refId=Rg(e.refId||""),e.meta=Vg(Ng({},e.meta),{timeCompare:{diffMs:n,isTimeShiftQuery:!0}}),e.fields.forEach(e=>(e.type===c.FieldType.time&&(e.values=e.values.map(e=>n<0?e-n:e+n)),e.config=Vg(Ng({},e.config),{color:{mode:"fixed",fixedColor:u.config.theme.palette.gray60}}),e))}),(0,x.of)(t)};function qg(e){return{previewButton:(0,Nn.css)({"&:disabled":{border:`1px solid ${e.colors.secondary.border}`,color:e.colors.text.disabled,opacity:1}})}}class Qg extends J{constructor(e){super(e),this.addActivationHandler(()=>{const e=lu.getData(this);this._subs.add(e.subscribeToState(e=>{var t;(null==(t=e.data)?void 0:t.state)===c.LoadingState.Done&&this.performRepeat(e.data)})),e.state.data&&this.performRepeat(e.state.data)})}performRepeat(e){const t=[];for(let n=0;n<e.series.length;n++){const r=this.state.getLayoutChild(e,e.series[n],n);t.push(r)}this.state.body.setState({children:t})}}Qg.Component=({model:e})=>{const{body:t}=e.useState();return s().createElement(t.Component,{model:t})};class Yg extends J{constructor(e){super(e),this._variableDependency=new Pc(this,{variableNames:[this.state.variableName],onVariableUpdateCompleted:()=>this.performRepeat()}),this.addActivationHandler(()=>this.performRepeat())}performRepeat(){if(this._variableDependency.hasDependencyInLoadingState())return;const e=lu.lookupVariable(this.state.variableName,this);if(!(e instanceof Mt))return void console.error("SceneByVariableRepeater: variable is not a MultiValueVariable");const t=function(e){const{value:t,text:n,options:r}=e.state;return e.hasAllValue()?r:Array.isArray(t)&&Array.isArray(n)?t.map((e,t)=>({value:e,label:n[t]})):[{value:t,label:n}]}(e),n=[];for(const e of t){const t=this.state.getLayoutChild(e);n.push(t)}this.state.body.setState({children:n})}}Yg.Component=({model:e})=>{const{body:t}=e.useState();return s().createElement(t.Component,{model:t})};class Kg extends J{constructor(){super({}),this._renderBeforeActivation=!0}}Kg.Component=e=>s().createElement("div",{style:{flexGrow:1}});class Xg extends J{toggleDirection(){this.setState({direction:"row"===this.state.direction?"column":"row"})}isDraggable(){return!1}}Xg.Component=function({model:e,parentState:t}){const{children:n,isHidden:r}=e.useState(),a=function(e,t){return(0,o.useMemo)(()=>{var n,r,a,o,i,s,l,c,d,p;const{direction:f="row",wrap:h}=e,m=u.config.theme2,g={};return t?Jg(g,e,t):(g.display="flex",g.flexGrow=1,g.minWidth=e.minWidth,g.minHeight=e.minHeight),g.flexDirection=f,g.gap="8px",g.flexWrap=h||"nowrap",g.alignContent="baseline",g.minWidth=g.minWidth||0,g.minHeight=g.minHeight||0,g[m.breakpoints.down("md")]={flexDirection:null!=(r=null==(n=e.md)?void 0:n.direction)?r:"column",maxWidth:null!=(o=null==(a=e.md)?void 0:a.maxWidth)?o:"unset",maxHeight:null!=(s=null==(i=e.md)?void 0:i.maxHeight)?s:"unset",height:null!=(c=null==(l=e.md)?void 0:l.height)?c:"unset",width:null!=(p=null==(d=e.md)?void 0:d.width)?p:"unset"},(0,Nn.css)(g)},[t,e])}(e.state,t);return r?null:s().createElement("div",{className:a},n.map(t=>{const n=t.Component;return s().createElement(n,{key:t.state.key,model:t,parentState:e.state})}))};class Zg extends J{}function Jg(e,t,n){var r,a,o;const i=null!=(r=n.direction)?r:"row",{xSizing:s="fill",ySizing:l="fill"}=t;return e.display="flex",e.position="relative",e.flexDirection=i,"column"===i?(t.height?e.height=t.height:e.flexGrow="fill"===l?1:0,t.width?e.width=t.width:e.alignSelf="fill"===s?"stretch":"flex-start"):(t.height?e.height=t.height:e.alignSelf="fill"===l?"stretch":"flex-start",t.width?e.width=t.width:e.flexGrow="fill"===s?1:0),e.minWidth=t.minWidth,e.maxWidth=t.maxWidth,e.maxHeight=t.maxHeight,e.minHeight=null!=(a=t.minHeight)?a:n.minHeight,e.height=null!=(o=t.height)?o:n.height,e}Zg.Component=function({model:e,parentState:t}){if(!t)throw new Error("SceneFlexItem must be a child of SceneFlexLayout");const{body:n,isHidden:r}=e.useState(),a=function(e,t){return(0,o.useMemo)(()=>{var n,r,a,o,i,s,l,c,d,p;const f=u.config.theme2,h=Jg({},e,t);return h[f.breakpoints.down("md")]={maxWidth:null!=(r=null==(n=e.md)?void 0:n.maxWidth)?r:"unset",maxHeight:null!=(o=null==(a=e.md)?void 0:a.maxHeight)?o:"unset",height:null!=(l=null==(i=e.md)?void 0:i.height)?l:null==(s=t.md)?void 0:s.height,width:null!=(p=null==(c=e.md)?void 0:c.width)?p:null==(d=t.md)?void 0:d.width},(0,Nn.css)(h)},[e,t])}(e.state,t);return!n||r?null:s().createElement("div",{className:a},s().createElement(n.Component,{model:n}))};var eb=Object.defineProperty,tb=Object.getOwnPropertySymbols,nb=Object.prototype.hasOwnProperty,rb=Object.prototype.propertyIsEnumerable,ab=(e,t,n)=>t in e?eb(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;class ob extends J{constructor(e){var t,n;super(((e,t)=>{for(var n in t||(t={}))nb.call(t,n)&&ab(e,n,t[n]);if(tb)for(var n of tb(t))rb.call(t,n)&&ab(e,n,t[n]);return e})({rowGap:1,columnGap:1,templateColumns:"repeat(auto-fit, minmax(400px, 1fr))",autoRows:null!=(t=e.autoRows)?t:"320px",children:null!=(n=e.children)?n:[]},e))}isDraggable(){return!1}}ob.Component=function({model:e}){const{children:t,isHidden:n,isLazy:r}=e.useState(),a=(i=e.state,(0,o.useMemo)(()=>{var e,t,n,r,a,o,s,l,c,d,p;const f={},h=u.config.theme2;return f.display="grid",f.gridTemplateColumns=i.templateColumns,f.gridTemplateRows=i.templateRows||"unset",f.gridAutoRows=i.autoRows||"unset",f.rowGap=h.spacing(null!=(e=i.rowGap)?e:1),f.columnGap=h.spacing(null!=(t=i.columnGap)?t:1),f.justifyItems=i.justifyItems||"unset",f.alignItems=i.alignItems||"unset",f.justifyContent=i.justifyContent||"unset",f.flexGrow=1,i.md&&(f[h.breakpoints.down("md")]={gridTemplateRows:null==(n=i.md)?void 0:n.templateRows,gridTemplateColumns:null==(r=i.md)?void 0:r.templateColumns,rowGap:i.md.rowGap?h.spacing(null!=(o=null==(a=i.md)?void 0:a.rowGap)?o:1):void 0,columnGap:i.md.columnGap?h.spacing(null!=(l=null==(s=i.md)?void 0:s.rowGap)?l:1):void 0,justifyItems:null==(c=i.md)?void 0:c.justifyItems,alignItems:null==(d=i.md)?void 0:d.alignItems,justifyContent:null==(p=i.md)?void 0:p.justifyContent}),(0,Nn.css)(f)},[i]));var i;return n?null:s().createElement("div",{className:a},t.map(t=>{const n=t.Component;return r?s().createElement(vm,{key:t.state.key,className:a},s().createElement(n,{key:t.state.key,model:t,parentState:e.state})):s().createElement(n,{key:t.state.key,model:t,parentState:e.state})}))};class ib extends J{}ib.Component=function({model:e,parentState:t}){if(!t)throw new Error("SceneCSSGridItem must be a child of SceneCSSGridLayout");const{body:n,isHidden:r}=e.useState(),a=(i=e.state,(0,o.useMemo)(()=>{const e={};return e.gridColumn=i.gridColumn||"unset",e.gridRow=i.gridRow||"unset",e.position="relative",(0,Nn.css)(e)},[i]));var i;return!n||r?null:s().createElement("div",{className:a},s().createElement(n.Component,{model:n}))};var sb=Object.defineProperty,lb=Object.getOwnPropertySymbols,cb=Object.prototype.hasOwnProperty,ub=Object.prototype.propertyIsEnumerable,db=(e,t,n)=>t in e?sb(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,pb=(e,t)=>{for(var n in t||(t={}))cb.call(t,n)&&db(e,n,t[n]);if(lb)for(var n of lb(t))ub.call(t,n)&&db(e,n,t[n]);return e};const fb=new Set(["ArrowUp","ArrowDown"]),hb=new Set(["ArrowLeft","ArrowRight"]),mb={row:{dim:"width",axis:"clientX",min:"minWidth",max:"maxWidth"},column:{dim:"height",axis:"clientY",min:"minHeight",max:"maxHeight"}};function gb({direction:e="row",handleSize:t=32,initialSize:n="auto",primaryPaneStyles:r,secondaryPaneStyles:a,onDragFinished:i,children:l}){const c=s().Children.toArray(l),u=(0,o.useRef)(null),d=(0,o.useRef)(null),p=(0,o.useRef)(null),f=(0,o.useRef)(null),h=(0,o.useRef)(null),m=(0,o.useRef)("1fr"),g=(0,o.useRef)(void 0),b=(0,o.useRef)(void 0),v=mb[e].dim,y=mb[e].axis,w=mb[e].min,E=mb[e].max;!function(e,t,n=0,r){const a=(0,fe.throttle)(t,n);(0,o.useLayoutEffect)(()=>{if(!e)return;const t=new ResizeObserver(a);return t.observe(e,{box:"device-pixel-content-box"}),()=>t.disconnect()},r)}(f.current,e=>{for(const t of e){if(!t.target.isSameNode(f.current))return;const e=d.current.getBoundingClientRect()[v],n=vb(d.current);u.current.ariaValueNow=`${(0,fe.clamp)((e-n[w])/(n[E]-n[w])*100,0,100)}`}},500,[E,w,e,v]);const S=(0,o.useRef)(null),O=(0,o.useCallback)(e=>{m.current=d.current.getBoundingClientRect()[v],h.current=f.current.getBoundingClientRect()[v],S.current=e[y],u.current.setPointerCapture(e.pointerId),g.current=vb(d.current),b.current=void 0},[v,y]),C=(0,o.useCallback)(e=>{if(null!==S.current&&"1fr"!==m.current){const n=e[y]-S.current,r=g.current,a=(0,fe.clamp)(m.current+n,r[w],r[E]),o=a/(h.current-t);d.current.style.flexGrow=`${o}`,p.current.style.flexGrow=""+(1-o);const i=(0,fe.clamp)((a-r[w])/(r[E]-r[w])*100,0,100);u.current.ariaValueNow=`${i}`}},[t,y,w,E]),A=(0,o.useCallback)(e=>{e.preventDefault(),e.stopPropagation(),u.current.releasePointerCapture(e.pointerId),S.current=null,null==i||i(parseFloat(d.current.style.flexGrow))},[i]),x=(0,o.useRef)(new Set),D=(0,o.useRef)(null),P=(0,o.useCallback)(n=>{var r;if(0===x.current.size)return void(D.current=null);if("1fr"===m.current)return;const a=.3*(n-(null!=(r=D.current)?r:n));let o=0;"row"===e?(x.current.has("ArrowLeft")&&(o-=a),x.current.has("ArrowRight")&&(o+=a)):(x.current.has("ArrowUp")&&(o-=a),x.current.has("ArrowDown")&&(o+=a));const i=g.current,s=d.current.getBoundingClientRect()[v],l=(0,fe.clamp)(s+o,i[w],i[E]),c=l/(h.current-t);d.current.style.flexGrow=`${c}`,p.current.style.flexGrow=""+(1-c);const f=(l-i[w])/(i[E]-i[w])*100;u.current.ariaValueNow=`${(0,fe.clamp)(f,0,100)}`,D.current=n,window.requestAnimationFrame(P)},[e,t,w,E,v]),I=(0,o.useCallback)(n=>{if("Enter"!==n.key){if("Home"===n.key){g.current=vb(d.current),h.current=f.current.getBoundingClientRect()[v];const e=g.current[w]/(h.current-t);return d.current.style.flexGrow=`${e}`,p.current.style.flexGrow=""+(1-e),void(u.current.ariaValueNow="0")}if("End"===n.key){g.current=vb(d.current),h.current=f.current.getBoundingClientRect()[v];const e=g.current[E]/(h.current-t);return d.current.style.flexGrow=`${e}`,p.current.style.flexGrow=""+(1-e),void(u.current.ariaValueNow="100")}if(("column"===e&&fb.has(n.key)||"row"===e&&hb.has(n.key))&&!x.current.has(n.key)&&(b.current=void 0,n.preventDefault(),n.stopPropagation(),m.current=d.current.getBoundingClientRect()[v],h.current=f.current.getBoundingClientRect()[v],g.current=vb(d.current),!x.current.has(n.key))){const e=0===x.current.size;x.current.add(n.key),e&&window.requestAnimationFrame(P)}}else void 0===b.current?(b.current=d.current.style.flexGrow,d.current.style.flexGrow="0",p.current.style.flexGrow="1"):(d.current.style.flexGrow=b.current,p.current.style.flexGrow=""+(1-parseFloat(b.current)),b.current=void 0)},[e,P,t,E,v,w]),R=(0,o.useCallback)(t=>{"row"===e&&!hb.has(t.key)||"column"===e&&!fb.has(t.key)||(x.current.delete(t.key),null==i||i(parseFloat(d.current.style.flexGrow)))},[e,i]),T=(0,o.useCallback)(()=>{d.current.style.flexGrow="0.5",p.current.style.flexGrow="0.5";const e=vb(d.current);g.current=e,m.current=d.current.getBoundingClientRect()[v],u.current.ariaValueNow=""+(m.current-e[w])/(e[E]-e[w])*100},[E,v,w]),k=(0,o.useCallback)(()=>{x.current.size>0&&(x.current.clear(),S.current=null,null==i||i(parseFloat(d.current.style.flexGrow)))},[i]),_=(0,Pn.useStyles2)(bb),L=bm(),M=2===c.length?"visible":"hidden";return s().createElement("div",{ref:f,className:_.container,style:{flexDirection:e}},s().createElement("div",{ref:d,className:_.panel,style:pb({flexGrow:"auto"===n?.5:(0,fe.clamp)(n,0,1),[w]:"min-content"},r),id:`start-panel-${L}`},c[0]),c[1]&&s().createElement(s().Fragment,null,s().createElement("div",{ref:u,style:{[v]:`${t}px`},className:(0,Nn.cx)(_.handle,{[_.handleHorizontal]:"column"===e}),onPointerUp:A,onPointerDown:O,onPointerMove:C,onKeyDown:I,onKeyUp:R,onDoubleClick:T,onBlur:k,role:"separator","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":50,"aria-controls":`start-panel-${L}`,"aria-label":"Pane resize widget",tabIndex:0}),s().createElement("div",{ref:p,className:_.panel,style:pb({flexGrow:"auto"===n?.5:(0,fe.clamp)(1-n,0,1),[w]:"min-content",visibility:`${M}`},a),id:`end-panel-${L}`},c[1])))}function bb(e){return{handle:(0,Nn.css)({cursor:"col-resize",position:"relative",flexShrink:0,userSelect:"none","&::before":{content:'""',position:"absolute",backgroundColor:e.colors.primary.main,left:"50%",transform:"translate(-50%)",top:0,height:"100%",width:"1px",opacity:0,transition:"opacity ease-in-out 0.2s"},"&::after":{content:'""',width:"4px",borderRadius:"4px",backgroundColor:e.colors.border.weak,transition:"background-color ease-in-out 0.2s",height:"50%",top:"calc(50% - (50%) / 2)",transform:"translateX(-50%)",position:"absolute",left:"50%"},"&:hover, &:focus-visible":{outline:"none","&::before":{opacity:1},"&::after":{backgroundColor:e.colors.primary.main}}}),handleHorizontal:(0,Nn.css)({cursor:"row-resize","&::before":{left:"inherit",transform:"translateY(-50%)",top:"50%",height:"1px",width:"100%"},"&::after":{width:"50%",height:"4px",top:"50%",transform:"translateY(-50%)",left:"calc(50% - (50%) / 2)"}}),container:(0,Nn.css)({display:"flex",width:"100%",flexGrow:1,overflow:"hidden"}),panel:(0,Nn.css)({display:"flex",position:"relative",flexBasis:0})}}function vb(e){if(null===e)return;const t=document.body.style.overflow,n=e.style.width,r=e.style.height,a=e.style.flexGrow;document.body.style.overflow="hidden",e.style.flexGrow="0";const{width:o,height:i}=e.getBoundingClientRect();e.style.flexGrow="100";const{width:s,height:l}=e.getBoundingClientRect();return document.body.style.overflow=t,e.style.width=n,e.style.height=r,e.style.flexGrow=a,{minWidth:o,maxWidth:s,minHeight:i,maxHeight:l}}class yb extends J{toggleDirection(){this.setState({direction:"row"===this.state.direction?"column":"row"})}isDraggable(){return!1}}yb.Component=function({model:e}){const{primary:t,secondary:n,direction:r,isHidden:a,initialSize:o,primaryPaneStyles:i,secondaryPaneStyles:l}=e.useState();if(a)return null;const c=t.Component,u=null==n?void 0:n.Component;let d=n?o:1;return s().createElement(gb,{direction:r,initialSize:null!=d?d:.5,primaryPaneStyles:i,secondaryPaneStyles:l},s().createElement(c,{key:t.state.key,model:t,parentState:e.state}),u&&n&&s().createElement(u,{key:n.state.key,model:n,parentState:e.state}))};class wb extends J{enrichDataRequest(){return{app:this.state.name||"app"}}}wb.Component=({model:e})=>{const{pages:t}=e.useState();return s().createElement(Eb.Provider,{value:e},s().createElement(l.Switch,null,t.map(e=>s().createElement(l.Route,{key:e.state.url,exact:!1,path:e.state.url,render:t=>b(e,t)}))))};const Eb=(0,o.createContext)(null),Sb=new Map;function Ob(e){const t=Sb.get(e);if(t)return t;const n=e();return Sb.set(e,n),n}var Cb=Object.defineProperty,Ab=Object.getOwnPropertySymbols,xb=Object.prototype.hasOwnProperty,Db=Object.prototype.propertyIsEnumerable,Pb=(e,t,n)=>t in e?Cb(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;class Ib extends J{}function Rb({node:e}){const t=e.useState(),n=(0,Pn.useStyles2)(Tb);return s().createElement("div",{className:n.container},Object.keys(t).map(r=>s().createElement("div",{className:n.row,key:r},s().createElement("div",{className:n.keyName},r),s().createElement("div",{className:n.value},function(e,t,n){if(null===t)return"null";switch(typeof t){case"number":return s().createElement(Pn.Input,{type:"number",defaultValue:t,onBlur:t=>n.setState({[e]:t.currentTarget.valueAsNumber})});case"string":return s().createElement(Pn.Input,{type:"text",defaultValue:t,onBlur:t=>n.setState({[e]:t.currentTarget.value})});case"object":return Kt(t)?t.constructor.name:(0,fe.isPlainObject)(t)||(0,fe.isArray)(t)?s().createElement(Pn.JSONFormatter,{json:t,open:0}):String(t);default:return typeof t}}(r,t[r],e)))))}function Tb(e){return{container:(0,Nn.css)({flexGrow:1,display:"flex",gap:e.spacing(.5),flexDirection:"column"}),row:(0,Nn.css)({display:"flex",gap:e.spacing(2)}),keyName:(0,Nn.css)({display:"flex",flexGrow:"0",width:120,alignItems:"center",height:e.spacing(e.components.height.md)}),value:(0,Nn.css)({flexGrow:1,minHeight:e.spacing(e.components.height.md),display:"flex",alignItems:"center"})}}function kb({node:e,selectedObject:t,onSelect:n}){const r=(0,Pn.useStyles2)(_b),a=[],o=e===t;return e.forEachChild(e=>{a.push(s().createElement(kb,{node:e,key:e.state.key,selectedObject:t,onSelect:n}))}),s().createElement("div",{className:r.container},s().createElement("div",{className:(0,Nn.cx)(r.name,o&&r.selected),onClick:()=>n(e)},e.constructor.name),s().createElement("div",{className:r.children},a))}function _b(e){return{container:(0,Nn.css)({flexGrow:1,display:"flex",gap:e.spacing(.5),flexDirection:"column"}),name:(0,Nn.css)({flexGrow:1,display:"flex",gap:e.spacing(1),fontSize:e.typography.bodySmall.fontSize,cursor:"pointer",padding:e.spacing(0,1),borderRadius:e.shape.borderRadius(2),position:"relative","&:hover":{background:e.colors.background.secondary}}),selected:(0,Nn.css)({"&::before":{display:"block",content:"' '",position:"absolute",left:0,width:4,bottom:2,top:2,borderRadius:e.shape.radius.default,backgroundImage:e.colors.gradients.brandVertical}}),children:(0,Nn.css)({flexGrow:1,display:"flex",flexDirection:"column",paddingLeft:e.spacing(1)})}}function Lb({scene:e}){const t=(0,Pn.useStyles2)(Mb),[n,r]=(0,o.useState)(!1),[a,i]=(0,o.useState)();return s().createElement(s().Fragment,null,s().createElement(Pn.ToolbarButton,{variant:"canvas",icon:"bug",onClick:()=>r(!0)}),n&&s().createElement(Pn.Drawer,{title:"Scene debugger",onClose:()=>r(!1),size:"lg"},s().createElement("div",{className:t.panes},s().createElement("div",{className:t.pane1},s().createElement("div",{className:t.paneHeading},"Scene graph"),s().createElement(Pn.CustomScrollbar,{autoHeightMin:"100%"},s().createElement("div",{className:t.treeWrapper},s().createElement(kb,{node:e,selectedObject:a,onSelect:i})))),s().createElement("div",{className:t.pane2},s().createElement("div",{className:t.paneHeading},"Object details"),a&&s().createElement(Rb,{node:a})))))}function Mb(e){return{panes:(0,Nn.css)({flexGrow:1,display:"flex",height:"100%",flexDirection:"row",marginTop:e.spacing(-2)}),pane1:(0,Nn.css)({flexGrow:0,display:"flex",height:"100%",flexDirection:"column",borderRight:`1px solid ${e.colors.border.weak}`}),pane2:(0,Nn.css)({flexGrow:1,display:"flex",minHeight:"100%",flexDirection:"column",paddingLeft:e.spacing(2)}),treeWrapper:(0,Nn.css)({paddingRight:e.spacing(2),height:"100%",marginLeft:e.spacing(-1)}),paneHeading:(0,Nn.css)({padding:e.spacing(1,0),fontWeight:e.typography.fontWeightMedium})}}function Bb({page:e,routeProps:t}){const n=function(e){return e.parent instanceof Vb?e.parent:e}(e),r=n.useState(),a=function(){const e=(0,l.useLocation)();return(0,u.locationSearchToObject)(e.search||"")}(),i=e.getScene(t.match),c=(0,o.useContext)(Eb),d=r.initializedScene===i,{layout:p}=e.state,f=Lt();(0,o.useLayoutEffect)(()=>{d||n.initializeScene(i)},[i,n,d]),(0,o.useEffect)(()=>()=>n.setState({initializedScene:void 0}),[n]);const h=tm(n,null==c?void 0:c.state.urlSyncOptions);if(!d&&!h)return null;const m={text:r.title,img:r.titleImg,icon:r.titleIcon,url:g(r.url,f.getSearchObject(),r.preserveUrlKeys),hideFromBreadcrumbs:r.hideFromBreadcrumbs,parentItem:jb(r.getParentPage?r.getParentPage():n.parent,a,f.getSearchObject())};r.tabs&&(m.children=r.tabs.map(t=>({text:t.state.title,icon:t.state.titleIcon,tabSuffix:t.state.tabSuffix,active:e===t,url:g(t.state.url,f.getSearchObject(),t.state.preserveUrlKeys),parentItem:m})));let b=[];return r.controls&&(b=r.controls.map(e=>s().createElement(e.Component,{model:e,key:e.state.key}))),a["scene-debugger"]&&b.push(s().createElement(Lb,{scene:n,key:"scene-debugger"})),s().createElement(u.PluginPage,{layout:p,pageNav:m,actions:b,renderTitle:r.renderTitle,subTitle:r.subTitle},s().createElement(i.Component,{model:i}))}function jb(e,t,n){if(e instanceof Vb)return{text:e.state.title,url:g(e.state.url,n,e.state.preserveUrlKeys),hideFromBreadcrumbs:e.state.hideFromBreadcrumbs,parentItem:jb(e.state.getParentPage?e.state.getParentPage():e.parent,t,n)}}function Nb({drilldown:e,parent:t,routeProps:n}){return b(t.getDrilldownPage(e,n.match),n)}Ib.Component=({model:e})=>{const{component:t,props:n,reactNode:r}=e.useState();return t?s().createElement(t,((e,t)=>{for(var n in t||(t={}))xb.call(t,n)&&Pb(e,n,t[n]);if(Ab)for(var n of Ab(t))Db.call(t,n)&&Pb(e,n,t[n]);return e})({},n)):r||null};class Vb extends J{constructor(e){super(e),this._sceneCache=new Map,this._drilldownCache=new Map}initializeScene(e){this.setState({initializedScene:e})}getScene(e){let t=this._sceneCache.get(e.url);if(t)return t;if(!this.state.getScene)throw new Error("Missing getScene on SceneAppPage "+this.state.title);return t=this.state.getScene(e),this._sceneCache.set(e.url,t),t}getDrilldownPage(e,t){let n=this._drilldownCache.get(t.url);return n||(n=e.getPage(t,this),this._drilldownCache.set(t.url,n),n)}enrichDataRequest(e){if(this.state.getParentPage)return this.state.getParentPage().enrichDataRequest(e);if(!this.parent)return null;const t=this.getRoot();return Xt(t)?t.enrichDataRequest(e):null}}Vb.Component=function({model:e,routeProps:t}){var n,r;const{tabs:a,drilldowns:o}=e.useState(),i=[];if(a&&a.length>0)for(let t=0;t<a.length;t++){const o=a[t];if(0===t&&i.push(s().createElement(l.Route,{exact:!0,key:e.state.url,path:null!=(n=e.state.routePath)?n:e.state.url,render:e=>b(o,e)})),i.push(s().createElement(l.Route,{exact:!0,key:o.state.url,path:null!=(r=o.state.routePath)?r:o.state.url,render:e=>b(o,e)})),o.state.drilldowns)for(const e of o.state.drilldowns)i.push(s().createElement(l.Route,{exact:!1,key:e.routePath,path:e.routePath,render:t=>s().createElement(Nb,{drilldown:e,parent:o,routeProps:t})}))}if(o)for(const t of o)i.push(s().createElement(l.Route,{key:t.routePath,exact:!1,path:t.routePath,render:n=>s().createElement(Nb,{drilldown:t,parent:e,routeProps:n})}));return!a&&(c=e,(u=t.match).isExact&&(u.url===c.state.url||c.parent instanceof Vb&&c.parent.state.tabs[0]===c&&c.parent.state.url===u.url))?s().createElement(Bb,{page:e,routeProps:t}):(i.push(function(e,t){return s().createElement(l.Route,{key:"fallback route",render:n=>{var r,a,o;const i=null!=(o=null==(a=(r=e.state).getFallbackPage)?void 0:a.call(r))?o:new Vb({url:"",title:"Not found",subTitle:"The url did not match any page",getScene:()=>new rm({body:new Xg({direction:"column",children:[new Zg({body:new Ib({component:()=>s().createElement("div",{"data-testid":"default-fallback-content"},"If you found your way here using a link then there might be a bug in this application.")})})]})})});return s().createElement(Bb,{page:i,routeProps:t})}})}(e,t)),s().createElement(l.Switch,null,i));var c,u};var Fb=(e=>(e.Always="always",e.Auto="auto",e.Never="never",e))(Fb||{}),$b=(e=>(e.Hue="hue",e.None="none",e.Opacity="opacity",e.Scheme="scheme",e))($b||{}),Ub=(e=>(e.None="none",e.Normal="normal",e.Percent="percent",e))(Ub||{}),zb=(e=>(e.Auto="auto",e.Horizontal="horizontal",e.Vertical="vertical",e))(zb||{}),Wb=(e=>(e.Background="background",e.BackgroundSolid="background_solid",e.None="none",e.Value="value",e))(Wb||{}),Hb=(e=>(e.Area="area",e.Line="line",e.None="none",e))(Hb||{}),Gb=(e=>(e.Auto="auto",e.Center="center",e))(Gb||{}),qb=(e=>(e.Auto="auto",e.Name="name",e.None="none",e.Value="value",e.ValueAndName="value_and_name",e))(qb||{}),Qb=(e=>(e.Inverted="inverted",e.SameAsValue="same_as_value",e.Standard="standard",e))(Qb||{}),Yb=(e=>(e.Multi="multi",e.None="none",e.Single="single",e))(Yb||{}),Kb=(e=>(e.Basic="basic",e.Gradient="gradient",e.Lcd="lcd",e))(Kb||{}),Xb=(e=>(e.Color="color",e.Hidden="hidden",e.Text="text",e))(Xb||{}),Zb=(e=>(e.Auto="auto",e.Hidden="hidden",e.Left="left",e.Top="top",e))(Zb||{}),Jb=(e=>(e.Auto="auto",e.Manual="manual",e))(Jb||{}),ev=(e=>(e.Auto="auto",e.Lg="lg",e.Md="md",e.Sm="sm",e))(ev||{});const tv={barRadius:0,barWidth:.97,fullHighlight:!1,groupWidth:.7,orientation:zb.Auto,showValue:Fb.Auto,stacking:Ub.None,xTickLabelRotation:0,xTickLabelSpacing:0},nv={fillOpacity:80,gradientMode:$b.None,lineWidth:1},rv={displayMode:Kb.Gradient,maxVizHeight:300,minVizHeight:16,minVizWidth:8,namePlacement:Zb.Auto,showUnfilled:!0,sizing:Jb.Auto,valueMode:Xb.Color},av={selectedSeries:0},ov={minVizHeight:75,minVizWidth:75,showThresholdLabels:!1,showThresholdMarkers:!0,sizing:Jb.Auto},iv={layers:[]},sv={calculate:!1,cellGap:1,cellValues:{},color:{scheme:"Oranges",fill:"dark-orange",reverse:!1,exponent:.5,steps:64},exemplars:{color:"rgba(255,0,255,0.7)"},filterValues:{le:1e-9},legend:{show:!0},selectionMode:"x",showValue:Fb.Auto,tooltip:{mode:Yb.Single,yHistogram:!1,showColorScale:!1}},lv={bucketCount:30,bucketOffset:0},cv={fillOpacity:80,gradientMode:$b.None,lineWidth:1},uv={showImage:!0},dv={displayLabels:[]},pv={colorMode:Wb.Value,graphMode:Hb.Area,justifyMode:Gb.Auto,percentChangeColorMode:Qb.Standard,showPercentChange:!1,textMode:qb.Auto,wideLayout:!0},fv={alignValue:"left",mergeValues:!0,perPage:20,rowHeight:.9,showValue:Fb.Auto},hv={fillOpacity:70,lineWidth:0},mv={colWidth:.9,perPage:20,rowHeight:.9,showValue:Fb.Auto},gv={fillOpacity:70,lineWidth:1},bv={cellHeight:ev.Sm,footer:{show:!1,countRows:!1,reducer:[]},frameIndex:0,showHeader:!0,showTypeIcons:!1,sortBy:[]},vv={content:"# Title\n\nFor markdown syntax help: [commonmark.org/help](https://commonmark.org/help/)",mode:"markdown"},yv={fillOpacity:50,show:"points"},wv={series:[]};class Ev{constructor(){this._overrides=[]}overrideColor(e){return this._overrides[this._overrides.length-1].properties.push({id:"color",value:e}),this}overrideDecimals(e){return this._overrides[this._overrides.length-1].properties.push({id:"decimals",value:e}),this}overrideDisplayName(e){return this._overrides[this._overrides.length-1].properties.push({id:"displayName",value:e}),this}overrideFilterable(e){return this._overrides[this._overrides.length-1].properties.push({id:"filterable",value:e}),this}overrideLinks(e){return this._overrides[this._overrides.length-1].properties.push({id:"links",value:e}),this}overrideMappings(e){return this._overrides[this._overrides.length-1].properties.push({id:"mappings",value:e}),this}overrideMax(e){return this._overrides[this._overrides.length-1].properties.push({id:"max",value:e}),this}overrideMin(e){return this._overrides[this._overrides.length-1].properties.push({id:"min",value:e}),this}overrideNoValue(e){return this._overrides[this._overrides.length-1].properties.push({id:"noValue",value:e}),this}overrideThresholds(e){return this._overrides[this._overrides.length-1].properties.push({id:"thresholds",value:e}),this}overrideUnit(e){return this._overrides[this._overrides.length-1].properties.push({id:"unit",value:e}),this}}class Sv extends Ev{match(e){return this._overrides.push({matcher:e,properties:[]}),this}matchFieldsWithName(e){return this._overrides.push({matcher:{id:c.FieldMatcherID.byName,options:e},properties:[]}),this}matchFieldsWithNameByRegex(e){return this._overrides.push({matcher:{id:c.FieldMatcherID.byRegexp,options:e},properties:[]}),this}matchFieldsByType(e){return this._overrides.push({matcher:{id:c.FieldMatcherID.byType,options:e},properties:[]}),this}matchFieldsByQuery(e){return this._overrides.push({matcher:{id:c.FieldMatcherID.byFrameRefID,options:e},properties:[]}),this}matchFieldsByValue(e){return this._overrides.push({matcher:{id:c.FieldMatcherID.byValue,options:e},properties:[]}),this}matchComparisonQuery(e){return this.matchFieldsByQuery(Rg(e))}overrideCustomFieldConfig(e,t){const n=`custom.${String(e)}`;return this._overrides[this._overrides.length-1].properties.push({id:n,value:t}),this}build(){return this._overrides}}var Ov=Object.defineProperty,Cv=Object.defineProperties,Av=Object.getOwnPropertyDescriptors,xv=Object.getOwnPropertySymbols,Dv=Object.prototype.hasOwnProperty,Pv=Object.prototype.propertyIsEnumerable,Iv=(e,t,n)=>t in e?Ov(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Rv=(e,t)=>{for(var n in t||(t={}))Dv.call(t,n)&&Iv(e,n,t[n]);if(xv)for(var n of xv(t))Pv.call(t,n)&&Iv(e,n,t[n]);return e},Tv=(e,t)=>Cv(e,Av(t));class kv{constructor(e){this.defaultFieldConfig=e,this._fieldConfig={defaults:{},overrides:[]},this._overridesBuilder=new Sv,this.setDefaults()}setDefaults(){const e={defaults:{custom:this.defaultFieldConfig?(0,fe.cloneDeep)(this.defaultFieldConfig()):{}},overrides:[]};this._fieldConfig=e}setColor(e){return this.setFieldConfigDefaults("color",e)}setDecimals(e){return this.setFieldConfigDefaults("decimals",e)}setDisplayName(e){return this.setFieldConfigDefaults("displayName",e)}setFilterable(e){return this.setFieldConfigDefaults("filterable",e)}setLinks(e){return this.setFieldConfigDefaults("links",e)}setMappings(e){return this.setFieldConfigDefaults("mappings",e)}setMax(e){return this.setFieldConfigDefaults("max",e)}setMin(e){return this.setFieldConfigDefaults("min",e)}setNoValue(e){return this.setFieldConfigDefaults("noValue",e)}setThresholds(e){return this.setFieldConfigDefaults("thresholds",e)}setUnit(e){return this.setFieldConfigDefaults("unit",e)}setCustomFieldConfig(e,t){return this._fieldConfig.defaults=Tv(Rv({},this._fieldConfig.defaults),{custom:(0,fe.merge)(this._fieldConfig.defaults.custom,{[e]:t})}),this}setOverrides(e){return e(this._overridesBuilder),this}setFieldConfigDefaults(e,t){return this._fieldConfig.defaults=Tv(Rv({},this._fieldConfig.defaults),{[e]:t}),this}build(){return{defaults:this._fieldConfig.defaults,overrides:this._overridesBuilder.build()}}}class _v{constructor(e){this.defaultOptions=e,this._options={},this.setDefaults()}setDefaults(){this._options=this.defaultOptions?(0,fe.cloneDeep)(this.defaultOptions()):{}}setOption(e,t){return this._options=(0,fe.merge)(this._options,{[e]:t}),this}build(){return this._options}}var Lv=Object.defineProperty,Mv=Object.defineProperties,Bv=Object.getOwnPropertyDescriptors,jv=Object.getOwnPropertySymbols,Nv=Object.prototype.hasOwnProperty,Vv=Object.prototype.propertyIsEnumerable,Fv=(e,t,n)=>t in e?Lv(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;class $v{constructor(e,t,n,r){this._state={},this._state.title="",this._state.description="",this._state.displayMode="default",this._state.hoverHeader=!1,this._state.pluginId=e,this._state.pluginVersion=t,this._fieldConfigBuilder=new kv(r),this._panelOptionsBuilder=new _v(n)}setTitle(e){return this._state.title=e,this}setDescription(e){return this._state.description=e,this}setDisplayMode(e){return this._state.displayMode=e,this}setHoverHeader(e){return this._state.hoverHeader=e,this}setShowMenuAlways(e){return this._state.showMenuAlways=e,this}setMenu(e){return this._state.menu=e,this}setHeaderActions(e){return this._state.headerActions=e,this}setCollapsible(e){return this._state.collapsible=e,this}setCollapsed(e){return this._state.collapsed=e,this}setColor(e){return this._fieldConfigBuilder.setColor(e),this}setDecimals(e){return this._fieldConfigBuilder.setDecimals(e),this}setDisplayName(e){return this._fieldConfigBuilder.setDisplayName(e),this}setFilterable(e){return this._fieldConfigBuilder.setFilterable(e),this}setLinks(e){return this._fieldConfigBuilder.setLinks(e),this}setMappings(e){return this._fieldConfigBuilder.setMappings(e),this}setMax(e){return this._fieldConfigBuilder.setMax(e),this}setMin(e){return this._fieldConfigBuilder.setMin(e),this}setNoValue(e){return this._fieldConfigBuilder.setNoValue(e),this}setThresholds(e){return this._fieldConfigBuilder.setThresholds(e),this}setUnit(e){return this._fieldConfigBuilder.setUnit(e),this}setCustomFieldConfig(e,t){return this._fieldConfigBuilder.setCustomFieldConfig(e,t),this}setOverrides(e){return this._fieldConfigBuilder.setOverrides(e),this}setOption(e,t){return this._panelOptionsBuilder.setOption(e,t),this}setData(e){return this._state.$data=e,this}setTimeRange(e){return this._state.$timeRange=e,this}setVariables(e){return this._state.$variables=e,this}setBehaviors(e){return this._state.$behaviors=e,this}setSeriesLimit(e){return this._state.seriesLimit=e,this}applyMixin(e){return e(this),this}build(){const e=new Dd((t=((e,t)=>{for(var n in t||(t={}))Nv.call(t,n)&&Fv(e,n,t[n]);if(jv)for(var n of jv(t))Vv.call(t,n)&&Fv(e,n,t[n]);return e})({},this._state),n={options:this._panelOptionsBuilder.build(),fieldConfig:this._fieldConfigBuilder.build()},Mv(t,Bv(n))));var t,n;return e}}const Uv={barchart:()=>new $v("barchart","10.0.0",()=>tv,()=>nv),bargauge:()=>new $v("bargauge","10.0.0",()=>rv),datagrid:()=>new $v("datagrid","10.0.0",()=>av),flamegraph:()=>new $v("flamegraph","10.0.0"),gauge:()=>new $v("gauge","10.0.0",()=>ov),geomap:()=>new $v("geomap","10.0.0",()=>iv),heatmap:()=>new $v("heatmap","10.0.0",()=>sv),histogram:()=>new $v("histogram","10.0.0",()=>lv,()=>cv),logs:()=>new $v("logs","10.0.0"),news:()=>new $v("news","10.0.0",()=>uv),nodegraph:()=>new $v("nodeGraph","10.0.0"),piechart:()=>new $v("piechart","10.0.0",()=>dv),stat:()=>new $v("stat","10.0.0",()=>pv),statetimeline:()=>new $v("state-timeline","10.0.0",()=>fv,()=>hv),statushistory:()=>new $v("status-history","10.0.0",()=>mv,()=>gv),table:()=>new $v("table","10.0.0",()=>bv),text:()=>new $v("text","10.0.0",()=>vv),timeseries:()=>new $v("timeseries","10.0.0"),trend:()=>new $v("trend","10.0.0"),traces:()=>new $v("traces","10.0.0"),xychart:()=>new $v("xychart","10.0.0",()=>wv,()=>yv)};class zv{constructor(e,t,n,r){this._pluginId=e,this._pluginVersion=t,this._fieldConfigBuilder=new kv(r),this._panelOptionsBuilder=new _v(n)}setColor(e){return this._fieldConfigBuilder.setColor(e),this}setDecimals(e){return this._fieldConfigBuilder.setDecimals(e),this}setDisplayName(e){return this._fieldConfigBuilder.setDisplayName(e),this}setFilterable(e){return this._fieldConfigBuilder.setFilterable(e),this}setLinks(e){return this._fieldConfigBuilder.setLinks(e),this}setMappings(e){return this._fieldConfigBuilder.setMappings(e),this}setMax(e){return this._fieldConfigBuilder.setMax(e),this}setMin(e){return this._fieldConfigBuilder.setMin(e),this}setNoValue(e){return this._fieldConfigBuilder.setNoValue(e),this}setThresholds(e){return this._fieldConfigBuilder.setThresholds(e),this}setUnit(e){return this._fieldConfigBuilder.setUnit(e),this}setCustomFieldConfig(e,t){return this._fieldConfigBuilder.setCustomFieldConfig(e,t),this}setOverrides(e){return this._fieldConfigBuilder.setOverrides(e),this}setOption(e,t){return this._panelOptionsBuilder.setOption(e,t),this}build(){return{pluginId:this._pluginId,pluginVersion:this._pluginVersion,options:this._panelOptionsBuilder.build(),fieldConfig:this._fieldConfigBuilder.build()}}}const Wv={barchart:()=>new zv("barchart","10.0.0",()=>tv,()=>nv),bargauge:()=>new zv("bargauge","10.0.0",()=>rv),datagrid:()=>new zv("datagrid","10.0.0",()=>av),flamegraph:()=>new zv("flamegraph","10.0.0"),gauge:()=>new zv("gauge","10.0.0",()=>ov),geomap:()=>new zv("geomap","10.0.0",()=>iv),heatmap:()=>new zv("heatmap","10.0.0",()=>sv),histogram:()=>new zv("histogram","10.0.0",()=>lv,()=>cv),logs:()=>new zv("logs","10.0.0"),news:()=>new zv("news","10.0.0",()=>uv),nodegraph:()=>new zv("nodeGraph","10.0.0"),piechart:()=>new zv("piechart","10.0.0",()=>dv),stat:()=>new zv("stat","10.0.0",()=>pv),statetimeline:()=>new zv("state-timeline","10.0.0",()=>fv,()=>hv),statushistory:()=>new zv("status-history","10.0.0",()=>mv,()=>gv),table:()=>new zv("table","10.0.0",()=>bv),text:()=>new zv("text","10.0.0",()=>vv),timeseries:()=>new zv("timeseries","10.0.0"),trend:()=>new zv("trend","10.0.0"),traces:()=>new zv("traces","10.0.0"),xychart:()=>new zv("xychart","10.0.0",()=>wv,()=>yv)},Hv={barchart:()=>new _v(()=>tv),bargauge:()=>new _v(()=>rv),datagrid:()=>new _v(()=>av),flamegraph:()=>new _v,gauge:()=>new _v(()=>ov),geomap:()=>new _v(()=>iv),heatmap:()=>new _v(()=>sv),histogram:()=>new _v(()=>lv),logs:()=>new _v,news:()=>new _v(()=>uv),nodegraph:()=>new _v,piechart:()=>new _v(()=>dv),stat:()=>new _v(()=>pv),statetimeline:()=>new _v(()=>fv),statushistory:()=>new _v(()=>mv),table:()=>new _v(()=>bv),text:()=>new _v(()=>vv),timeseries:()=>new _v,trend:()=>new _v,traces:()=>new _v,xychart:()=>new _v(()=>wv)},Gv={barchart:()=>new kv(()=>nv),bargauge:()=>new kv,datagrid:()=>new kv,flamegraph:()=>new kv,gauge:()=>new kv,geomap:()=>new kv,heatmap:()=>new kv,histogram:()=>new kv(()=>cv),logs:()=>new kv,news:()=>new kv,nodegraph:()=>new kv,piechart:()=>new kv,stat:()=>new kv,statetimeline:()=>new kv(()=>hv),statushistory:()=>new kv(()=>gv),table:()=>new kv,text:()=>new kv,timeseries:()=>new kv,trend:()=>new kv,traces:()=>new kv,xychart:()=>new kv(()=>yv)},qv={getUrlWithAppState:g,registerRuntimePanelPlugin:function({pluginId:e,plugin:t}){if(A.has(e))throw new Error(`A runtime panel plugin with id ${e} has already been registered`);var n;t.meta=(n=((e,t)=>{for(var n in t||(t={}))S.call(t,n)&&C(e,n,t[n]);if(E)for(var n of E(t))O.call(t,n)&&C(e,n,t[n]);return e})({},t.meta),y(n,w({id:e,name:e,module:"runtime plugin",baseUrl:"runtime plugin",info:{author:{name:"Runtime plugin "+e},description:"",links:[],logos:{large:"",small:""},screenshots:[],updated:"",version:""}}))),A.set(e,t)},registerRuntimeDataSource:pe,registerVariableMacro:function(e,t){if(Qt.get(e))throw new Error(`Macro already registered ${e}`);return Qt.set(e,t),()=>{Qt.delete(e)}},cloneSceneObjectState:le,syncStateFromSearchParams:function(e,t){pu(e,t,new cu)},getUrlState:du,renderPrometheusLabelFilters:sc,escapeLabelValueInRegexSelector:cc,escapeLabelValueInExactSelector:lc,escapeURLDelimiters:function(e){return fc(pc(e))},isAdHocVariable:function(e){return"adhoc"===e.state.type},isConstantVariable:function(e){return"constant"===e.state.type},isCustomVariable:function(e){return"custom"===e.state.type},isDataSourceVariable:function(e){return"datasource"===e.state.type},isIntervalVariable:function(e){return"interval"===e.state.type},isQueryVariable:function(e){return"query"===e.state.type},isTextBoxVariable:function(e){return"textbox"===e.state.type},isGroupByVariable:function(e){return"groupby"===e.state.type}}},9796:e=>{"use strict";const t="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};e.exports=t},9893:e=>{"use strict";e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var a=void 0!==n.layer;a&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,a&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var o=n.sourceMap;o&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleTagTransform(r,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},9954:(e,t,n)=>{"use strict";t.__esModule=!0,t.cloneElement=function(e,t){return t.style&&e.props.style&&(t.style=i(i({},e.props.style),t.style)),t.className&&e.props.className&&(t.className=e.props.className+" "+t.className),a.default.cloneElement(e,t)};var r,a=(r=n(5959))&&r.__esModule?r:{default:r};function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach(function(t){s(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function s(e,t,n){return(t=function(e){var t=function(e){if("object"!=typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},9997:(e,t)=>{"use strict";t.createSelector=function(e,t){const n="string"==typeof e?()=>e:e;let r="aria-label";return t?r=t:n().startsWith("data-testid")&&(r="data-testid"),{selector:n,apply:(...e)=>({[r]:n(...e)})}},t.getJestSelectors=(e,t=[])=>n=>Object.entries(e).reduce((e,[r,a])=>({...e,[r]:(e=!1,...o)=>{const i="object"==typeof a&&"selector"in a?a.selector:a,s="function"==typeof i?i(...o):i;return s.startsWith("data-testid")||t.includes(r)?e?n.queryByTestId(s):n.getByTestId(s):e?n.queryByLabelText(s):n.getByLabelText(s)}}),{})}},m={};function g(e){var t=m[e];if(void 0!==t)return t.exports;var n=m[e]={id:e,loaded:!1,exports:{}};return h[e](n,n.exports,g),n.loaded=!0,n.exports}g.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return g.d(t,{a:t}),t},f=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,g.t=function(e,t){if(1&t&&(e=this(e)),8&t)return e;if("object"==typeof e&&e){if(4&t&&e.__esModule)return e;if(16&t&&"function"==typeof e.then)return e}var n=Object.create(null);g.r(n);var r={};p=p||[null,f({}),f([]),f(f)];for(var a=2&t&&e;("object"==typeof a||"function"==typeof a)&&!~p.indexOf(a);a=f(a))Object.getOwnPropertyNames(a).forEach(t=>r[t]=()=>e[t]);return r.default=()=>e,g.d(n,r),n},g.d=(e,t)=>{for(var n in t)g.o(t,n)&&!g.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},g.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),g.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),g.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},g.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),g.nc=void 0;var b={};return(()=>{"use strict";g.r(b),g.d(b,{plugin:()=>$l});var e=g(7781),t=g(2007),n=g(7774),r=g(5959),a=g.n(r),o=function(e){return e.LEFT="left",e.CENTER="center",e.RIGHT="right",e}({}),i=function(e){return e.SMALL="sm",e.MEDIUM="md",e.LARGE="lg",e}({}),s=function(e){return e.CUSTOM="custom",e.DESTRUCTIVE="destructive",e.HIDDEN="hidden",e.PRIMARY="primary",e.SECONDARY="secondary",e}({}),l=function(e){return e.FORM="form",e.BOTTOM="bottom",e}({}),c=function(e){return e.C="c",e.CPP="cpp",e.CSHARP="csharp",e.GO="go",e.JAVA="java",e.JAVASCRIPT="javascript",e.JSON="json",e.MYSQL="mysql",e.PHP="php",e.PGSQL="pgsql",e.PYTHON="python",e.RUBY="ruby",e.SQL="sql",e.TYPESCRIPT="typescript",e.HTML="html",e.MARKDOWN="markdown",e}({}),u=function(e){return e.REQUEST="request",e.GET_PAYLOAD="getPayload",e.ELEMENT_VALUE_CHANGED="elementValueChanged",e.ELEMENT_SHOW_IF="elementShowIf",e.ELEMENT_DISABLE_IF="elementDisableIf",e.ELEMENT_GET_OPTIONS="elementGetOptions",e}({}),d=function(e){return e.HEX="hex",e.RGB="rgb",e}({}),p=function(e){return e.BOOLEAN="boolean",e.CODE="code",e.COLOR_PICKER="colorPicker",e.BUTTON="button",e.DATE="date",e.DATETIME="datetime",e.DISABLED="disabled",e.DISABLED_TEXTAREA="disabledTextarea",e.FILE="file",e.LINK="link",e.MULTISELECT="multiselect",e.NUMBER="number",e.PASSWORD="password",e.RADIO="radio",e.SELECT="select",e.SLIDER="slider",e.STRING="string",e.TEXTAREA="textarea",e.TIME="time",e.CHECKBOX_LIST="checkboxList",e}({}),f=function(e){return e.NEW_TAB="_blank",e.SELF_TAB="_self",e}({}),h=function(e){return e.NAME="name",e.OLD_VALUE="oldValue",e.NEW_VALUE="newValue",e}({}),m=function(e){return e.DISABLED="disabled",e.AUTO="auto",e.MANUAL="manual",e}({});const v=[{value:s.HIDDEN,label:"Hidden"}],y=[{value:s.PRIMARY,label:"Primary"},{value:s.SECONDARY,label:"Secondary"},{value:s.DESTRUCTIVE,label:"Destructive"},{value:s.CUSTOM,label:"Custom"}],w=[{value:o.LEFT,label:"Left",icon:"horizontal-align-left"},{value:o.CENTER,label:"Center",icon:"horizontal-align-center"},{value:o.RIGHT,label:"Right",icon:"horizontal-align-right"}],E=[{value:i.SMALL,label:"Small"},{value:i.MEDIUM,label:"Medium"},{value:i.LARGE,label:"Large"}],S={detail:"Section Helpers",items:{add:new n.OA("Add new Section",t.CodeEditorSuggestionItemKind.Method),update:new n.OA("Change sections",t.CodeEditorSuggestionItemKind.Method),remove:new n.OA("Remove section",t.CodeEditorSuggestionItemKind.Method),assign:new n.OA("Assign elements to section",t.CodeEditorSuggestionItemKind.Method),unassign:new n.OA("Unassign elements from section",t.CodeEditorSuggestionItemKind.Method),get:new n.OA("Get section",t.CodeEditorSuggestionItemKind.Method),getAll:new n.OA("Get all sections",t.CodeEditorSuggestionItemKind.Method),toggle:new n.OA("Toggle section",t.CodeEditorSuggestionItemKind.Method),collapse:new n.OA("Collapse section",t.CodeEditorSuggestionItemKind.Method),expand:new n.OA("Expand section",t.CodeEditorSuggestionItemKind.Method),expandedState:new n.OA("Sections Expanded State")}},O=new n.Fn({detail:"All properties and methods.",items:{panel:{detail:"Panel instance properties.",items:{data:new n.OA("Panel data."),options:new n.OA("Panel options."),onOptionsChange:new n.OA("Update panel options on dashboard.",t.CodeEditorSuggestionItemKind.Method),elements:new n.OA("Panel elements."),onChangeElements:new n.OA("Update panel elements.",t.CodeEditorSuggestionItemKind.Method),patchFormValue:new n.OA("Patch panel elements.",t.CodeEditorSuggestionItemKind.Method),setFormValue:new n.OA("Set panel elements.",t.CodeEditorSuggestionItemKind.Method),formValue:new n.OA("Return current form value.",t.CodeEditorSuggestionItemKind.Method),initial:new n.OA("Initial values."),setInitial:new n.OA("Allows to specify the initial values.",t.CodeEditorSuggestionItemKind.Method),initialRequest:new n.OA("Run Initial request.",t.CodeEditorSuggestionItemKind.Method),enableSubmit:new n.OA("Enable submit button.",t.CodeEditorSuggestionItemKind.Method),disableSubmit:new n.OA("Disable submit button.",t.CodeEditorSuggestionItemKind.Method),response:new n.OA("Response object."),sectionsUtils:S}},grafana:{detail:"Grafana properties and methods.",items:{backendService:new n.OA("Backend service."),locationService:new n.OA("Location service."),templateService:new n.OA("Template variables service."),notifyError:new n.OA("Show error notification.",t.CodeEditorSuggestionItemKind.Method),notifySuccess:new n.OA("Show success notification.",t.CodeEditorSuggestionItemKind.Method),notifyWarning:new n.OA("Show warning notification.",t.CodeEditorSuggestionItemKind.Method),eventBus:new n.OA("Panels events."),appEvents:new n.OA("Application events."),refresh:new n.OA("Refresh dashboard.",t.CodeEditorSuggestionItemKind.Method)}},utils:{detail:"Utils and helpers functions.",items:{toDataQueryResponse:new n.OA("Parse the results from /api/ds/query.",t.CodeEditorSuggestionItemKind.Method),fileToBase64:new n.OA("Converts File to Base64 string.",t.CodeEditorSuggestionItemKind.Method)}}}}),C=new n.Fn({detail:"All properties and methods.",items:{panel:{detail:"Panel instance properties.",items:{data:new n.OA("Panel data."),options:new n.OA("Panel options."),onOptionsChange:new n.OA("Update panel options on dashboard.",t.CodeEditorSuggestionItemKind.Method),elements:new n.OA("Panel elements."),onChangeElements:new n.OA("Update panel elements.",t.CodeEditorSuggestionItemKind.Method),patchFormValue:new n.OA("Patch panel elements.",t.CodeEditorSuggestionItemKind.Method),setFormValue:new n.OA("Set panel elements.",t.CodeEditorSuggestionItemKind.Method),formValue:new n.OA("Return current form value.",t.CodeEditorSuggestionItemKind.Method),initial:new n.OA("Initial values."),initialRequest:new n.OA("Run Initial request.",t.CodeEditorSuggestionItemKind.Method),enableSubmit:new n.OA("Enable submit button.",t.CodeEditorSuggestionItemKind.Method),disableSubmit:new n.OA("Disable submit button.",t.CodeEditorSuggestionItemKind.Method),setError:new n.OA("Set panel error.",t.CodeEditorSuggestionItemKind.Method),enableReset:new n.OA("Enable reset button.",t.CodeEditorSuggestionItemKind.Method),disableReset:new n.OA("Disable reset button.",t.CodeEditorSuggestionItemKind.Method),enableSaveDefault:new n.OA("Enable save default button.",t.CodeEditorSuggestionItemKind.Method),disableSaveDefault:new n.OA("Disable save default button.",t.CodeEditorSuggestionItemKind.Method),sectionsUtils:S}},grafana:{detail:"Grafana properties and methods.",items:{locationService:new n.OA("Location service."),templateService:new n.OA("Template variables service."),notifyError:new n.OA("Show error notification.",t.CodeEditorSuggestionItemKind.Method),notifySuccess:new n.OA("Show success notification.",t.CodeEditorSuggestionItemKind.Method),notifyWarning:new n.OA("Show warning notification.",t.CodeEditorSuggestionItemKind.Method),eventBus:new n.OA("Panels events."),appEvents:new n.OA("Application events."),refresh:new n.OA("Refresh dashboard.",t.CodeEditorSuggestionItemKind.Method)}},utils:{detail:"Utils and helpers functions.",items:{toDataQueryResponse:new n.OA("Parse the results from /api/ds/query.",t.CodeEditorSuggestionItemKind.Method)}},element:new n.OA("Form Element which value has been changed.")}}),A=new n.Fn({detail:"All properties and methods.",items:{panel:{detail:"Panel instance properties.",items:{elements:new n.OA("Panel elements.")}}}}),x=new n.Fn({detail:"All properties and methods.",items:{panel:{detail:"Panel instance properties.",items:{elements:new n.OA("Panel elements.")}}}}),D=new n.Fn({detail:"All properties and methods.",items:{panel:{detail:"Panel instance properties.",items:{data:new n.OA("Panel data."),elements:new n.OA("Panel elements.")}}}}),P=new n.Fn({detail:"All properties and methods.",items:{panel:{detail:"Panel instance properties.",items:{initial:new n.OA("Initial values."),elements:new n.OA("Panel elements.")}},utils:{detail:"Utils and helpers functions.",items:{fileToBase64:new n.OA("Converts File to Base64 string.",t.CodeEditorSuggestionItemKind.Method)}}}}),I=[{value:c.C,label:"C"},{value:c.CPP,label:"C++"},{value:c.CSHARP,label:"C#"},{value:c.GO,label:"GO"},{value:c.HTML,label:"HTML"},{value:c.JAVA,label:"Java"},{value:c.JAVASCRIPT,label:"Javascript"},{value:c.JSON,label:"JSON"},{value:c.MARKDOWN,label:"Markdown"},{value:c.MYSQL,label:"MySQL"},{value:c.PHP,label:"PHP"},{value:c.PGSQL,label:"PostgreSQL"},{value:c.PYTHON,label:"Python"},{value:c.RUBY,label:"Ruby"},{value:c.SQL,label:"SQL"},{value:c.TYPESCRIPT,label:"TypeScript"}],R={[u.REQUEST]:O.suggestions,[u.GET_PAYLOAD]:P.suggestions,[u.ELEMENT_VALUE_CHANGED]:C.suggestions,[u.ELEMENT_DISABLE_IF]:x.suggestions,[u.ELEMENT_SHOW_IF]:A.suggestions,[u.ELEMENT_GET_OPTIONS]:D.suggestions},T=[{value:h.NAME,label:"Name"},{value:h.OLD_VALUE,label:"Old Value"},{value:h.NEW_VALUE,label:"New Value"}],k=[{value:!0,label:"Enabled",icon:"sync"},{value:!1,label:"Disabled",icon:"sync-slash"}];var _=g(8449),L=g.n(_);function M(e,t="latest"){return B(e,t.replace(/\-.*/,""))}function B(e,t){const n={};for(const[r,a]of Object.entries(e))j(a)?n[r]=B(a,t):(V(a,r),n[r]=N(a,t));return n}function j(e){if("object"==typeof e){const[t]=Object.keys(e);return!(0,_.valid)(t)}return!1}function N(e,t){let n,r=Object.keys(e).sort(_.compare);if("latest"===t)return e[r[r.length-1]];for(const e of r)(0,_.gte)(t,e)&&(n=e);return n||(n=r[r.length-1]),e[n]}function V(e,t){if(!Object.keys(e).every(e=>(0,_.valid)(e)))throw new Error(`Invalid semver version: '${t}'`)}const F="8.5.0",$={RadioButton:{container:{"10.2.3":"data-testid radio-button"}},Breadcrumbs:{breadcrumb:{"9.4.0":e=>`data-testid ${e} breadcrumb`}},TimePicker:{openButton:{[F]:"data-testid TimePicker Open Button"},overlayContent:{"10.2.3":"data-testid TimePicker Overlay Content"},fromField:{"10.2.3":"data-testid Time Range from field",[F]:"Time Range from field"},toField:{"10.2.3":"data-testid Time Range to field",[F]:"Time Range to field"},applyTimeRange:{[F]:"data-testid TimePicker submit button"},copyTimeRange:{"10.4.0":"data-testid TimePicker copy button"},pasteTimeRange:{"10.4.0":"data-testid TimePicker paste button"},calendar:{label:{"10.2.3":"data-testid Time Range calendar",[F]:"Time Range calendar"},openButton:{"10.2.3":"data-testid Open time range calendar",[F]:"Open time range calendar"},closeButton:{"10.2.3":"data-testid Close time range Calendar",[F]:"Close time range Calendar"}},absoluteTimeRangeTitle:{[F]:"data-testid-absolute-time-range-narrow"}},DataSourcePermissions:{form:{"9.5.0":()=>'form[name="addPermission"]'},roleType:{"9.5.0":"Role to add new permission to"},rolePicker:{"9.5.0":"Built-in role picker"},permissionLevel:{"12.0.0":"Permission level","9.5.0":"Permission Level"}},DateTimePicker:{input:{"10.2.3":"data-testid date-time-input"}},DataSource:{TestData:{QueryTab:{scenarioSelectContainer:{[F]:"Test Data Query scenario select container"},scenarioSelect:{[F]:"Test Data Query scenario select"},max:{[F]:"TestData max"},min:{[F]:"TestData min"},noise:{[F]:"TestData noise"},seriesCount:{[F]:"TestData series count"},spread:{[F]:"TestData spread"},startValue:{[F]:"TestData start value"},drop:{[F]:"TestData drop values"}}},DataSourceHttpSettings:{urlInput:{"10.4.0":"data-testid Datasource HTTP settings url",[F]:"Datasource HTTP settings url"}},Jaeger:{traceIDInput:{[F]:"Trace ID"}},Prometheus:{configPage:{connectionSettings:{[F]:"Data source connection URL"},manageAlerts:{"10.4.0":"prometheus-alerts-manager"},scrapeInterval:{"10.4.0":"data-testid scrape interval"},queryTimeout:{"10.4.0":"data-testid query timeout"},defaultEditor:{"10.4.0":"data-testid default editor"},disableMetricLookup:{"10.4.0":"disable-metric-lookup"},prometheusType:{"10.4.0":"data-testid prometheus type"},prometheusVersion:{"10.4.0":"data-testid prometheus version"},cacheLevel:{"10.4.0":"data-testid cache level"},incrementalQuerying:{"10.4.0":"prometheus-incremental-querying"},queryOverlapWindow:{"10.4.0":"data-testid query overlap window"},disableRecordingRules:{"10.4.0":"disable-recording-rules"},customQueryParameters:{"10.4.0":"data-testid custom query parameters"},httpMethod:{"10.4.0":"data-testid http method"},exemplarsAddButton:{"10.3.0":"data-testid Add exemplar config button",[F]:"Add exemplar config button"},internalLinkSwitch:{"10.3.0":"data-testid Internal link switch",[F]:"Internal link switch"},codeModeMetricNamesSuggestionLimit:{"11.1.0":"data-testid code mode metric names suggestion limit"}},queryEditor:{explain:{"10.4.0":"data-testid prometheus explain switch wrapper"},editorToggle:{"10.4.0":"data-testid QueryEditorModeToggle"},options:{"10.4.0":"data-testid prometheus options"},legend:{"10.4.0":"data-testid prometheus legend wrapper"},format:{"10.4.0":"data-testid prometheus format"},step:{"10.4.0":"prometheus-step"},type:{"10.4.0":"data-testid prometheus type"},exemplars:{"10.4.0":"prometheus-exemplars"},builder:{metricSelect:{"10.4.0":"data-testid metric select"},hints:{"10.4.0":"data-testid prometheus hints"},metricsExplorer:{"10.4.0":"data-testid metrics explorer"},queryAdvisor:{"10.4.0":"data-testid query advisor"}},code:{queryField:{"10.4.0":"data-testid prometheus query field"},metricsCountInfo:{"11.1.0":"data-testid metrics count disclaimer"},metricsBrowser:{openButton:{"10.4.0":"data-testid open metrics browser"},selectMetric:{"10.4.0":"data-testid select a metric"},seriesLimit:{"10.3.1":"data-testid series limit"},metricList:{"10.4.0":"data-testid metric list"},labelNamesFilter:{"10.4.0":"data-testid label names filter"},labelValuesFilter:{"10.4.0":"data-testid label values filter"},useQuery:{"10.4.0":"data-testid use query"},useAsRateQuery:{"10.4.0":"data-testid use as rate query"},validateSelector:{"10.4.0":"data-testid validate selector"},clear:{"10.4.0":"data-testid clear"}}}},exemplarMarker:{"10.3.0":"data-testid Exemplar marker",[F]:"Exemplar marker"},variableQueryEditor:{queryType:{"10.4.0":"data-testid query type"},labelnames:{metricRegex:{"10.4.0":"data-testid label names metric regex"}},labelValues:{labelSelect:{"10.4.0":"data-testid label values label select"}},metricNames:{metricRegex:{"10.4.0":"data-testid metric names metric regex"}},varQueryResult:{"10.4.0":"data-testid variable query result"},seriesQuery:{"10.4.0":"data-testid prometheus series query"},classicQuery:{"10.4.0":"data-testid prometheus classic query"}},annotations:{minStep:{"10.4.0":"prometheus-annotation-min-step"},title:{"10.4.0":"data-testid prometheus annotation title"},tags:{"10.4.0":"data-testid prometheus annotation tags"},text:{"10.4.0":"data-testid prometheus annotation text"},seriesValueAsTimestamp:{"10.4.0":"data-testid prometheus annotation series value as timestamp"}}}},Menu:{MenuComponent:{[F]:e=>`${e} menu`},MenuGroup:{[F]:e=>`${e} menu group`},MenuItem:{[F]:e=>`${e} menu item`},SubMenu:{container:{"10.3.0":"data-testid SubMenu container",[F]:"SubMenu container"},icon:{"10.3.0":"data-testid SubMenu icon",[F]:"SubMenu icon"}}},Panels:{Panel:{title:{[F]:e=>`data-testid Panel header ${e}`},content:{"11.1.0":"data-testid panel content"},headerItems:{"10.2.0":e=>`data-testid Panel header item ${e}`},menuItems:{"9.5.0":e=>`data-testid Panel menu item ${e}`},menu:{"9.5.0":e=>`data-testid Panel menu ${e}`},containerByTitle:{[F]:e=>`${e} panel`},headerCornerInfo:{[F]:e=>`Panel header ${e}`},status:{"10.2.0":e=>`data-testid Panel status ${e}`,[F]:e=>"Panel status"},loadingBar:{"10.0.0":()=>"Panel loading bar"},HoverWidget:{container:{"10.1.0":"data-testid hover-header-container",[F]:"hover-header-container"},dragIcon:{"10.0.0":"data-testid drag-icon"}},PanelDataErrorMessage:{"10.4.0":"data-testid Panel data error message"}},Visualization:{Graph:{container:{"9.5.0":"Graph container"},VisualizationTab:{legendSection:{[F]:"Legend section"}},Legend:{legendItemAlias:{[F]:e=>`gpl alias ${e}`},showLegendSwitch:{[F]:"gpl show legend"}},xAxis:{labels:{[F]:()=>"div.flot-x-axis > div.flot-tick-label"}}},BarGauge:{valueV2:{[F]:"data-testid Bar gauge value"}},PieChart:{svgSlice:{"10.3.0":"data testid Pie Chart Slice"}},Text:{container:{[F]:()=>".markdown-html"}},Table:{header:{[F]:"table header"},footer:{[F]:"table-footer"},body:{"10.2.0":"data-testid table body"}}}},VizLegend:{seriesName:{"10.3.0":e=>`data-testid VizLegend series ${e}`}},Drawer:{General:{title:{[F]:e=>`Drawer title ${e}`},expand:{[F]:"Drawer expand"},contract:{[F]:"Drawer contract"},close:{"10.3.0":"data-testid Drawer close",[F]:"Drawer close"},rcContentWrapper:{"9.4.0":()=>".rc-drawer-content-wrapper"},subtitle:{"10.4.0":"data-testid drawer subtitle"}},DashboardSaveDrawer:{saveButton:{"11.1.0":"data-testid Save dashboard drawer button"},saveAsButton:{"11.1.0":"data-testid Save as dashboard drawer button"},saveAsTitleInput:{"11.1.0":"Save dashboard title field"}}},PanelEditor:{General:{content:{"11.1.0":"data-testid Panel editor content","8.0.0":"Panel editor content"}},OptionsPane:{content:{"11.1.0":"data-testid Panel editor option pane content",[F]:"Panel editor option pane content"},select:{[F]:"Panel editor option pane select"},fieldLabel:{[F]:e=>`${e} field property editor`},fieldInput:{"11.0.0":e=>`data-testid Panel editor option pane field input ${e}`}},DataPane:{content:{"11.1.0":"data-testid Panel editor data pane content",[F]:"Panel editor data pane content"}},applyButton:{"9.2.0":"data-testid Apply changes and go back to dashboard","9.1.0":"Apply changes and go back to dashboard","8.0.0":"panel editor apply"},toggleVizPicker:{"10.0.0":"data-testid toggle-viz-picker","8.0.0":"toggle-viz-picker"},toggleVizOptions:{"10.1.0":"data-testid toggle-viz-options",[F]:"toggle-viz-options"},toggleTableView:{"11.1.0":"data-testid toggle-table-view",[F]:"toggle-table-view"},showZoomField:{"10.2.0":"Map controls Show zoom control field property editor"},showAttributionField:{"10.2.0":"Map controls Show attribution field property editor"},showScaleField:{"10.2.0":"Map controls Show scale field property editor"},showMeasureField:{"10.2.0":"Map controls Show measure tools field property editor"},showDebugField:{"10.2.0":"Map controls Show debug field property editor"},measureButton:{"9.2.0":"show measure tools"}},PanelInspector:{Data:{content:{[F]:"Panel inspector Data content"}},Stats:{content:{[F]:"Panel inspector Stats content"}},Json:{content:{"11.1.0":"data-testid Panel inspector Json content",[F]:"Panel inspector Json content"}},Query:{content:{[F]:"Panel inspector Query content"},refreshButton:{[F]:"Panel inspector Query refresh button"},jsonObjectKeys:{[F]:()=>".json-formatter-key"}}},Tab:{title:{"11.2.0":e=>`data-testid Tab ${e}`},active:{[F]:()=>'[class*="-activeTabStyle"]'}},RefreshPicker:{runButtonV2:{[F]:"data-testid RefreshPicker run button"},intervalButtonV2:{[F]:"data-testid RefreshPicker interval button"}},QueryTab:{content:{[F]:"Query editor tab content"},queryInspectorButton:{[F]:"Query inspector button"},queryHistoryButton:{"10.2.0":"data-testid query-history-button",[F]:"query-history-button"},addQuery:{"10.2.0":"data-testid query-tab-add-query",[F]:"Query editor add query button"},addQueryFromLibrary:{"11.5.0":"data-testid query-tab-add-query-from-library"},queryGroupTopSection:{"11.2.0":"data-testid query group top section"},addExpression:{"11.2.0":"data-testid query-tab-add-expression"}},QueryHistory:{queryText:{"9.0.0":"Query text"}},QueryEditorRows:{rows:{[F]:"Query editor row"}},QueryEditorRow:{actionButton:{"10.4.0":e=>`data-testid ${e}`},title:{[F]:e=>`Query editor row title ${e}`},container:{[F]:e=>`Query editor row ${e}`}},AlertTab:{content:{"10.2.3":"data-testid Alert editor tab content",[F]:"Alert editor tab content"}},AlertRules:{groupToggle:{"11.0.0":"data-testid group-collapse-toggle"},toggle:{"11.0.0":"data-testid collapse-toggle"},expandedContent:{"11.0.0":"data-testid expanded-content"},previewButton:{"11.1.0":"data-testid alert-rule preview-button"},ruleNameField:{"11.1.0":"data-testid alert-rule name-field"},newFolderButton:{"11.1.0":"data-testid alert-rule new-folder-button"},newFolderNameField:{"11.1.0":"data-testid alert-rule name-folder-name-field"},newFolderNameCreateButton:{"11.1.0":"data-testid alert-rule name-folder-name-create-button"},newEvaluationGroupButton:{"11.1.0":"data-testid alert-rule new-evaluation-group-button"},newEvaluationGroupName:{"11.1.0":"data-testid alert-rule new-evaluation-group-name"},newEvaluationGroupInterval:{"11.1.0":"data-testid alert-rule new-evaluation-group-interval"},newEvaluationGroupCreate:{"11.1.0":"data-testid alert-rule new-evaluation-group-create-button"},step:{"11.5.0":e=>`data-testid alert-rule step-${e}`},stepAdvancedModeSwitch:{"11.5.0":e=>`data-testid advanced-mode-switch step-${e}`}},Alert:{alertV2:{[F]:e=>`data-testid Alert ${e}`}},TransformTab:{content:{"10.1.0":"data-testid Transform editor tab content",[F]:"Transform editor tab content"},newTransform:{"10.1.0":e=>`data-testid New transform ${e}`},transformationEditor:{"10.1.0":e=>`data-testid Transformation editor ${e}`},transformationEditorDebugger:{"10.1.0":e=>`data-testid Transformation editor debugger ${e}`}},Transforms:{card:{"10.1.0":e=>`data-testid New transform ${e}`},disableTransformationButton:{"10.4.0":"data-testid Disable transformation button"},Reduce:{modeLabel:{"10.2.3":"data-testid Transform mode label",[F]:"Transform mode label"},calculationsLabel:{"10.2.3":"data-testid Transform calculations label",[F]:"Transform calculations label"}},SpatialOperations:{actionLabel:{"9.1.2":"root Action field property editor"},locationLabel:{"10.2.0":"root Location Mode field property editor"},location:{autoOption:{"9.1.2":"Auto location option"},coords:{option:{"9.1.2":"Coords location option"},latitudeFieldLabel:{"9.1.2":"root Latitude field field property editor"},longitudeFieldLabel:{"9.1.2":"root Longitude field field property editor"}},geohash:{option:{"9.1.2":"Geohash location option"},geohashFieldLabel:{"9.1.2":"root Geohash field field property editor"}},lookup:{option:{"9.1.2":"Lookup location option"},lookupFieldLabel:{"9.1.2":"root Lookup field field property editor"},gazetteerFieldLabel:{"9.1.2":"root Gazetteer field property editor"}}}},searchInput:{"10.2.3":"data-testid search transformations",[F]:"search transformations"},noTransformationsMessage:{"10.2.3":"data-testid no transformations message"},addTransformationButton:{"10.1.0":"data-testid add transformation button",[F]:"add transformation button"},removeAllTransformationsButton:{"10.4.0":"data-testid remove all transformations button"}},NavBar:{Configuration:{button:{"9.5.0":"Configuration"}},Toggle:{button:{"10.2.3":"data-testid Toggle menu",[F]:"Toggle menu"}},Reporting:{button:{"9.5.0":"Reporting"}}},NavMenu:{Menu:{"10.2.3":"data-testid navigation mega-menu"},item:{"9.5.0":"data-testid Nav menu item"}},NavToolbar:{container:{"9.4.0":"data-testid Nav toolbar"},commandPaletteTrigger:{"11.5.0":"data-testid Command palette trigger"},shareDashboard:{"11.1.0":"data-testid Share dashboard"},markAsFavorite:{"11.1.0":"data-testid Mark as favorite"},editDashboard:{editButton:{"11.1.0":"data-testid Edit dashboard button"},saveButton:{"11.1.0":"data-testid Save dashboard button"},exitButton:{"11.1.0":"data-testid Exit edit mode button"},settingsButton:{"11.1.0":"data-testid Dashboard settings"},addRowButton:{"11.1.0":"data-testid Add row button"},addLibraryPanelButton:{"11.1.0":"data-testid Add a panel from the panel library button"},addVisualizationButton:{"11.1.0":"data-testid Add new visualization menu item"},pastePanelButton:{"11.1.0":"data-testid Paste panel button"},discardChangesButton:{"11.1.0":"data-testid Discard changes button"},discardLibraryPanelButton:{"11.1.0":"data-testid Discard library panel button"},unlinkLibraryPanelButton:{"11.1.0":"data-testid Unlink library panel button"},saveLibraryPanelButton:{"11.1.0":"data-testid Save library panel button"},backToDashboardButton:{"11.1.0":"data-testid Back to dashboard button"}}},PageToolbar:{container:{[F]:()=>".page-toolbar"},item:{[F]:e=>`${e}`},itemButton:{"9.5.0":e=>`data-testid ${e}`}},QueryEditorToolbarItem:{button:{[F]:e=>`QueryEditor toolbar item button ${e}`}},BackButton:{backArrow:{"10.3.0":"data-testid Go Back",[F]:"Go Back"}},OptionsGroup:{group:{"11.1.0":e=>e?`data-testid Options group ${e}`:"data-testid Options group",[F]:e=>e?`Options group ${e}`:"Options group"},toggle:{"11.1.0":e=>e?`data-testid Options group ${e} toggle`:"data-testid Options group toggle",[F]:e=>e?`Options group ${e} toggle`:"Options group toggle"}},PluginVisualization:{item:{[F]:e=>`Plugin visualization item ${e}`},current:{[F]:()=>'[class*="-currentVisualizationItem"]'}},Select:{menu:{"11.5.0":"data-testid Select menu",[F]:"Select options menu"},option:{"11.1.0":"data-testid Select option",[F]:"Select option"},toggleAllOptions:{"11.3.0":"data-testid toggle all options"},input:{[F]:()=>'input[id*="time-options-input"]'},singleValue:{[F]:()=>'div[class*="-singleValue"]'}},FieldConfigEditor:{content:{[F]:"Field config editor content"}},OverridesConfigEditor:{content:{[F]:"Field overrides editor content"}},FolderPicker:{containerV2:{[F]:"data-testid Folder picker select container"},input:{"10.4.0":"data-testid folder-picker-input"}},ReadonlyFolderPicker:{container:{[F]:"data-testid Readonly folder picker select container"}},DataSourcePicker:{container:{"10.0.0":"data-testid Data source picker select container","8.0.0":"Data source picker select container"},inputV2:{"10.1.0":"data-testid Select a data source",[F]:"Select a data source"},dataSourceList:{"10.4.0":"data-testid Data source list dropdown"},advancedModal:{dataSourceList:{"10.4.0":"data-testid Data source list"},builtInDataSourceList:{"10.4.0":"data-testid Built in data source list"}}},TimeZonePicker:{containerV2:{[F]:"data-testid Time zone picker select container"},changeTimeSettingsButton:{"11.0.0":"data-testid Time zone picker Change time settings button"}},WeekStartPicker:{containerV2:{[F]:"data-testid Choose starting day of the week"},placeholder:{[F]:"Choose starting day of the week"}},TraceViewer:{spanBar:{"9.0.0":"data-testid SpanBar--wrapper"}},QueryField:{container:{"10.3.0":"data-testid Query field",[F]:"Query field"}},QueryBuilder:{queryPatterns:{"10.3.0":"data-testid Query patterns",[F]:"Query patterns"},labelSelect:{"10.3.0":"data-testid Select label",[F]:"Select label"},inputSelect:{"11.1.0":"data-testid Select label-input"},valueSelect:{"10.3.0":"data-testid Select value",[F]:"Select value"},matchOperatorSelect:{"10.3.0":"data-testid Select match operator",[F]:"Select match operator"}},ValuePicker:{button:{"10.3.0":e=>`data-testid Value picker button ${e}`},select:{"10.3.0":e=>`data-testid Value picker select ${e}`}},Search:{sectionV2:{[F]:"data-testid Search section"},itemsV2:{[F]:"data-testid Search items"},cards:{[F]:"data-testid Search cards"},collapseFolder:{[F]:e=>`data-testid Collapse folder ${e}`},expandFolder:{[F]:e=>`data-testid Expand folder ${e}`},dashboardItem:{[F]:e=>`data-testid Dashboard search item ${e}`},dashboardCard:{[F]:e=>`data-testid Search card ${e}`},folderHeader:{"9.3.0":e=>`data-testid Folder header ${e}`},folderContent:{"9.3.0":e=>`data-testid Folder content ${e}`},dashboardItems:{[F]:"data-testid Dashboard search item"}},DashboardLinks:{container:{[F]:"data-testid Dashboard link container"},dropDown:{[F]:"data-testid Dashboard link dropdown"},link:{[F]:"data-testid Dashboard link"}},LoadingIndicator:{icon:{"10.4.0":"data-testid Loading indicator",[F]:"Loading indicator"}},CallToActionCard:{buttonV2:{[F]:e=>`data-testid Call to action button ${e}`}},DataLinksContextMenu:{singleLink:{"10.3.0":"data-testid Data link",[F]:"Data link"}},CodeEditor:{container:{"10.2.3":"data-testid Code editor container",[F]:"Code editor container"}},ReactMonacoEditor:{editorLazy:{"11.1.0":"data-testid ReactMonacoEditor editorLazy"}},DashboardImportPage:{textarea:{[F]:"data-testid-import-dashboard-textarea"},submit:{[F]:"data-testid-load-dashboard"}},ImportDashboardForm:{name:{[F]:"data-testid-import-dashboard-title"},submit:{[F]:"data-testid-import-dashboard-submit"}},PanelAlertTabContent:{content:{"10.2.3":"data-testid Unified alert editor tab content",[F]:"Unified alert editor tab content"}},VisualizationPreview:{card:{[F]:e=>`data-testid suggestion-${e}`}},ColorSwatch:{name:{[F]:"data-testid-colorswatch"}},DashboardRow:{title:{[F]:e=>`data-testid dashboard-row-title-${e}`}},UserProfile:{profileSaveButton:{[F]:"data-testid-user-profile-save"},preferencesSaveButton:{[F]:"data-testid-shared-prefs-save"},orgsTable:{[F]:"data-testid-user-orgs-table"},sessionsTable:{[F]:"data-testid-user-sessions-table"},extensionPointTabs:{"10.2.3":"data-testid-extension-point-tabs"},extensionPointTab:{"10.2.3":e=>`data-testid-extension-point-tab-${e}`}},FileUpload:{inputField:{"9.0.0":"data-testid-file-upload-input-field"},fileNameSpan:{"9.0.0":"data-testid-file-upload-file-name"}},DebugOverlay:{wrapper:{"9.2.0":"debug-overlay"}},OrgRolePicker:{input:{"9.5.0":"Role"}},AnalyticsToolbarButton:{button:{"9.5.0":"Dashboard insights"}},Variables:{variableOption:{"9.5.0":"data-testid variable-option"},variableLinkWrapper:{"11.1.1":"data-testid variable-link-wrapper"}},Annotations:{annotationsTypeInput:{"11.1.0":"data-testid annotations-type-input",[F]:"annotations-type-input"},annotationsChoosePanelInput:{"11.1.0":"data-testid choose-panels-input",[F]:"choose-panels-input"},editor:{testButton:{"11.0.0":"data-testid annotations-test-button"},resultContainer:{"11.0.0":"data-testid annotations-query-result-container"}}},Tooltip:{container:{"10.2.0":"data-testid tooltip"}},ReturnToPrevious:{buttonGroup:{"11.0.0":"data-testid dismissable button group"},backButton:{"11.0.0":"data-testid back"},dismissButton:{"11.0.0":"data-testid dismiss"}},SQLQueryEditor:{selectColumn:{"11.0.0":"data-testid select-column"},selectColumnInput:{"11.0.0":"data-testid select-column-input"},selectFunctionParameter:{"11.0.0":e=>`data-testid select-function-parameter-${e}`},selectAggregation:{"11.0.0":"data-testid select-aggregation"},selectAggregationInput:{"11.0.0":"data-testid select-aggregation-input"},selectAlias:{"11.0.0":"data-testid select-alias"},selectAliasInput:{"11.0.0":"data-testid select-alias-input"},selectInputParameter:{"11.0.0":"data-testid select-input-parameter"},filterConjunction:{"11.0.0":"data-testid filter-conjunction"},filterField:{"11.0.0":"data-testid filter-field"},filterOperator:{"11.0.0":"data-testid filter-operator"},headerTableSelector:{"11.0.0":"data-testid header-table-selector"},headerFilterSwitch:{"11.0.0":"data-testid header-filter-switch"},headerGroupSwitch:{"11.0.0":"data-testid header-group-switch"},headerOrderSwitch:{"11.0.0":"data-testid header-order-switch"},headerPreviewSwitch:{"11.0.0":"data-testid header-preview-switch"}},EntityNotFound:{container:{"11.2.0":"data-testid entity-not-found"}},Portal:{container:{"11.5.0":"data-testid portal-container"}}},U={pages:M({Alerting:{AddAlertRule:{url:{"10.1.0":"/alerting/new/alerting",[F]:"/alerting/new"}},EditAlertRule:{url:{[F]:e=>`alerting/${e}/edit`}}},Login:{url:{[F]:"/login"},username:{"10.2.3":"data-testid Username input field",[F]:"Username input field"},password:{"10.2.3":"data-testid Password input field",[F]:"Password input field"},submit:{"10.2.3":"data-testid Login button",[F]:"Login button"},skip:{"10.2.3":"data-testid Skip change password button"}},PasswordlessLogin:{url:{[F]:"/login/passwordless/authenticate"},email:{"10.2.3":"data-testid Email input field",[F]:"Email input field"},submit:{"10.2.3":"data-testid PasswordlessLogin button",[F]:"PasswordlessLogin button"}},Home:{url:{[F]:"/"}},DataSource:{name:{"10.3.0":"data-testid Data source settings page name input field",[F]:"Data source settings page name input field"},delete:{[F]:"Data source settings page Delete button"},readOnly:{"10.3.0":"data-testid Data source settings page read only message",[F]:"Data source settings page read only message"},saveAndTest:{"10.0.0":"data-testid Data source settings page Save and Test button",[F]:"Data source settings page Save and Test button"},alert:{"10.3.0":"data-testid Data source settings page Alert",[F]:"Data source settings page Alert"}},DataSources:{url:{[F]:"/datasources"},dataSources:{[F]:e=>`Data source list item ${e}`}},EditDataSource:{url:{"9.5.0":e=>`/datasources/edit/${e}`},settings:{"9.5.0":"Datasource settings page basic settings"}},AddDataSource:{url:{[F]:"/datasources/new"},dataSourcePluginsV2:{"9.3.1":e=>`Add new data source ${e}`,[F]:e=>`Data source plugin item ${e}`}},ConfirmModal:{delete:{"10.0.0":"data-testid Confirm Modal Danger Button",[F]:"Confirm Modal Danger Button"}},AddDashboard:{url:{[F]:"/dashboard/new"},itemButton:{"9.5.0":e=>`data-testid ${e}`},addNewPanel:{"11.1.0":"data-testid Add new panel","8.0.0":"Add new panel",[F]:"Add new panel"},itemButtonAddViz:{[F]:"Add new visualization menu item"},addNewRow:{"11.1.0":"data-testid Add new row",[F]:"Add new row"},addNewPanelLibrary:{"11.1.0":"data-testid Add new panel from panel library",[F]:"Add new panel from panel library"},Settings:{Annotations:{List:{url:{[F]:"/dashboard/new?orgId=1&editview=annotations"}},Edit:{url:{[F]:e=>`/dashboard/new?editview=annotations&editIndex=${e}`}}},Variables:{List:{url:{"11.3.0":"/dashboard/new?orgId=1&editview=variables",[F]:"/dashboard/new?orgId=1&editview=templating"}},Edit:{url:{"11.3.0":e=>`/dashboard/new?orgId=1&editview=variables&editIndex=${e}`,[F]:e=>`/dashboard/new?orgId=1&editview=templating&editIndex=${e}`}}}}},Dashboard:{url:{[F]:e=>`/d/${e}`},DashNav:{nav:{[F]:"Dashboard navigation"},navV2:{[F]:"data-testid Dashboard navigation"},publicDashboardTag:{"9.1.0":"data-testid public dashboard tag"},shareButton:{"10.4.0":"data-testid share-button"},scrollContainer:{"11.1.0":"data-testid Dashboard canvas scroll container"},newShareButton:{container:{"11.1.0":"data-testid new share button"},shareLink:{"11.1.0":"data-testid new share link-button"},arrowMenu:{"11.1.0":"data-testid new share button arrow menu"},menu:{container:{"11.1.0":"data-testid new share button menu"},shareInternally:{"11.1.0":"data-testid new share button share internally"},shareExternally:{"11.1.1":"data-testid new share button share externally"},shareSnapshot:{"11.2.0":"data-testid new share button share snapshot"}}},NewExportButton:{container:{"11.2.0":"data-testid new export button"},arrowMenu:{"11.2.0":"data-testid new export button arrow menu"},Menu:{container:{"11.2.0":"data-testid new export button menu"},exportAsJson:{"11.2.0":"data-testid new export button export as json"}}},playlistControls:{prev:{"11.0.0":"data-testid playlist previous dashboard button"},stop:{"11.0.0":"data-testid playlist stop dashboard button"},next:{"11.0.0":"data-testid playlist next dashboard button"}}},Controls:{"11.1.0":"data-testid dashboard controls"},SubMenu:{submenu:{[F]:"Dashboard submenu"},submenuItem:{[F]:"data-testid template variable"},submenuItemLabels:{[F]:e=>`data-testid Dashboard template variables submenu Label ${e}`},submenuItemValueDropDownValueLinkTexts:{[F]:e=>`data-testid Dashboard template variables Variable Value DropDown value link text ${e}`},submenuItemValueDropDownDropDown:{[F]:"Variable options"},submenuItemValueDropDownOptionTexts:{[F]:e=>`data-testid Dashboard template variables Variable Value DropDown option text ${e}`},Annotations:{annotationsWrapper:{"10.0.0":"data-testid annotation-wrapper"},annotationLabel:{"10.0.0":e=>`data-testid Dashboard annotations submenu Label ${e}`},annotationToggle:{"10.0.0":e=>`data-testid Dashboard annotations submenu Toggle ${e}`}}},Settings:{Actions:{close:{"9.5.0":"data-testid dashboard-settings-close"}},General:{deleteDashBoard:{"11.1.0":"data-testid Dashboard settings page delete dashboard button"},sectionItems:{[F]:e=>`Dashboard settings section item ${e}`},saveDashBoard:{[F]:"Dashboard settings aside actions Save button"},saveAsDashBoard:{[F]:"Dashboard settings aside actions Save As button"},title:{"11.2.0":"General"}},Annotations:{Edit:{urlParams:{[F]:e=>`editview=annotations&editIndex=${e}`}},List:{url:{[F]:e=>`/d/${e}?editview=annotations`},addAnnotationCTAV2:{[F]:"data-testid Call to action button Add annotation query"},annotations:{"10.4.0":"data-testid list-annotations"}},Settings:{name:{"11.1.0":"data-testid Annotations settings name input",[F]:"Annotations settings name input"}},NewAnnotation:{panelFilterSelect:{"10.0.0":"data-testid annotations-panel-filter"},showInLabel:{"11.1.0":"data-testid show-in-label"},previewInDashboard:{"10.0.0":"data-testid annotations-preview"},delete:{"10.4.0":"data-testid annotations-delete"},apply:{"10.4.0":"data-testid annotations-apply"},enable:{"10.4.0":"data-testid annotation-enable"},hide:{"10.4.0":"data-testid annotation-hide"}}},Variables:{List:{url:{"11.3.0":e=>`/d/${e}?editview=variables`,[F]:e=>`/d/${e}?editview=templating`},addVariableCTAV2:{[F]:"data-testid Call to action button Add variable"},newButton:{[F]:"Variable editor New variable button"},table:{[F]:"Variable editor Table"},tableRowNameFields:{[F]:e=>`Variable editor Table Name field ${e}`},tableRowDefinitionFields:{"10.1.0":e=>`Variable editor Table Definition field ${e}`},tableRowArrowUpButtons:{[F]:e=>`Variable editor Table ArrowUp button ${e}`},tableRowArrowDownButtons:{[F]:e=>`Variable editor Table ArrowDown button ${e}`},tableRowDuplicateButtons:{[F]:e=>`Variable editor Table Duplicate button ${e}`},tableRowRemoveButtons:{[F]:e=>`Variable editor Table Remove button ${e}`}},Edit:{urlParams:{"11.3.0":e=>`editview=variables&editIndex=${e}`,[F]:e=>`editview=templating&editIndex=${e}`},General:{headerLink:{[F]:"Variable editor Header link"},modeLabelNew:{[F]:"Variable editor Header mode New"},modeLabelEdit:{[F]:"Variable editor Header mode Edit"},generalNameInput:{[F]:"Variable editor Form Name field"},generalNameInputV2:{[F]:"data-testid Variable editor Form Name field"},generalTypeSelect:{[F]:"Variable editor Form Type select"},generalTypeSelectV2:{[F]:"data-testid Variable editor Form Type select"},generalLabelInput:{[F]:"Variable editor Form Label field"},generalLabelInputV2:{[F]:"data-testid Variable editor Form Label field"},generalHideSelect:{[F]:"Variable editor Form Hide select"},generalHideSelectV2:{[F]:"data-testid Variable editor Form Hide select"},selectionOptionsAllowCustomValueSwitch:{[F]:"data-testid Variable editor Form Allow Custom Value switch"},selectionOptionsMultiSwitch:{"10.4.0":"data-testid Variable editor Form Multi switch",[F]:"Variable editor Form Multi switch"},selectionOptionsIncludeAllSwitch:{"10.4.0":"data-testid Variable editor Form IncludeAll switch",[F]:"Variable editor Form IncludeAll switch"},selectionOptionsCustomAllInput:{"10.4.0":"data-testid Variable editor Form IncludeAll field",[F]:"Variable editor Form IncludeAll field"},previewOfValuesOption:{"10.4.0":"data-testid Variable editor Preview of Values option",[F]:"Variable editor Preview of Values option"},submitButton:{"10.4.0":"data-testid Variable editor Run Query button",[F]:"Variable editor Submit button"},applyButton:{"9.3.0":"data-testid Variable editor Apply button"}},QueryVariable:{queryOptionsDataSourceSelect:{"10.4.0":"data-testid Select a data source","10.0.0":"data-testid Data source picker select container",[F]:"Data source picker select container"},queryOptionsRefreshSelect:{[F]:"Variable editor Form Query Refresh select"},queryOptionsRefreshSelectV2:{[F]:"data-testid Variable editor Form Query Refresh select"},queryOptionsRegExInput:{[F]:"Variable editor Form Query RegEx field"},queryOptionsRegExInputV2:{[F]:"data-testid Variable editor Form Query RegEx field"},queryOptionsSortSelect:{[F]:"Variable editor Form Query Sort select"},queryOptionsSortSelectV2:{[F]:"data-testid Variable editor Form Query Sort select"},queryOptionsQueryInput:{"10.4.0":"data-testid Variable editor Form Default Variable Query Editor textarea"},valueGroupsTagsEnabledSwitch:{[F]:"Variable editor Form Query UseTags switch"},valueGroupsTagsTagsQueryInput:{[F]:"Variable editor Form Query TagsQuery field"},valueGroupsTagsTagsValuesQueryInput:{[F]:"Variable editor Form Query TagsValuesQuery field"}},ConstantVariable:{constantOptionsQueryInput:{[F]:"Variable editor Form Constant Query field"},constantOptionsQueryInputV2:{[F]:"data-testid Variable editor Form Constant Query field"}},DatasourceVariable:{datasourceSelect:{[F]:"data-testid datasource variable datasource type"}},TextBoxVariable:{textBoxOptionsQueryInput:{[F]:"Variable editor Form TextBox Query field"},textBoxOptionsQueryInputV2:{[F]:"data-testid Variable editor Form TextBox Query field"}},CustomVariable:{customValueInput:{[F]:"data-testid custom-variable-input"}},IntervalVariable:{intervalsValueInput:{[F]:"data-testid interval variable intervals input"},autoEnabledCheckbox:{"10.4.0":"data-testid interval variable auto value checkbox"},stepCountIntervalSelect:{"10.4.0":"data-testid interval variable step count input"},minIntervalInput:{"10.4.0":"data-testid interval variable mininum interval input"}},GroupByVariable:{dataSourceSelect:{"10.4.0":"data-testid Select a data source"},infoText:{"10.4.0":"data-testid group by variable info text"},modeToggle:{"10.4.0":"data-testid group by variable mode toggle"}},AdHocFiltersVariable:{datasourceSelect:{"10.4.0":"data-testid Select a data source"},infoText:{"10.4.0":"data-testid ad-hoc filters variable info text"},modeToggle:{"11.0.0":"data-testid ad-hoc filters variable mode toggle"}}}}},Annotations:{marker:{"10.0.0":"data-testid annotation-marker"}},Rows:{Repeated:{ConfigSection:{warningMessage:{"10.2.0":"data-testid Repeated rows warning message"}}}}},Dashboards:{url:{[F]:"/dashboards"},dashboards:{"10.2.0":e=>`Dashboard search item ${e}`},toggleView:{[F]:"data-testid radio-button"}},SaveDashboardAsModal:{newName:{"10.2.0":"Save dashboard title field"},save:{"10.2.0":"Save dashboard button"}},SaveDashboardModal:{save:{"10.2.0":"Dashboard settings Save Dashboard Modal Save button"},saveVariables:{"10.2.0":"Dashboard settings Save Dashboard Modal Save variables checkbox"},saveTimerange:{"10.2.0":"Dashboard settings Save Dashboard Modal Save timerange checkbox"},saveRefresh:{"11.1.0":"Dashboard settings Save Dashboard Modal Save refresh checkbox"}},SharePanelModal:{linkToRenderedImage:{[F]:"Link to rendered image"}},ShareDashboardModal:{PublicDashboard:{WillBePublicCheckbox:{"9.1.0":"data-testid public dashboard will be public checkbox"},LimitedDSCheckbox:{"9.1.0":"data-testid public dashboard limited datasources checkbox"},CostIncreaseCheckbox:{"9.1.0":"data-testid public dashboard cost may increase checkbox"},PauseSwitch:{"9.5.0":"data-testid public dashboard pause switch"},EnableAnnotationsSwitch:{"9.3.0":"data-testid public dashboard on off switch for annotations"},CreateButton:{"9.5.0":"data-testid public dashboard create button"},DeleteButton:{"9.3.0":"data-testid public dashboard delete button"},CopyUrlInput:{"9.1.0":"data-testid public dashboard copy url input"},CopyUrlButton:{"9.1.0":"data-testid public dashboard copy url button"},SettingsDropdown:{"10.1.0":"data-testid public dashboard settings dropdown"},TemplateVariablesWarningAlert:{"9.1.0":"data-testid public dashboard disabled template variables alert"},UnsupportedDataSourcesWarningAlert:{"9.5.0":"data-testid public dashboard unsupported data sources alert"},NoUpsertPermissionsWarningAlert:{"9.5.0":"data-testid public dashboard no upsert permissions alert"},EnableTimeRangeSwitch:{"9.4.0":"data-testid public dashboard on off switch for time range"},EmailSharingConfiguration:{Container:{"9.5.0":"data-testid email sharing config container"},ShareType:{"9.5.0":"data-testid public dashboard share type"},EmailSharingInput:{"9.5.0":"data-testid public dashboard email sharing input"},EmailSharingInviteButton:{"9.5.0":"data-testid public dashboard email sharing invite button"},EmailSharingList:{"9.5.0":"data-testid public dashboard email sharing list"},DeleteEmail:{"9.5.0":"data-testid public dashboard delete email button"},ReshareLink:{"9.5.0":"data-testid public dashboard reshare link button"}}},SnapshotScene:{url:{"11.1.0":e=>`/dashboard/snapshot/${e}`},PublishSnapshot:{"11.1.0":"data-testid publish snapshot button"},CopyUrlButton:{"11.1.0":"data-testid snapshot copy url button"},CopyUrlInput:{"11.1.0":"data-testid snapshot copy url input"}}},ShareDashboardDrawer:{ShareInternally:{container:{"11.3.0":"data-testid share internally drawer container"},lockTimeRangeSwitch:{"11.3.0":"data-testid share internally lock time range switch"},shortenUrlSwitch:{"11.3.0":"data-testid share internally shorten url switch"},copyUrlButton:{"11.3.0":"data-testid share internally copy url button"},SharePanel:{preview:{"11.5.0":"data-testid share panel internally image generation preview"},widthInput:{"11.5.0":"data-testid share panel internally width input"},heightInput:{"11.5.0":"data-testid share panel internally height input"},scaleFactorInput:{"11.5.0":"data-testid share panel internally scale factor input"},generateImageButton:{"11.5.0":"data-testid share panel internally generate image button"},downloadImageButton:{"11.5.0":"data-testid share panel internally download image button"}}},ShareExternally:{container:{"11.3.0":"data-testid share externally drawer container"},publicAlert:{"11.3.0":"data-testid public share alert"},emailSharingAlert:{"11.3.0":"data-testid email share alert"},shareTypeSelect:{"11.3.0":"data-testid share externally share type select"},Creation:{PublicShare:{createButton:{"11.3.0":"data-testid public share dashboard create button"},cancelButton:{"11.3.0":"data-testid public share dashboard cancel button"}},EmailShare:{createButton:{"11.3.0":"data-testid email share dashboard create button"},cancelButton:{"11.3.0":"data-testid email share dashboard cancel button"}},willBePublicCheckbox:{"11.3.0":"data-testid share dashboard will be public checkbox"}},Configuration:{enableTimeRangeSwitch:{"11.3.0":"data-testid share externally enable time range switch"},enableAnnotationsSwitch:{"11.3.0":"data-testid share externally enable annotations switch"},copyUrlButton:{"11.3.0":"data-testid share externally copy url button"},revokeAccessButton:{"11.3.0":"data-testid share externally revoke access button"},toggleAccessButton:{"11.3.0":"data-testid share externally pause or resume access button"}}},ShareSnapshot:{url:{"11.3.0":e=>`/dashboard/snapshot/${e}`},container:{"11.3.0":"data-testid share snapshot drawer container"},publishSnapshot:{"11.3.0":"data-testid share snapshot publish button"},copyUrlButton:{"11.3.0":"data-testid share snapshot copy url button"}}},ExportDashboardDrawer:{ExportAsJson:{container:{"11.3.0":"data-testid export as json drawer container"},codeEditor:{"11.3.0":"data-testid export as json code editor"},exportExternallyToggle:{"11.3.0":"data-testid export as json externally switch"},saveToFileButton:{"11.3.0":"data-testid export as json save to file button"},copyToClipboardButton:{"11.3.0":"data-testid export as json copy to clipboard button"},cancelButton:{"11.3.0":"data-testid export as json cancel button"}}},PublicDashboard:{page:{"9.5.0":"public-dashboard-page"},NotAvailable:{container:{"9.5.0":"public-dashboard-not-available"},title:{"9.5.0":"public-dashboard-title"},pausedDescription:{"9.5.0":"public-dashboard-paused-description"}},footer:{"11.0.0":"public-dashboard-footer"}},PublicDashboardScene:{loadingPage:{"11.0.0":"public-dashboard-scene-loading-page"},page:{"11.0.0":"public-dashboard-scene-page"},controls:{"11.0.0":"public-dashboard-controls"}},RequestViewAccess:{form:{"9.5.0":"request-view-access-form"},recipientInput:{"9.5.0":"request-view-access-recipient-input"},submitButton:{"9.5.0":"request-view-access-submit-button"}},PublicDashboardConfirmAccess:{submitButton:{"10.2.0":"data-testid confirm-access-submit-button"}},Explore:{url:{[F]:"/explore"},General:{container:{[F]:"data-testid Explore"},graph:{[F]:"Explore Graph"},table:{[F]:"Explore Table"},scrollView:{"9.0.0":"data-testid explorer scroll view"},addFromQueryLibrary:{"11.5.0":"data-testid explore add from query library button"}},QueryHistory:{container:{"11.1.0":"data-testid QueryHistory"}}},SoloPanel:{url:{[F]:e=>`/d-solo/${e}`}},PluginsList:{page:{[F]:"Plugins list page"},list:{[F]:"Plugins list"},listItem:{[F]:"Plugins list item"},signatureErrorNotice:{"10.3.0":"data-testid Unsigned plugins notice",[F]:"Unsigned plugins notice"}},PluginPage:{page:{[F]:"Plugin page"},signatureInfo:{"10.3.0":"data-testid Plugin signature info",[F]:"Plugin signature info"},disabledInfo:{"10.3.0":"data-testid Plugin disabled info",[F]:"Plugin disabled info"}},PlaylistForm:{name:{[F]:"Playlist name"},interval:{[F]:"Playlist interval"},itemDelete:{"10.2.0":"data-testid playlist-form-delete-item"}},BrowseDashboards:{table:{body:{"10.2.0":"data-testid browse-dashboards-table"},row:{"10.2.0":e=>`data-testid browse dashboards row ${e}`},checkbox:{"10.0.0":e=>`data-testid ${e} checkbox`}},NewFolderForm:{form:{"10.2.0":"data-testid new folder form"},nameInput:{"10.2.0":"data-testid new-folder-name-input"},createButton:{"10.2.0":"data-testid new-folder-create-button"}}},SearchDashboards:{table:{"10.2.0":"Search results table"}},Search:{url:{"9.3.0":"/?search=openn"},FolderView:{url:{"9.3.0":"/?search=open&layout=folders"}}},PublicDashboards:{ListItem:{linkButton:{"9.3.0":"public-dashboard-link-button"},configButton:{"9.3.0":"public-dashboard-configuration-button"},trashcanButton:{"9.3.0":"public-dashboard-remove-button"},pauseSwitch:{"10.1.0":"data-testid public dashboard pause switch"}}},UserListPage:{tabs:{allUsers:{"10.0.0":"data-testid all-users-tab"},orgUsers:{"10.0.0":"data-testid org-users-tab"},anonUserDevices:{"10.2.3":"data-testid anon-user-devices-tab"},publicDashboardsUsers:{"10.0.0":"data-testid public-dashboards-users-tab"},users:{"10.0.0":"data-testid users-tab"}},org:{url:{"10.2.0":"/admin/users","9.5.0":"/org/users"}},admin:{url:{"9.5.0":"/admin/users"}},publicDashboards:{container:{"11.1.0":"data-testid public-dashboards-users-list"}},UserListAdminPage:{container:{"10.0.0":"data-testid user-list-admin-page"}},UsersListPage:{container:{"10.0.0":"data-testid users-list-page"}},UserAnonListPage:{container:{"10.4.0":"data-testid user-anon-list-page"}},UsersListPublicDashboardsPage:{container:{"10.0.0":"data-testid users-list-public-dashboards-page"},DashboardsListModal:{listItem:{"10.0.0":e=>`data-testid dashboards-list-item-${e}`}}}},ProfilePage:{url:{"10.2.0":"/profile"}},Plugin:{url:{[F]:e=>`/plugins/${e}`}},MigrateToCloud:{url:{"11.2.0":"/admin/migrate-to-cloud"}}}),components:M($)},z={panel:{root:"data-testid panel",loadingBar:"data-testid panel loading-bar",infoMessage:"data-testid panel info-message",singleLayoutContent:"data-testid panel single-layout-content",splitLayoutContent:e=>`data-testid panel split-layout-content-${e}`,buttonSubmit:"data-testid panel button-submit",buttonReset:"data-testid panel button-reset",buttonSaveDefault:"data-testid panel button-save-default",errorMessage:"data-testid panel error-message",buttonConfirmUpdate:U.pages.ConfirmModal.delete,confirmModalContent:"data-testid panel confirm-modal-content",confirmModalField:e=>`data-testid panel confirm-modal-content field-${e}`,confirmModalFieldTitle:"data-testid panel confirm-modal-content field field-title",confirmModalFieldPreviousValue:"data-testid panel confirm-modal-content field field-previous-value",confirmModalFieldValue:"data-testid panel confirm-modal-content field field-value",resetConfirmModal:"data-testid panel reset-confirm-modal",buttonConfirmReset:U.pages.ConfirmModal.delete},customCodeEditor:{root:"data-testid custom-code-editor"},formElements:{root:"data-testid form-elements",element:(e,t)=>`data-testid form-elements element-${e}-${t}`,default:"data-testid form-elements default-none",fieldNumber:"data-testid form-elements field-number",fieldString:"data-testid form-elements field-string",fieldFile:"data-testid form-elements field-file",fieldColorPicker:"data-testid form-elements field-color-picker",fieldPassword:"data-testid form-elements field-password",fieldDisabled:"data-testid form-elements field-disabled",fieldTextarea:"data-testid form-elements field-textarea",fieldDisabledTextarea:"data-testid form-elements field-disabled-textarea",fieldCode:"Code editor container",fieldBooleanContainer:"data-testid form-elements field-boolean-container",fieldDateTime:"date-time-input",fieldDate:"data-testid form-elements field-date",fieldTime:"data-testid form-elements field-time",fieldSlider:"form-elements field-slider",fieldSliderInput:"data-testid form-elements field-slider-input",fieldRadioContainer:"data-testid form-elements field-radio-container",fieldCheckboxListContainer:"data-testid form-elements field-checkboxList-container",fieldSelect:"form-elements field-select-container",fieldCustomButtonContainer:"data-testid form-elements field-custom-button-container",fieldCustomButton:e=>`data-testid form-elements field-custom-button-${e}`,booleanOption:e=>`form-elements boolean-${e}`,unit:"data-testid form-elements unit",link:"data-testid form elements link"},formElementsEditor:{addElementError:"data-testid form-elements-editor add-element-error",buttonAddElement:"data-testid form-elements-editor button-add-element",buttonAddOption:"data-testid form-elements-editor button-add-option",buttonRemoveElement:"data-testid form-elements-editor button-remove-element",buttonRemoveOption:"data-testid form-elements-editor button-remove-option",buttonRemoveBackground:"data-testid form-elements-editor button-remove-background",buttonRemoveLabelBackground:"data-testid form-elements-editor button-remove-label-background",buttonRemoveLabelColor:"data-testid form-elements-editor button-remove-label-color",buttonSaveChanges:"data-testid form-elements-editor button-save-changes",fieldCodeHeight:"data-testid form-elements-editor field-code-height",fieldCodeLanguage:"form-elements-editor field-code-language",fieldId:"data-testid form-elements-editor field-id",fieldLabel:"data-testid form-elements-editor field-label",fieldLabelWidth:"data-testid form-elements-editor field-label-width",fieldNumberMax:"data-testid form-elements-editor field-number-max",fieldNumberMin:"data-testid form-elements-editor field-number-min",options:"data-testid form-elements-editor options",optionLabel:e=>`data-testid form-elements-editor option-label-${e}`,optionContent:e=>`data-testid form-elements-editor option-content-${e}`,fieldOptionLabel:"data-testid form-elements-editor field-option-label",fieldOptionIcon:"form-elements-editor field-option-icon",fieldOptionType:"form-elements-editor field-option-type",fieldOptionValue:"data-testid form-elements-editor field-option-value",fieldSection:"form-elements-editor field-section",fieldSliderMax:"data-testid form-elements-editor field-slider-max",fieldSliderMin:"data-testid form-elements-editor field-slider-min",fieldSliderStep:"data-testid form-elements-editor field-slider-step",fieldTextareaRows:"data-testid form-elements-editor field-textarea-rows",fieldIsEscapingEditor:"data-testid form-elements-editor field-is-escaping-editor",fieldTooltip:"data-testid form-elements-editor field-tooltip",fieldType:"form-elements-editor field-type",fieldShowIf:"form-elements-editor field-show-if",fieldDisableIf:"form-elements-editor field-disable-if",fieldUnit:"data-testid form-elements-editor field-unit",fieldVisibility:"data-testid form-elements-editor field-visibility",fieldTimeZone:"data-testid form-elements-editor field-time-zone",fieldWidth:"data-testid form-elements-editor field-width",fieldElementBackground:"data-testid form-elements-editor field-element-background",fieldLabelBackground:"data-testid form-elements-editor field-label-background",fieldLabelColor:"data-testid form-elements-editor field-label-color",fieldNamePicker:"data-testid form-elements-editor field-name-picker",fieldAccept:"data-testid form-elements-editor field-accept",fieldFromQueryPicker:"form-elements-editor field-from-query-picker",fieldDateTime:"date-time-input",fieldMinDate:"data-testid form-elements-editor field-min-date",fieldMaxDate:"data-testid form-elements-editor field-max-date",fieldCustomButtonIcon:"data-testid form-elements-editor field-custom-button-icon",fieldCustomButtonForeground:"data-testid form-elements-editor field-custom-button-foreground",fieldCustomButtonBackground:"data-testid form-elements-editor field-custom-button-background",fieldCustomButtonCustomCode:"form-elements-editor field-custom-button-custom-code",fieldCustomButtonSize:"data-testid form-elements-editor field-custom-button-size",fieldCustomButtonPlace:"data-testid form-elements-editor field-custom-button-place",fieldCustomButtonVariant:"data-testid form-elements-editor field-custom-button-variant",fieldCustomButtonLabel:"data-testid form-elements-editor field-custom-button-label",customButtonSizeOption:e=>`form-elements-editor custom-button-size-option-${e}`,customButtonPlaceOption:e=>`form-elements-editor custom-button-place-option-${e}`,customButtonVariantOption:e=>`form-elements-editor custom-button-varian-option-${e}`,optionsSourceOption:e=>`form-elements-editor options-source-option-${e}`,linkTargetOption:e=>`form-elements-editor link-target-option-${e}`,fieldQueryOptionsValue:"form-elements-editor field-query-options-value",fieldQueryOptionsLabel:"form-elements-editor field-query-options-label",newElementId:"data-testid form-elements-editor new-element-id",newElementLabel:"data-testid form-elements-editor new-element-label",newElementType:"form-elements-editor new-element-type",radioOption:e=>`form-elements-editor option-${e}`,timeTransformationOption:e=>`form-elements-editor time-option-${e}`,root:"data-testid form-elements-editor",sectionContent:(e,t)=>`data-testid form-elements-editor section-content-${e}-${t}`,sectionLabel:(e,t)=>`data-testid form-elements-editor section-label-${e}-${t}`,sectionNewContent:"data-testid form-elements-editor section-new-content",sectionNewLabel:"data-testid form-elements-editor section-new-label",buttonSetDate:"data-testid form-elements-editor button-set-date",buttonRemoveDate:"data-testid form-elements-editor button-remove-date",fieldLinkText:"data-testid form-elements-editor field-link-text",fieldGetOptions:"form-elements-editor field-get-options",fileMultipleOption:e=>`form-elements-editor file-multiple-option-${e}`,optionsCustomValues:e=>`form-elements-editor options-source-option-${e}`,optionsColorFormat:e=>`form-elements-editor options-color-format-option-${e}`},formElementsSection:{sectionContent:(e,t)=>`data-testid form-elements-section section-content-${e}-${t}`,sectionHeader:(e,t)=>`data-testid form-elements-section section-header-${e}-${t}`},headerParametersEditor:{buttonAdd:"data-testid header-parameters-editor button-add",buttonRemove:"data-testid header-parameters-editor button-remove",fieldName:"data-testid header-parameters-editor field-name",fieldValue:"data-testid header-parameters-editor field-value",parameter:e=>`data-testid header-parameters-editor root parameter-${e}`,root:"data-testid header-parameters-editor"},layoutSectionsEditor:{buttonAdd:"data-testid layout-sections-editor button-add",buttonRemove:"data-testid layout-sections-editor button-remove",fieldId:"data-testid layout-sections-editor field-id",fieldName:"data-testid layout-sections-editor field-name",fieldExpanded:"layout-sections-editor field-expanded",root:"data-testid layout-sections-editor",section:e=>`data-testid layout-sections-editor section-${e}`},initialFieldsEditor:{root:"data-testid initial-fields-editor",buttonSaveChanges:"data-testid initial-fields-editor button-save-changes",fieldNamePicker:"data-testid initial-fields-editor field-name-picker",fieldFromQueryPicker:"data-testid initial-fields-editor field-from-query-picker"}},W=[{value:p.CHECKBOX_LIST,label:"Checkbox list with custom options"},{value:p.CODE,label:"Code Editor"},{value:p.COLOR_PICKER,label:"Color"},{value:p.BUTTON,label:"Button"},{value:p.DATE,label:"Date"},{value:p.DATETIME,label:"Date and time"},{value:p.FILE,label:"File"},{value:p.LINK,label:"Link"},{value:p.MULTISELECT,label:"Multi select with custom options"},{value:p.NUMBER,label:"Number input"},{value:p.SLIDER,label:"Number slider"},{value:p.PASSWORD,label:"Password input"},{value:p.BOOLEAN,label:"Radio group with boolean options"},{value:p.RADIO,label:"Radio group with custom options"},{value:p.DISABLED,label:"Read-only"},{value:p.DISABLED_TEXTAREA,label:"Read-only text area"},{value:p.SELECT,label:"Select with custom options"},{value:p.STRING,label:"String input"},{value:p.TEXTAREA,label:"Text area"},{value:p.TIME,label:"Time"}],H=[{ariaLabel:z.formElements.booleanOption("true"),value:!0,label:"True"},{ariaLabel:z.formElements.booleanOption("false"),value:!1,label:"False"}],G=[{value:p.NUMBER,label:"Number"},{value:p.STRING,label:"String"}],q=[{ariaLabel:z.formElementsEditor.radioOption("visibility-display"),description:"Display",icon:"eye",value:!1},{ariaLabel:z.formElementsEditor.radioOption("visibility-hidden"),description:"Hidden",icon:"eye-slash",value:!0}],Q=[{ariaLabel:z.formElementsEditor.timeTransformationOption("time-utc"),description:"UTC",label:"UTC",value:!1},{ariaLabel:z.formElementsEditor.timeTransformationOption("time-local"),description:"Local",label:"Local",value:!0}];var Y=function(e){return e.NONE="",e.INITIAL="initial",e.UPDATE="update",e.RESET="reset",e}({});const K=(0,t.getAvailableIcons)().map(e=>({label:e,value:e,icon:e}));var X=function(e){return e.QUERY="Query",e.CUSTOM="Custom",e.CODE="Code",e}({});const Z=[{label:"Query",value:"Query",ariaLabel:z.formElementsEditor.optionsSourceOption("Query")},{label:"Custom",value:"Custom",ariaLabel:z.formElementsEditor.optionsSourceOption("Custom"),icon:"keyboard"},{label:"Code",value:"Code",ariaLabel:z.formElementsEditor.optionsSourceOption("Code"),icon:"calculator-alt"}],J=[{label:"Same Tab",value:f.SELF_TAB,ariaLabel:z.formElementsEditor.linkTargetOption(f.SELF_TAB)},{label:"New Tab",value:f.NEW_TAB,ariaLabel:z.formElementsEditor.linkTargetOption(f.NEW_TAB),icon:"external-link-alt"}],ee=[{ariaLabel:z.formElementsEditor.customButtonPlaceOption("form"),value:l.FORM,label:"In Line"},{ariaLabel:z.formElementsEditor.customButtonPlaceOption("bottom"),value:l.BOTTOM,label:"Footer"}],te=[{ariaLabel:z.formElementsEditor.customButtonSizeOption("sm"),value:i.SMALL,label:"Small"},{ariaLabel:z.formElementsEditor.customButtonSizeOption("md"),value:i.MEDIUM,label:"Medium"},{ariaLabel:z.formElementsEditor.customButtonSizeOption("lg"),value:i.LARGE,label:"Large"}],ne=[{ariaLabel:z.formElementsEditor.customButtonVariantOption("primary"),value:s.PRIMARY,label:"Primary"},{ariaLabel:z.formElementsEditor.customButtonVariantOption("secondary"),value:s.SECONDARY,label:"Secondary"},{ariaLabel:z.formElementsEditor.customButtonVariantOption("destructive"),value:s.DESTRUCTIVE,label:"Destructive"},{ariaLabel:z.formElementsEditor.customButtonVariantOption("custom"),value:s.CUSTOM,label:"Custom"}],re=[{label:"Allow",value:!0,ariaLabel:z.formElementsEditor.optionsCustomValues("Allow"),icon:"keyboard"},{label:"Disallow",value:!1,ariaLabel:z.formElementsEditor.optionsCustomValues("Disallow"),icon:"times"}],ae=[{label:"HEX",value:d.HEX,ariaLabel:z.formElementsEditor.optionsColorFormat(d.HEX)},{label:"RGB",value:d.RGB,ariaLabel:z.formElementsEditor.optionsColorFormat(d.RGB)}];var oe=function(e){return e.DATASOURCE="datasource",e.DELETE="DELETE",e.GET="GET",e.NONE="-",e.PATCH="PATCH",e.POST="POST",e.PUT="PUT",e.QUERY="query",e}({});const ie=[{value:"-",label:"Code",icon:"calculator-alt"},{value:"datasource",label:"Data Source",icon:"database"},{value:"query",label:"Query"},{value:"GET",label:"GET"}],se=[{value:"-",label:"Code",icon:"calculator-alt"},{value:"datasource",label:"Data Source",icon:"database"},{value:"DELETE",label:"DELETE"},{value:"PATCH",label:"PATCH"},{value:"POST",label:"POST"},{value:"PUT",label:"PUT"}];var le=function(e){return e.FORMDATA="multipart/form-data",e.JSON="application/json",e.PLAIN="text/plain",e}({});const ce=[{label:"Application/json",value:"application/json"},{label:"Text/plain",value:"text/plain"},{label:"Multipart/form-data",value:"multipart/form-data"}];var ue=function(e){return e.ALL="all",e.UPDATED="updated",e.CUSTOM="custom",e}({});const de=[{label:"All Elements",value:"all"},{label:"Updated Only",value:"updated"},{label:"Code",value:"custom",icon:"calculator-alt"}];var pe=function(e){return e.INITIAL="initial",e.CUSTOM="custom",e.DATASOURCE="datasource",e}({});const fe=[{label:"Code",value:"custom",icon:"calculator-alt"},{label:"Initial Request",value:"initial"},{label:"Data Source",value:"datasource",icon:"database"}],he=[{value:m.DISABLED,label:"Disabled"},{value:m.AUTO,label:"If Changed",description:"Enabled if value is changed from initial."},{value:m.MANUAL,label:"Manual",description:"Disabled by default. Control through the code."}];var me=function(e){return e.ALL="all",e.MODIFIED="modified",e}({});const ge=[{label:"All Elements",value:"all"},{label:"Updated Only",value:"modified"}],be="console.log(context.panel.data, context.panel.response, context.panel.initial, context.panel.elements);\n\nreturn;\n\n/**\n * Data Source\n * Requires form elements to be defined\n */\nconst dataQuery = context.utils.toDataQueryResponse(context.panel.response);\nconsole.log(dataQuery);",ve="if (context.panel.response) {\n  context.grafana.notifySuccess(['Update', 'Values updated successfully.']);\n  context.grafana.refresh();\n} else {\n  context.grafana.notifyError(['Update', 'An error occurred updating values.']);\n}",ye="return {}",we={icon:"cloud-upload",backgroundColor:"purple",foregroundColor:"yellow",text:"Submit",variant:s.PRIMARY},Ee={icon:"process",backgroundColor:"purple",foregroundColor:"yellow",text:"Reset",variant:s.HIDDEN},Se={icon:"save",backgroundColor:"purple",foregroundColor:"yellow",text:"Save Default",variant:s.HIDDEN},Oe={value:0},Ce={min:0,max:10,step:1,value:0},Ae={height:200,language:c.JAVASCRIPT,value:""},xe={rows:10,value:""},De={options:[],allowCustomValue:!1,optionsSource:X.CUSTOM},Pe={uid:"",id:"",title:"",type:p.STRING,width:null,labelWidth:10,tooltip:"",section:"",hidden:!1,unit:"",value:""},Ie={id:"_",type:p.NUMBER,label:"",value:""},Re={title:"Confirm update request",body:"Please confirm to update changed values",columns:{include:[h.NAME,h.OLD_VALUE,h.NEW_VALUE],name:"Label",oldValue:"Old Value",newValue:"New Value"},confirm:"Confirm",cancel:"Cancel",elementDisplayMode:me.MODIFIED},Te={customCode:"",size:i.MEDIUM,show:l.FORM,variant:s.PRIMARY,foregroundColor:"",backgroundColor:"",buttonLabel:"Button"};var ke=function(e){return e.NONE="none",e.SINGLE="single",e.SPLIT="split",e}({}),_e=function(e){return e.VERTICAL="vertical",e.HORIZONTAL="horizontal",e}({}),Le=function(e){return e.DEFAULT="default",e.COLLAPSABLE="collapsable",e}({});const Me=[{value:"single",description:"All elements together.",label:"Basic",icon:"bars"},{value:"none",description:"Buttons only.",label:"Buttons only",icon:"apps"},{value:"split",description:"Elements split in separate sections.",label:"Sections",icon:"columns"}],Be=[{value:"horizontal",description:"Horizontal Orientation",label:"Horizontal",icon:"horizontal-align-center"},{value:"vertical",description:"Vertical Orientation",label:"Vertical",icon:"vertical-align-center"}],je=[{value:"default",description:"Always Open",label:"Always Open",icon:"bars"},{value:"collapsable",description:"Collapsable",label:"Collapsable",icon:"arrows-v"}],Ne=[{value:!0,label:"Enabled"},{value:!1,label:"Disabled"}],Ve=(...e)=>{try{return new Function(...e)}catch(t){return console.error("Code Error",t),console.log(e[e.length-1]),()=>{}}};var Fe=g(6089);const $e={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let Ue;const ze=new Uint8Array(16),We=[];for(let e=0;e<256;++e)We.push((e+256).toString(16).slice(1));const He=function(e,t,n){if($e.randomUUID&&!t&&!e)return $e.randomUUID();const r=(e=e||{}).random??e.rng?.()??function(){if(!Ue){if("undefined"==typeof crypto||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Ue=crypto.getRandomValues.bind(crypto)}return Ue(ze)}();if(r.length<16)throw new Error("Random bytes length must be >= 16");if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){if((n=n||0)<0||n+16>t.length)throw new RangeError(`UUID byte range ${n}:${n+15} is out of buffer bounds`);for(let e=0;e<16;++e)t[n+e]=r[e];return t}return function(e,t=0){return(We[e[t+0]]+We[e[t+1]]+We[e[t+2]]+We[e[t+3]]+"-"+We[e[t+4]]+We[e[t+5]]+"-"+We[e[t+6]]+We[e[t+7]]+"-"+We[e[t+8]]+We[e[t+9]]+"-"+We[e[t+10]]+We[e[t+11]]+We[e[t+12]]+We[e[t+13]]+We[e[t+14]]+We[e[t+15]]).toLowerCase()}(r)},Ge=e=>e?e.values.toArray?e.values.toArray():e.values:[];function qe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){qe(e,t,n[t])})}return e}function Ye(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t.push.apply(t,n)}return t}(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}const Ke=(e,t,n)=>{const r=Array.from(e),[a]=r.splice(t,1);return r.splice(n,0,a),r},Xe=(e,t)=>{const n={uid:e.uid,id:e.id,type:t,labelWidth:e.labelWidth,width:e.width,value:e.value,title:e.title,tooltip:e.tooltip,section:e.section,unit:e.unit,helpers:e.helpers};switch(t){case p.STRING:return Ye(Qe({},n),{hidden:!1,value:"",type:t});case p.COLOR_PICKER:return Ye(Qe({},n),{hidden:!1,colorFormat:d.RGB,value:"",type:t});case p.SLIDER:return Ye(Qe({},n,Ce),{type:t});case p.NUMBER:return Ye(Qe({},n,Oe),{type:t});case p.CODE:return Ye(Qe({},n,Ae),{type:t});case p.TEXTAREA:case p.DISABLED_TEXTAREA:return Ye(Qe({},n,xe),{type:t});case p.SELECT:case p.MULTISELECT:case p.DISABLED:case p.RADIO:case p.CHECKBOX_LIST:{const r={options:"options"in e&&e.options||[],optionsSource:"optionsSource"in e&&e.optionsSource||De.optionsSource,queryOptions:"queryOptions"in e?e.queryOptions:void 0};return t===p.CHECKBOX_LIST?Ye(Qe({},n,r),{allowCustomValue:!1,type:t,value:Array.isArray(n)?n:[]}):Ye(Qe({},n,r),{allowCustomValue:!1,type:t})}case p.FILE:return Ye(Qe({},n),{value:[],accept:"",type:t,multiple:!0});case p.DATETIME:return Ye(Qe({},n),{value:"",type:t,isUseLocalTime:!1});case p.PASSWORD:return Ye(Qe({},n),{value:"",type:t});case p.TIME:case p.DATE:return Ye(Qe({},n),{value:"",type:t,isUseLocalTime:!1});case p.BOOLEAN:return Ye(Qe({},n),{value:!1,type:t});case p.BUTTON:return Ye(Qe({},n,Te),{value:"",type:t});case p.LINK:return Ye(Qe({},n),{value:"",target:f.SELF_TAB,linkText:"",type:t})}},Ze=(e,t)=>e.some(e=>e.id===t.id&&e.type===t.type),Je=e=>e.trim().length>0?Number(e):null,et=e=>"number"==typeof e?e:"",tt=e=>"number"==typeof e?e:void 0,nt=e=>e.uid||He(),rt=e=>void 0!==e.id?e.id:e.value,at=(e,t)=>{var n;const r=e.showIf;let a=()=>!0;(r||(null==r?void 0:r.trim()))&&(a=({elements:e})=>Ve("context",t?t(r):r)(A.create({panel:{elements:e}})));const o=e.disableIf;let i=()=>!1;(o||(null==o?void 0:o.trim()))&&(i=({elements:e})=>Ve("context",t?t(o):o)(x.create({panel:{elements:e}})));let s=()=>[];return e.type!==p.DISABLED&&e.type!==p.SELECT&&e.type!==p.MULTISELECT&&e.type!==p.RADIO&&e.type!==p.CHECKBOX_LIST||(s=e.optionsSource===X.QUERY?({data:t})=>{const{queryOptions:n}=e;if(!n||!n.value)return[];const r=t.series.find(e=>e.refId===n.source),a=null==r?void 0:r.fields.find(e=>e.name===n.value);if(!r||!a)return[];const o=Ge((null==r?void 0:r.fields.find(e=>e.name===n.label))||a);return Ge(a).map((e,t)=>({value:e,label:o[t]}))}:e.optionsSource===X.CODE?({data:n,elements:r})=>{const a=e.getOptions?t?t(e.getOptions):e.getOptions:"return []";return Ve("context",a)(D.create({panel:{data:n,elements:r}}))}:()=>e.options||[]),Ye(Qe({},e,"options"in e?{options:null===(n=e.options)||void 0===n?void 0:n.map(e=>Ye(Qe({},e),{id:rt(e)}))}:{}),{helpers:{showIf:a,disableIf:i,getOptions:s},uid:nt(e)})},ot=(e,t)=>e&&Array.isArray(e)?e.map(e=>at(e,t)):[],it=e=>{switch(e){case s.DESTRUCTIVE:case s.PRIMARY:case s.SECONDARY:return e;default:return}},st=(e,t)=>e.type===t,lt=(e,t)=>{switch(e.type){case p.CODE:case p.TEXTAREA:var n;return Ye(Qe({},e),{value:"string"==typeof t?t.replaceAll("\n","\\n"):null!==(n=null==t?void 0:t.toString())&&void 0!==n?n:""});case p.STRING:case p.DISABLED_TEXTAREA:case p.PASSWORD:case p.COLOR_PICKER:case p.TEXTAREA:case p.BUTTON:case p.LINK:var r;return Ye(Qe({},e),{value:"string"==typeof t?t:null!==(r=null==t?void 0:t.toString())&&void 0!==r?r:""});case p.NUMBER:case p.SLIDER:{let n="number"==typeof t?t:0;return"string"==typeof t&&(n=Number(t),Number.isNaN(n)&&(n=0)),Ye(Qe({},e),{value:n})}case p.FILE:return Ye(Qe({},e),{value:[]});case p.BOOLEAN:return Ye(Qe({},e),{value:!!t});case p.DATETIME:case p.TIME:case p.DATE:{let n;return"number"!=typeof t&&"string"!=typeof t||(n=(e=>isNaN(new Date(e).getTime())?void 0:new Date(e).toISOString())(t)),Ye(Qe({},e),{value:n})}case p.CHECKBOX_LIST:return Ye(Qe({},e),{value:Array.isArray(t)?t:[t]});default:return Ye(Qe({},e),{value:t})}};class ct extends e.BusEventBase{constructor(e){super(),qe(this,"payload",void 0),this.payload=e}}qe(ct,"type","value-changed");const ut=e=>{if(e)return e.split(",").reduce((e,t)=>{const n=t.trim(),r=n.substring(1);return e.hasOwnProperty(r)?e[r]=[...e[r],n]:e[r]=[n],e},{})},dt=(t,n)=>{switch(t.type){case p.PASSWORD:return"*********";case p.DATETIME:return n&&"string"==typeof n?(0,e.dateTime)(n).toISOString(t.isUseLocalTime):"";case p.TIME:return n&&"string"==typeof n?new Date(n).toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit"}):"";case p.TEXTAREA:case p.CODE:return n&&"string"==typeof n?n.replaceAll("\\n","\n"):"";default:return void 0===n?"":String(n)}},pt=(e,t)=>Fe.css`
    ${e&&`\n      & label:first-child {\n          background: ${e};\n        }\n    `}
    ${t&&`\n      & label:first-child {\n          color: ${t};\n        } \n    `}
  `;function ft(e,t,n,r,a,o,i){try{var s=e[o](i),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,a)}function ht(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){ft(o,r,a,i,s,"next",e)}function s(e){ft(o,r,a,i,s,"throw",e)}i(void 0)})}}const mt=({request:e,elements:t,initial:n,replaceVariables:r})=>ht(function*(){if(e.payloadMode===ue.CUSTOM)return new Function("context",r(e.getPayload))(P.create({panel:{elements:t,initial:n},utils:{fileToBase64:gt}}));const a=e.payloadMode===ue.UPDATED,o={};return t.forEach(e=>{e.helpers.showIf({elements:t})&&(a?e.value!==n[e.id]&&e.type!==p.DISABLED&&(o[e.id]=e.value):o[e.id]=e.value)}),o})(),gt=e=>new Promise(t=>{const n=new FileReader;n.addEventListener("load",e=>{var n;"string"==typeof(null===(n=e.target)||void 0===n?void 0:n.result)&&t(e.target.result)}),n.readAsDataURL(e)}),bt=(e,t)=>"string"==typeof e?t(e):e instanceof File?e:`${e}`;var vt=g(9997);function yt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}(0,vt.getJestSelectors)(z.customCodeEditor),(0,vt.getJestSelectors)(z.formElements,["fieldDateTime"]),(0,vt.getJestSelectors)(z.formElementsSection),(0,vt.getJestSelectors)(z.formElementsEditor,["fieldDateTime"]),(0,vt.getJestSelectors)(z.panel),(0,vt.getJestSelectors)(z.headerParametersEditor),(0,vt.getJestSelectors)(z.layoutSectionsEditor),(0,vt.getJestSelectors)(z.initialFieldsEditor);const wt=(e,t)=>e.map(e=>{return n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){yt(e,t,n[t])})}return e}({},e),r=null!=(r={ariaLabel:t(e.value)})?r:{},Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):function(e){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t.push.apply(t,n)}return t}(Object(r)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(r,e))}),n;var n,r});function Et(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const St=({element:e,onChange:n,highlightClass:r})=>a().createElement(t.InlineField,{label:e.title,grow:!e.width,labelWidth:tt(e.labelWidth),tooltip:e.tooltip,transparent:!e.title,"data-testid":z.formElements.fieldBooleanContainer,disabled:e.disabled,className:pt(e.labelBackground,e.labelColor)},a().createElement(t.RadioButtonGroup,{value:e.value,onChange:t=>{var r,a;n((r=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Et(e,t,n[t])})}return e}({},e),a=null!=(a={value:t})?a:{},Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(a)):function(e){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t.push.apply(t,n)}return t}(Object(a)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(a,e))}),r))},className:r(e),fullWidth:!e.width,options:H})),Ot=e=>({checkboxWrap:Fe.css`
      width: 100%;
      & > div {
        flex: auto;
      }
    `,checkboxRow:Fe.css`
      display: flex;
      flex-wrap: wrap;
      flex-direction: column;
      align-items: flex-start;
    `,checkbox:Fe.css`
      padding: ${e.spacing(1)};
      background: unset !important;
    `});function Ct(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const At=({element:e,onChange:n})=>{const r=(0,t.useTheme2)(),o=(0,t.useStyles2)(Ot);return a().createElement(t.InlineField,{label:e.title,grow:!e.width,labelWidth:tt(e.labelWidth),tooltip:e.tooltip,transparent:!e.title,disabled:e.disabled,className:(0,Fe.cx)(o.checkboxWrap,pt(e.labelBackground,e.labelColor)),"data-testid":z.formElements.fieldCheckboxListContainer},a().createElement("div",{style:{width:e.width?r.spacing(e.width):"auto"},className:o.checkboxRow},e.options.map(r=>a().createElement(t.Checkbox,{className:o.checkbox,key:r.id,value:e.value.some(e=>e===r.value),label:r.label,onChange:t=>{var a,o;n((a=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Ct(e,t,n[t])})}return e}({},e),o=null!=(o={value:t.currentTarget.checked?e.value.concat(r.value):e.value.filter(e=>e!==r.value)})?o:{},Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(o)):function(e){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t.push.apply(t,n)}return t}(Object(o)).forEach(function(e){Object.defineProperty(a,e,Object.getOwnPropertyDescriptor(o,e))}),a))}}))))};function xt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Dt=({element:e,onChange:o})=>{var i;const s=(0,r.useMemo)(()=>({formatOnPaste:!0,formatOnType:!0,fixedOverflowWidgets:!1}),[]);return a().createElement(t.InlineField,{label:e.title,grow:!e.width,labelWidth:tt(e.labelWidth),tooltip:e.tooltip,transparent:!e.title,disabled:e.disabled,className:pt(e.labelBackground,e.labelColor)},a().createElement(n.v4,{isEscaping:e.isEscaping,language:e.language||c.JAVASCRIPT,showLineNumbers:!0,showMiniMap:((null===(i=e.value)||void 0===i?void 0:i.length)||0)>100,value:e.value||"",height:e.height,width:tt(e.width),onBlur:t=>{var n,r;o((n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){xt(e,t,n[t])})}return e}({},e),r=null!=(r={value:t})?r:{},Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):function(e){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t.push.apply(t,n)}return t}(Object(r)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(r,e))}),n))},monacoOptions:s,"aria-label":z.formElements.fieldCode,readOnly:e.disabled}))};function Pt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const It=({element:e,onChange:n})=>a().createElement(t.InlineField,{label:e.title,grow:!e.width,labelWidth:tt(e.labelWidth),tooltip:e.tooltip,transparent:!e.title,disabled:e.disabled,className:pt(e.labelBackground,e.labelColor)},a().createElement(t.ColorPickerInput,{"data-testid":z.formElements.fieldColorPicker,color:e.value,width:tt(e.width),returnColorAs:e.colorFormat,onChange:t=>{var r,a;n((r=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Pt(e,t,n[t])})}return e}({},e),a=null!=(a={value:t})?a:{},Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(a)):function(e){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t.push.apply(t,n)}return t}(Object(a)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(a,e))}),r))}}));function Rt(e,t,n,r,a,o,i){try{var s=e[o](i),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,a)}const Tt=({element:e,executeCustomCode:n,elements:o,initial:i,replaceVariables:c})=>{const u=(0,t.useTheme2)(),d=(0,r.useCallback)(e=>{return(t=function*(){yield n({code:e,currentElements:o,initial:i})},function(){var e=this,n=arguments;return new Promise(function(r,a){var o=t.apply(e,n);function i(e){Rt(o,r,a,i,s,"next",e)}function s(e){Rt(o,r,a,i,s,"throw",e)}i(void 0)})})();var t},[o,n,i]),p=a().createElement(t.Button,{variant:it(e.variant),style:e.variant===s.CUSTOM?{background:"none",border:"none",backgroundColor:u.visualization.getColorByName(e.backgroundColor),color:u.visualization.getColorByName(e.foregroundColor)}:{},icon:e.icon,disabled:e.disabled,onClick:()=>d(e.customCode),size:e.size,"data-testid":z.formElements.fieldCustomButton(e.id)},c(e.buttonLabel));return a().createElement(a().Fragment,null,e.show===l.FORM?a().createElement(t.InlineField,{grow:!0,label:e.title,labelWidth:tt(e.labelWidth),tooltip:e.tooltip,transparent:!e.title,disabled:e.disabled,"data-testid":z.formElements.fieldCustomButtonContainer,className:pt(e.labelBackground,e.labelColor)},p):p)};function kt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _t(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){kt(e,t,n[t])})}return e}function Lt(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t.push.apply(t,n)}return t}(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}const Mt=({element:n,onChange:r,timeZone:o})=>a().createElement(t.InlineField,{label:n.title,grow:!n.width,labelWidth:tt(n.labelWidth),tooltip:n.tooltip,transparent:!n.title,disabled:n.disabled,className:pt(n.labelBackground,n.labelColor)},n.disabled?a().createElement(t.DatePickerWithInput,{onChange:void 0,value:n.value,"data-testid":z.formElements.fieldDateTime}):n.type===p.DATETIME?a().createElement(t.DateTimePicker,{minDate:n.min?new Date(n.min):void 0,maxDate:n.max?new Date(n.max):void 0,date:(0,e.dateTime)(n.value),onChange:e=>{e&&r(Lt(_t({},n),{value:e.toISOString(n.isUseLocalTime)}))},"data-testid":z.formElements.fieldDateTime,timeZone:o}):a().createElement(t.DatePickerWithInput,{onChange:e=>{if("string"==typeof e)return void r(Lt(_t({},n),{value:e}));const t=n.isUseLocalTime?e.toISOString():new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate())).toISOString();r(Lt(_t({},n),{value:t}))},placeholder:"Set the Date",value:n.value,"data-testid":z.formElements.fieldDate})),Bt=({element:e})=>{var n,r,o,i;return a().createElement(a().Fragment,null,a().createElement(t.InlineField,{label:e.title,grow:!e.width,labelWidth:tt(e.labelWidth),tooltip:e.tooltip,disabled:!0,transparent:!e.title,className:pt(e.labelBackground,e.labelColor)},a().createElement(t.Input,{value:(null===(n=e.options)||void 0===n?void 0:n.length)?null===(i=e.options)||void 0===i||null===(o=i.find(t=>t.value===e.value))||void 0===o?void 0:o.label:(null===(r=e.value)||void 0===r?void 0:r.toString())||"",type:"text",width:tt(e.width),"data-testid":z.formElements.fieldDisabled})))},jt=({element:e})=>a().createElement(t.InlineField,{label:e.title,grow:!e.width,labelWidth:tt(e.labelWidth),tooltip:e.tooltip,transparent:!e.title,disabled:e.type===p.DISABLED_TEXTAREA,className:pt(e.labelBackground,e.labelColor)},a().createElement(t.TextArea,{value:e.value,cols:tt(e.width),rows:e.rows,"data-testid":z.formElements.fieldDisabledTextarea}));function Nt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Nt(e,t,n[t])})}return e}function Ft(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t.push.apply(t,n)}return t}(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}const $t=({element:e,onChange:n})=>a().createElement(t.InlineField,{label:e.title,grow:!e.width,labelWidth:tt(e.labelWidth),tooltip:e.tooltip,transparent:!e.title,disabled:e.disabled,className:pt(e.labelBackground,e.labelColor)},a().createElement(t.FileDropzone,{options:{accept:ut(e.accept),multiple:e.multiple,onDrop:t=>{n(Ft(Vt({},e),{value:t}))}},onFileRemove:t=>{var r;n(Ft(Vt({},e),{value:(null===(r=e.value)||void 0===r?void 0:r.filter(e=>e.name!==t.file.name))||[]}))},"data-testid":z.formElements.fieldFile})),Ut=e=>({link:Fe.css`
      min-height: ${e.spacing(4)};
      display: flex;
      align-items: center;
    `}),zt=({element:e})=>{const n=(0,t.useTheme2)(),r=(0,t.useStyles2)(Ut);return a().createElement(t.InlineField,{label:e.title,grow:!e.width,labelWidth:tt(e.labelWidth),tooltip:e.tooltip,transparent:!e.title,className:pt(e.labelBackground,e.labelColor)},a().createElement("div",{className:r.link,style:{width:e.width?n.spacing(e.width):"auto"}},a().createElement(t.TextLink,{href:e.value,external:e.target===f.NEW_TAB,"data-testid":z.formElements.link},e.linkText||e.value)))};function Wt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Ht=({element:e,onChange:r,highlightClass:o})=>a().createElement(t.InlineField,{label:e.title,grow:!e.width,labelWidth:tt(e.labelWidth),tooltip:e.tooltip,transparent:!e.title,disabled:e.disabled,className:pt(e.labelBackground,e.labelColor)},a().createElement(n.Q7,{value:et(e.value),onChange:t=>{var n,a;r((n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Wt(e,t,n[t])})}return e}({},e),a=null!=(a={value:t})?a:{},Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(a)):function(e){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t.push.apply(t,n)}return t}(Object(a)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(a,e))}),n))},type:"number",className:o(e),width:tt(e.width),min:e.min,max:e.max,"data-testid":z.formElements.fieldNumber}));function Gt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const qt=({element:e,onChange:n,highlightClass:r})=>a().createElement(t.InlineField,{label:e.title,grow:!e.width,labelWidth:tt(e.labelWidth),tooltip:e.tooltip,transparent:!e.title,disabled:e.disabled,className:pt(e.labelBackground,e.labelColor)},a().createElement(t.Input,{value:e.value||"",onChange:t=>{var r,a;n((r=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Gt(e,t,n[t])})}return e}({},e),a=null!=(a={value:t.target.value})?a:{},Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(a)):function(e){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t.push.apply(t,n)}return t}(Object(a)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(a,e))}),r))},className:r(e),width:tt(e.width),type:"password","data-testid":z.formElements.fieldPassword}));function Qt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Yt=({element:e,onChange:n,highlightClass:r})=>a().createElement(t.InlineField,{label:e.title,grow:!e.width,labelWidth:tt(e.labelWidth),tooltip:e.tooltip,transparent:!e.title,"data-testid":z.formElements.fieldRadioContainer,disabled:e.disabled,className:pt(e.labelBackground,e.labelColor)},a().createElement(t.RadioButtonGroup,{value:e.value,onChange:t=>{var r,a;n((r=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Qt(e,t,n[t])})}return e}({},e),a=null!=(a={value:t})?a:{},Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(a)):function(e){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t.push.apply(t,n)}return t}(Object(a)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(a,e))}),r))},fullWidth:!e.width,options:e.options,className:r(e)}));function Kt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Xt=({element:e,onChange:n,highlightClass:r})=>a().createElement(t.InlineField,{label:e.title,grow:!e.width,labelWidth:tt(e.labelWidth),tooltip:e.tooltip,transparent:!e.title,disabled:e.disabled,className:pt(e.labelBackground,e.labelColor)},a().createElement(t.Select,{key:e.id,isMulti:e.type===p.MULTISELECT,"aria-label":z.formElements.fieldSelect,"data-testid":z.formElements.fieldSelect,value:void 0!==e.value?e.value:null,allowCustomValue:e.allowCustomValue,onChange:t=>{var r,a;n((r=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Kt(e,t,n[t])})}return e}({},e),a=null!=(a={value:Array.isArray(t)?t.map(({value:e})=>e):t.value})?a:{},Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(a)):function(e){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t.push.apply(t,n)}return t}(Object(a)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(a,e))}),r))},width:tt(e.width),options:e.options,className:r(e)}));var Zt=g(7405),Jt=g(1705),en=g(4300),tn=g(694),nn=g(7850),rn=g(4452),an=g.n(rn),on=g(8728),sn=g(9273),ln=g(2086),cn=g(4358),un=g(8102),dn=g(9644),pn=g(8398),fn=g.n(pn);function hn(e,t,n){return(e-t)/(n-t)}function mn(e,t,n,r){var a=hn(t,n,r),o={};switch(e){case"rtl":o.right="".concat(100*a,"%"),o.transform="translateX(50%)";break;case"btt":o.bottom="".concat(100*a,"%"),o.transform="translateY(50%)";break;case"ttb":o.top="".concat(100*a,"%"),o.transform="translateY(-50%)";break;default:o.left="".concat(100*a,"%"),o.transform="translateX(-50%)"}return o}function gn(e,t){return Array.isArray(e)?e[t]:e}var bn=g(2772);const vn=r.createContext({min:0,max:0,direction:"ltr",step:1,includedStart:0,includedEnd:0,tabIndex:0,keyboard:!0,styles:{},classNames:{}});var yn=r.createContext({}),wn=["prefixCls","value","valueIndex","onStartMove","onDelete","style","render","dragging","draggingDelete","onOffsetChange","onChangeComplete","onFocus","onMouseEnter"];const En=r.forwardRef(function(e,t){var n,a=e.prefixCls,o=e.value,i=e.valueIndex,s=e.onStartMove,l=e.onDelete,c=e.style,u=e.render,d=e.dragging,p=e.draggingDelete,f=e.onOffsetChange,h=e.onChangeComplete,m=e.onFocus,g=e.onMouseEnter,b=(0,dn.A)(e,wn),v=r.useContext(vn),y=v.min,w=v.max,E=v.direction,S=v.disabled,O=v.keyboard,C=v.range,A=v.tabIndex,x=v.ariaLabelForHandle,D=v.ariaLabelledByForHandle,P=v.ariaRequired,I=v.ariaValueTextFormatterForHandle,R=v.styles,T=v.classNames,k="".concat(a,"-handle"),_=function(e){S||s(e,i)},L=mn(E,o,y,w),M={};null!==i&&(M={tabIndex:S?null:gn(A,i),role:"slider","aria-valuemin":y,"aria-valuemax":w,"aria-valuenow":o,"aria-disabled":S,"aria-label":gn(x,i),"aria-labelledby":gn(D,i),"aria-required":gn(P,i),"aria-valuetext":null===(n=gn(I,i))||void 0===n?void 0:n(o),"aria-orientation":"ltr"===E||"rtl"===E?"horizontal":"vertical",onMouseDown:_,onTouchStart:_,onFocus:function(e){null==m||m(e,i)},onMouseEnter:function(e){g(e,i)},onKeyDown:function(e){if(!S&&O){var t=null;switch(e.which||e.keyCode){case bn.A.LEFT:t="ltr"===E||"btt"===E?-1:1;break;case bn.A.RIGHT:t="ltr"===E||"btt"===E?1:-1;break;case bn.A.UP:t="ttb"!==E?1:-1;break;case bn.A.DOWN:t="ttb"!==E?-1:1;break;case bn.A.HOME:t="min";break;case bn.A.END:t="max";break;case bn.A.PAGE_UP:t=2;break;case bn.A.PAGE_DOWN:t=-2;break;case bn.A.BACKSPACE:case bn.A.DELETE:l(i)}null!==t&&(e.preventDefault(),f(t,i))}},onKeyUp:function(e){switch(e.which||e.keyCode){case bn.A.LEFT:case bn.A.RIGHT:case bn.A.UP:case bn.A.DOWN:case bn.A.HOME:case bn.A.END:case bn.A.PAGE_UP:case bn.A.PAGE_DOWN:null==h||h()}}});var B=r.createElement("div",(0,un.A)({ref:t,className:an()(k,(0,Jt.A)((0,Jt.A)((0,Jt.A)({},"".concat(k,"-").concat(i+1),null!==i&&C),"".concat(k,"-dragging"),d),"".concat(k,"-dragging-delete"),p),T.handle),style:(0,Zt.A)((0,Zt.A)((0,Zt.A)({},L),c),R.handle)},M,b));return u&&(B=u(B,{index:i,prefixCls:a,value:o,dragging:d,draggingDelete:p})),B});var Sn=["prefixCls","style","onStartMove","onOffsetChange","values","handleRender","activeHandleRender","draggingIndex","draggingDelete","onFocus"];const On=r.forwardRef(function(e,t){var n=e.prefixCls,a=e.style,o=e.onStartMove,i=e.onOffsetChange,s=e.values,l=e.handleRender,c=e.activeHandleRender,u=e.draggingIndex,d=e.draggingDelete,p=e.onFocus,f=(0,dn.A)(e,Sn),h=r.useRef({}),m=r.useState(!1),g=(0,nn.A)(m,2),b=g[0],v=g[1],y=r.useState(-1),w=(0,nn.A)(y,2),E=w[0],S=w[1],O=function(e){S(e),v(!0)};r.useImperativeHandle(t,function(){return{focus:function(e){var t;null===(t=h.current[e])||void 0===t||t.focus()},hideHelp:function(){(0,pn.flushSync)(function(){v(!1)})}}});var C=(0,Zt.A)({prefixCls:n,onStartMove:o,onOffsetChange:i,render:l,onFocus:function(e,t){O(t),null==p||p(e)},onMouseEnter:function(e,t){O(t)}},f);return r.createElement(r.Fragment,null,s.map(function(e,t){var n=u===t;return r.createElement(En,(0,un.A)({ref:function(e){e?h.current[t]=e:delete h.current[t]},dragging:n,draggingDelete:n&&d,style:gn(a,t),key:t,value:e,valueIndex:t},C))}),c&&b&&r.createElement(En,(0,un.A)({key:"a11y"},C,{value:s[E],valueIndex:null,dragging:-1!==u,draggingDelete:d,render:c,style:{pointerEvents:"none"},tabIndex:null,"aria-hidden":!0})))}),Cn=function(e){var t=e.prefixCls,n=e.style,a=e.children,o=e.value,i=e.onClick,s=r.useContext(vn),l=s.min,c=s.max,u=s.direction,d=s.includedStart,p=s.includedEnd,f=s.included,h="".concat(t,"-text"),m=mn(u,o,l,c);return r.createElement("span",{className:an()(h,(0,Jt.A)({},"".concat(h,"-active"),f&&d<=o&&o<=p)),style:(0,Zt.A)((0,Zt.A)({},m),n),onMouseDown:function(e){e.stopPropagation()},onClick:function(){i(o)}},a)},An=function(e){var t=e.prefixCls,n=e.marks,a=e.onClick,o="".concat(t,"-mark");return n.length?r.createElement("div",{className:o},n.map(function(e){var t=e.value,n=e.style,i=e.label;return r.createElement(Cn,{key:t,prefixCls:o,style:n,value:t,onClick:a},i)})):null},xn=function(e){var t=e.prefixCls,n=e.value,a=e.style,o=e.activeStyle,i=r.useContext(vn),s=i.min,l=i.max,c=i.direction,u=i.included,d=i.includedStart,p=i.includedEnd,f="".concat(t,"-dot"),h=u&&d<=n&&n<=p,m=(0,Zt.A)((0,Zt.A)({},mn(c,n,s,l)),"function"==typeof a?a(n):a);return h&&(m=(0,Zt.A)((0,Zt.A)({},m),"function"==typeof o?o(n):o)),r.createElement("span",{className:an()(f,(0,Jt.A)({},"".concat(f,"-active"),h)),style:m})},Dn=function(e){var t=e.prefixCls,n=e.marks,a=e.dots,o=e.style,i=e.activeStyle,s=r.useContext(vn),l=s.min,c=s.max,u=s.step,d=r.useMemo(function(){var e=new Set;if(n.forEach(function(t){e.add(t.value)}),a&&null!==u)for(var t=l;t<=c;)e.add(t),t+=u;return Array.from(e)},[l,c,u,a,n]);return r.createElement("div",{className:"".concat(t,"-step")},d.map(function(e){return r.createElement(xn,{prefixCls:t,key:e,value:e,style:o,activeStyle:i})}))},Pn=function(e){var t=e.prefixCls,n=e.style,a=e.start,o=e.end,i=e.index,s=e.onStartMove,l=e.replaceCls,c=r.useContext(vn),u=c.direction,d=c.min,p=c.max,f=c.disabled,h=c.range,m=c.classNames,g="".concat(t,"-track"),b=hn(a,d,p),v=hn(o,d,p),y=function(e){!f&&s&&s(e,-1)},w={};switch(u){case"rtl":w.right="".concat(100*b,"%"),w.width="".concat(100*v-100*b,"%");break;case"btt":w.bottom="".concat(100*b,"%"),w.height="".concat(100*v-100*b,"%");break;case"ttb":w.top="".concat(100*b,"%"),w.height="".concat(100*v-100*b,"%");break;default:w.left="".concat(100*b,"%"),w.width="".concat(100*v-100*b,"%")}var E=l||an()(g,(0,Jt.A)((0,Jt.A)({},"".concat(g,"-").concat(i+1),null!==i&&h),"".concat(t,"-track-draggable"),s),m.track);return r.createElement("div",{className:E,style:(0,Zt.A)((0,Zt.A)({},w),n),onMouseDown:y,onTouchStart:y})},In=function(e){var t=e.prefixCls,n=e.style,a=e.values,o=e.startPoint,i=e.onStartMove,s=r.useContext(vn),l=s.included,c=s.range,u=s.min,d=s.styles,p=s.classNames,f=r.useMemo(function(){if(!c){if(0===a.length)return[];var e=null!=o?o:u,t=a[0];return[{start:Math.min(e,t),end:Math.max(e,t)}]}for(var n=[],r=0;r<a.length-1;r+=1)n.push({start:a[r],end:a[r+1]});return n},[a,c,o,u]);if(!l)return null;var h=null!=f&&f.length&&(p.tracks||d.tracks)?r.createElement(Pn,{index:null,prefixCls:t,start:f[0].start,end:f[f.length-1].end,replaceCls:an()(p.tracks,"".concat(t,"-tracks")),style:d.tracks}):null;return r.createElement(r.Fragment,null,h,f.map(function(e,a){var o=e.start,s=e.end;return r.createElement(Pn,{index:a,prefixCls:t,style:(0,Zt.A)((0,Zt.A)({},gn(n,a)),d.track),start:o,end:s,key:a,onStartMove:i})}))};var Rn=g(697);function Tn(e){var t="targetTouches"in e?e.targetTouches[0]:e;return{pageX:t.pageX,pageY:t.pageY}}var kn=r.forwardRef(function(e,t){var n=e.prefixCls,a=void 0===n?"rc-slider":n,o=e.className,i=e.style,s=e.classNames,l=e.styles,c=e.id,u=e.disabled,d=void 0!==u&&u,p=e.keyboard,f=void 0===p||p,h=e.autoFocus,m=e.onFocus,g=e.onBlur,b=e.min,v=void 0===b?0:b,y=e.max,w=void 0===y?100:y,E=e.step,S=void 0===E?1:E,O=e.value,C=e.defaultValue,A=e.range,x=e.count,D=e.onChange,P=e.onBeforeChange,I=e.onAfterChange,R=e.onChangeComplete,T=e.allowCross,k=void 0===T||T,_=e.pushable,L=void 0!==_&&_,M=e.reverse,B=e.vertical,j=e.included,N=void 0===j||j,V=e.startPoint,F=e.trackStyle,$=e.handleStyle,U=e.railStyle,z=e.dotStyle,W=e.activeDotStyle,H=e.marks,G=e.dots,q=e.handleRender,Q=e.activeHandleRender,Y=e.track,K=e.tabIndex,X=void 0===K?0:K,Z=e.ariaLabelForHandle,J=e.ariaLabelledByForHandle,ee=e.ariaRequired,te=e.ariaValueTextFormatterForHandle,ne=r.useRef(null),re=r.useRef(null),ae=r.useMemo(function(){return B?M?"ttb":"btt":M?"rtl":"ltr"},[M,B]),oe=function(e){return(0,r.useMemo)(function(){if(!0===e||!e)return[!!e,!1,!1,0];var t=e.editable,n=e.draggableTrack;return[!0,t,!t&&n,e.minCount||0,e.maxCount]},[e])}(A),ie=(0,nn.A)(oe,5),se=ie[0],le=ie[1],ce=ie[2],ue=ie[3],de=ie[4],pe=r.useMemo(function(){return isFinite(v)?v:0},[v]),fe=r.useMemo(function(){return isFinite(w)?w:100},[w]),he=r.useMemo(function(){return null!==S&&S<=0?1:S},[S]),me=r.useMemo(function(){return"boolean"==typeof L?!!L&&he:L>=0&&L},[L,he]),ge=r.useMemo(function(){return Object.keys(H||{}).map(function(e){var t=H[e],n={value:Number(e)};return t&&"object"===(0,tn.A)(t)&&!r.isValidElement(t)&&("label"in t||"style"in t)?(n.style=t.style,n.label=t.label):n.label=t,n}).filter(function(e){var t=e.label;return t||"number"==typeof t}).sort(function(e,t){return e.value-t.value})},[H]),be=function(e,t,n,a,o,i){var s=r.useCallback(function(n){return Math.max(e,Math.min(t,n))},[e,t]),l=r.useCallback(function(r){if(null!==n){var a=e+Math.round((s(r)-e)/n)*n,o=function(e){return(String(e).split(".")[1]||"").length},i=Math.max(o(n),o(t),o(e)),l=Number(a.toFixed(i));return e<=l&&l<=t?l:null}return null},[n,e,t,s]),c=r.useCallback(function(r){var o=s(r),i=a.map(function(e){return e.value});null!==n&&i.push(l(r)),i.push(e,t);var c=i[0],u=t-e;return i.forEach(function(e){var t=Math.abs(o-e);t<=u&&(c=e,u=t)}),c},[e,t,a,n,s,l]),u=function r(o,i,s){var c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"unit";if("number"==typeof i){var u,d=o[s],p=d+i,f=[];a.forEach(function(e){f.push(e.value)}),f.push(e,t),f.push(l(d));var h=i>0?1:-1;"unit"===c?f.push(l(d+h*n)):f.push(l(p)),f=f.filter(function(e){return null!==e}).filter(function(e){return i<0?e<=d:e>=d}),"unit"===c&&(f=f.filter(function(e){return e!==d}));var m="unit"===c?d:p;u=f[0];var g=Math.abs(u-m);if(f.forEach(function(e){var t=Math.abs(e-m);t<g&&(u=e,g=t)}),void 0===u)return i<0?e:t;if("dist"===c)return u;if(Math.abs(i)>1){var b=(0,en.A)(o);return b[s]=u,r(b,i-h,s,c)}return u}return"min"===i?e:"max"===i?t:void 0},d=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"unit",a=e[n],o=u(e,t,n,r);return{value:o,changed:o!==a}},p=function(e){return null===i&&0===e||"number"==typeof i&&e<i};return[c,function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"unit",a=e.map(c),s=a[n],l=u(a,t,n,r);if(a[n]=l,!1===o){var f=i||0;n>0&&a[n-1]!==s&&(a[n]=Math.max(a[n],a[n-1]+f)),n<a.length-1&&a[n+1]!==s&&(a[n]=Math.min(a[n],a[n+1]-f))}else if("number"==typeof i||null===i){for(var h=n+1;h<a.length;h+=1)for(var m=!0;p(a[h]-a[h-1])&&m;){var g=d(a,1,h);a[h]=g.value,m=g.changed}for(var b=n;b>0;b-=1)for(var v=!0;p(a[b]-a[b-1])&&v;){var y=d(a,-1,b-1);a[b-1]=y.value,v=y.changed}for(var w=a.length-1;w>0;w-=1)for(var E=!0;p(a[w]-a[w-1])&&E;){var S=d(a,-1,w-1);a[w-1]=S.value,E=S.changed}for(var O=0;O<a.length-1;O+=1)for(var C=!0;p(a[O+1]-a[O])&&C;){var A=d(a,1,O+1);a[O+1]=A.value,C=A.changed}}return{value:a[n],values:a}}]}(pe,fe,he,ge,k,me),ve=(0,nn.A)(be,2),ye=ve[0],we=ve[1],Ee=(0,sn.A)(C,{value:O}),Se=(0,nn.A)(Ee,2),Oe=Se[0],Ce=Se[1],Ae=r.useMemo(function(){var e=null==Oe?[]:Array.isArray(Oe)?Oe:[Oe],t=(0,nn.A)(e,1)[0],n=null===Oe?[]:[void 0===t?pe:t];if(se){if(n=(0,en.A)(e),x||void 0===Oe){var r=x>=0?x+1:2;for(n=n.slice(0,r);n.length<r;){var a;n.push(null!==(a=n[n.length-1])&&void 0!==a?a:pe)}}n.sort(function(e,t){return e-t})}return n.forEach(function(e,t){n[t]=ye(e)}),n},[Oe,se,pe,x,ye]),xe=function(e){return se?e:e[0]},De=(0,on.A)(function(e){var t=(0,en.A)(e).sort(function(e,t){return e-t});D&&!(0,ln.A)(t,Ae,!0)&&D(xe(t)),Ce(t)}),Pe=(0,on.A)(function(e){e&&ne.current.hideHelp();var t=xe(Ae);null==I||I(t),(0,cn.Ay)(!I,"[rc-slider] `onAfterChange` is deprecated. Please use `onChangeComplete` instead."),null==R||R(t)}),Ie=function(e,t,n,a,o,i,s,l,c,u,d){var p=r.useState(null),f=(0,nn.A)(p,2),h=f[0],m=f[1],g=r.useState(-1),b=(0,nn.A)(g,2),v=b[0],y=b[1],w=r.useState(!1),E=(0,nn.A)(w,2),S=E[0],O=E[1],C=r.useState(n),A=(0,nn.A)(C,2),x=A[0],D=A[1],P=r.useState(n),I=(0,nn.A)(P,2),R=I[0],T=I[1],k=r.useRef(null),_=r.useRef(null),L=r.useRef(null),M=r.useContext(yn),B=M.onDragStart,j=M.onDragChange;(0,Rn.A)(function(){-1===v&&D(n)},[n,v]),r.useEffect(function(){return function(){document.removeEventListener("mousemove",k.current),document.removeEventListener("mouseup",_.current),L.current&&(L.current.removeEventListener("touchmove",k.current),L.current.removeEventListener("touchend",_.current))}},[]);var N=function(e,t,n){void 0!==t&&m(t),D(e);var r=e;n&&(r=e.filter(function(e,t){return t!==v})),s(r),j&&j({rawValues:e,deleteIndex:n?v:-1,draggingIndex:v,draggingValue:t})},V=(0,on.A)(function(e,t,n){if(-1===e){var r=R[0],s=R[R.length-1],l=a-r,u=o-s,d=t*(o-a);d=Math.max(d,l),d=Math.min(d,u);var p=i(r+d);d=p-r;var f=R.map(function(e){return e+d});N(f)}else{var h=(o-a)*t,m=(0,en.A)(x);m[e]=R[e];var g=c(m,h,e,"dist");N(g.values,g.value,n)}}),F=r.useMemo(function(){var e=(0,en.A)(n).sort(function(e,t){return e-t}),t=(0,en.A)(x).sort(function(e,t){return e-t}),r={};t.forEach(function(e){r[e]=(r[e]||0)+1}),e.forEach(function(e){r[e]=(r[e]||0)-1});var a=u?1:0;return Object.values(r).reduce(function(e,t){return e+Math.abs(t)},0)<=a?x:n},[n,x,u]);return[v,h,S,F,function(r,a,o){r.stopPropagation();var i=o||n,s=i[a];y(a),m(s),T(i),D(i),O(!1);var c=Tn(r),p=c.pageX,f=c.pageY,h=!1;B&&B({rawValues:i,draggingIndex:a,draggingValue:s});var g=function(n){n.preventDefault();var r,o,i=Tn(n),s=i.pageX,l=i.pageY,c=s-p,m=l-f,g=e.current.getBoundingClientRect(),b=g.width,v=g.height;switch(t){case"btt":r=-m/v,o=c;break;case"ttb":r=m/v,o=c;break;case"rtl":r=-c/b,o=m;break;default:r=c/b,o=m}h=!!u&&Math.abs(o)>130&&d<x.length,O(h),V(a,r,h)},b=function e(t){t.preventDefault(),document.removeEventListener("mouseup",e),document.removeEventListener("mousemove",g),L.current&&(L.current.removeEventListener("touchmove",k.current),L.current.removeEventListener("touchend",_.current)),k.current=null,_.current=null,L.current=null,l(h),y(-1),O(!1)};document.addEventListener("mouseup",b),document.addEventListener("mousemove",g),r.currentTarget.addEventListener("touchend",b),r.currentTarget.addEventListener("touchmove",g),k.current=g,_.current=b,L.current=r.currentTarget}]}(re,ae,Ae,pe,fe,ye,De,Pe,we,le,ue),Re=(0,nn.A)(Ie,5),Te=Re[0],ke=Re[1],_e=Re[2],Le=Re[3],Me=Re[4],Be=function(e,t){if(!d){var n=(0,en.A)(Ae),r=0,a=0,o=fe-pe;Ae.forEach(function(t,n){var i=Math.abs(e-t);i<=o&&(o=i,r=n),t<e&&(a=n)});var i=r;le&&0!==o&&(!de||Ae.length<de)?(n.splice(a+1,0,e),i=a+1):n[r]=e,se&&!Ae.length&&void 0===x&&n.push(e);var s,l,c=xe(n);null==P||P(c),De(n),t?(null===(s=document.activeElement)||void 0===s||null===(l=s.blur)||void 0===l||l.call(s),ne.current.focus(i),Me(t,i,n)):(null==I||I(c),(0,cn.Ay)(!I,"[rc-slider] `onAfterChange` is deprecated. Please use `onChangeComplete` instead."),null==R||R(c))}},je=r.useState(null),Ne=(0,nn.A)(je,2),Ve=Ne[0],Fe=Ne[1];r.useEffect(function(){if(null!==Ve){var e=Ae.indexOf(Ve);e>=0&&ne.current.focus(e)}Fe(null)},[Ve]);var $e=r.useMemo(function(){return(!ce||null!==he)&&ce},[ce,he]),Ue=(0,on.A)(function(e,t){Me(e,t),null==P||P(xe(Ae))}),ze=-1!==Te;r.useEffect(function(){if(!ze){var e=Ae.lastIndexOf(ke);ne.current.focus(e)}},[ze]);var We=r.useMemo(function(){return(0,en.A)(Le).sort(function(e,t){return e-t})},[Le]),He=r.useMemo(function(){return se?[We[0],We[We.length-1]]:[pe,We[0]]},[We,se,pe]),Ge=(0,nn.A)(He,2),qe=Ge[0],Qe=Ge[1];r.useImperativeHandle(t,function(){return{focus:function(){ne.current.focus(0)},blur:function(){var e,t=document.activeElement;null!==(e=re.current)&&void 0!==e&&e.contains(t)&&(null==t||t.blur())}}}),r.useEffect(function(){h&&ne.current.focus(0)},[]);var Ye=r.useMemo(function(){return{min:pe,max:fe,direction:ae,disabled:d,keyboard:f,step:he,included:N,includedStart:qe,includedEnd:Qe,range:se,tabIndex:X,ariaLabelForHandle:Z,ariaLabelledByForHandle:J,ariaRequired:ee,ariaValueTextFormatterForHandle:te,styles:l||{},classNames:s||{}}},[pe,fe,ae,d,f,he,N,qe,Qe,se,X,Z,J,ee,te,l,s]);return r.createElement(vn.Provider,{value:Ye},r.createElement("div",{ref:re,className:an()(a,o,(0,Jt.A)((0,Jt.A)((0,Jt.A)((0,Jt.A)({},"".concat(a,"-disabled"),d),"".concat(a,"-vertical"),B),"".concat(a,"-horizontal"),!B),"".concat(a,"-with-marks"),ge.length)),style:i,onMouseDown:function(e){e.preventDefault();var t,n=re.current.getBoundingClientRect(),r=n.width,a=n.height,o=n.left,i=n.top,s=n.bottom,l=n.right,c=e.clientX,u=e.clientY;switch(ae){case"btt":t=(s-u)/a;break;case"ttb":t=(u-i)/a;break;case"rtl":t=(l-c)/r;break;default:t=(c-o)/r}Be(ye(pe+t*(fe-pe)),e)},id:c},r.createElement("div",{className:an()("".concat(a,"-rail"),null==s?void 0:s.rail),style:(0,Zt.A)((0,Zt.A)({},U),null==l?void 0:l.rail)}),!1!==Y&&r.createElement(In,{prefixCls:a,style:F,values:Ae,startPoint:V,onStartMove:$e?Ue:void 0}),r.createElement(Dn,{prefixCls:a,marks:ge,dots:G,style:z,activeStyle:W}),r.createElement(On,{ref:ne,prefixCls:a,style:$,values:Le,draggingIndex:Te,draggingDelete:_e,onStartMove:Ue,onOffsetChange:function(e,t){if(!d){var n=we(Ae,e,t);null==P||P(xe(Ae)),De(n.values),Fe(n.value)}},onFocus:m,onBlur:g,handleRender:q,activeHandleRender:Q,onChangeComplete:Pe,onDelete:le?function(e){if(!(d||!le||Ae.length<=ue)){var t=(0,en.A)(Ae);t.splice(e,1),null==P||P(xe(t)),De(t);var n=Math.max(0,e-1);ne.current.hideHelp(),ne.current.focus(n)}}:void 0}),r.createElement(An,{prefixCls:a,marks:ge,onClick:Be})))});const _n=kn,Ln=e=>({slider:Fe.css`
      .rc-slider {
        margin: 10px 0 0 0;
      }
      .rc-slider-mark-text {
        color: ${e.colors.text.disabled};
        font-size: ${e.typography.bodySmall.fontSize};
      }
      .rc-slider-mark-text-active {
        color: ${e.colors.text.primary};
      }
      .rc-slider-handle {
        border: none;
        background-color: ${e.colors.primary.main};
        box-shadow: ${e.shadows.z1};
        cursor: pointer;
      }
      .rc-slider-handle:hover,
      .rc-slider-handle:active,
      .rc-slider-handle:focus,
      .rc-slider-handle-click-focused:focus,
      .rc-slider-dot-active {
        ${`box-shadow: 0px 0px 0px 6px ${e.colors.primary.transparent}`};
      }
      .rc-slider-track {
        background-color: ${e.colors.primary.main};
      }
      .rc-slider-rail {
        background-color: ${e.colors.border.strong};
        cursor: pointer;
      }
    `,sliderInput:Fe.css`
      margin-left: 15px;
    `});function Mn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Bn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Mn(e,t,n[t])})}return e}function jn(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t.push.apply(t,n)}return t}(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}const Nn=({element:e,onChange:n})=>{const r=(0,t.useStyles2)(Ln);return a().createElement(a().Fragment,null,a().createElement(t.InlineField,{label:e.title,grow:!e.width,labelWidth:tt(e.labelWidth),tooltip:e.tooltip,transparent:!e.title,className:(0,Fe.cx)(r.slider,pt(e.labelBackground,e.labelColor)),disabled:e.disabled},a().createElement(_n,{value:e.value||0,onChange:t=>{n(jn(Bn({},e),{value:Array.isArray(t)?t[t.length-1]:t}))},min:e.min||0,max:e.max||0,step:e.step||0,ariaLabelForHandle:z.formElements.fieldSlider})),a().createElement(t.InlineField,{className:(0,Fe.cx)(r.sliderInput),disabled:e.disabled},a().createElement(t.Input,{type:"number",width:8,min:e.min||0,max:e.max||0,value:e.value||0,onChange:t=>{n(jn(Bn({},e),{value:Math.max(e.min||0,Math.min(e.max||0,Number(t.currentTarget.value)))}))},"data-testid":z.formElements.fieldSliderInput})))},Vn=()=>({hidden:Fe.css`
      display: none;
    `});function Fn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const $n=({element:e,onChange:n,highlightClass:r})=>{const o=(0,t.useStyles2)(Vn);return a().createElement(t.InlineField,{label:e.title,grow:!e.width,labelWidth:tt(e.labelWidth),tooltip:e.tooltip,transparent:!e.title,className:(0,Fe.cx)({[o.hidden]:e.hidden},pt(e.labelBackground,e.labelColor)),disabled:e.disabled},a().createElement(t.Input,{value:e.value||"",onChange:t=>{var r,a;n((r=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Fn(e,t,n[t])})}return e}({},e),a=null!=(a={value:t.target.value})?a:{},Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(a)):function(e){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t.push.apply(t,n)}return t}(Object(a)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(a,e))}),r))},className:r(e),width:tt(e.width),type:"text","data-testid":z.formElements.fieldString}))};function Un(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const zn=({element:e,onChange:n,highlightClass:r})=>{var o;return a().createElement(t.InlineField,{label:e.title,grow:!e.width,labelWidth:tt(e.labelWidth),tooltip:e.tooltip,transparent:!e.title,disabled:e.disabled,className:pt(e.labelBackground,e.labelColor)},a().createElement(t.TextArea,{value:null===(o=e.value)||void 0===o?void 0:o.replaceAll("\\n","\n"),onChange:t=>{var r,a;n((r=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Un(e,t,n[t])})}return e}({},e),a=null!=(a={value:e.isEscaping?t.target.value.replaceAll("\n","\\n"):t.target.value})?a:{},Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(a)):function(e){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t.push.apply(t,n)}return t}(Object(a)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(a,e))}),r))},className:r(e),cols:tt(e.width),rows:e.rows,"data-testid":z.formElements.fieldTextarea}))};function Wn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Hn=({element:n,onChange:o,timeZone:i})=>{const s=(0,r.useCallback)(t=>(0,e.dateTimeForTimeZone)((0,e.getTimeZone)({timeZone:i}),t),[i]);return a().createElement(t.InlineField,{label:n.title,grow:!n.width,labelWidth:tt(n.labelWidth),tooltip:n.tooltip,transparent:!n.title,disabled:n.disabled},a().createElement(t.TimeOfDayPicker,{"data-testid":z.formElements.fieldTime,value:n.value?s(n.value):s((new Date).toISOString()),onChange:e=>{var t,r;o((t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Wn(e,t,n[t])})}return e}({},n),r=null!=(r={value:e.toISOString()})?r:{},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):function(e){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t.push.apply(t,n)}return t}(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}),t))}}))};function Gn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const qn=({elements:e,initial:t,replaceVariables:n,data:o,executeCustomCode:i})=>{const s=(0,r.useMemo)(()=>e.filter(t=>t.helpers.showIf({elements:e})).map(t=>{return n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Gn(e,t,n[t])})}return e}({},t),r=null!=(r={disabled:t.helpers.disableIf({elements:e}),options:t.helpers.getOptions({elements:e,data:o})})?r:{},Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):function(e){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t.push.apply(t,n)}return t}(Object(r)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(r,e))}),n;var n,r}),[o,e]);return a().createElement(a().Fragment,null,!!s.length&&s.map(r=>r.type===p.BUTTON&&r.show===l.BOTTOM?a().createElement(Tt,{key:r.id,element:r,executeCustomCode:i,initial:t,elements:e,replaceVariables:n}):null))};var Qn=g(8531);const Yn=({value:e,item:o,onChange:i})=>{var s;const l=(null===(s=o.settings)||void 0===s?void 0:s.language)||c.JAVASCRIPT,u=(0,Qn.getTemplateSrv)(),d=(0,r.useCallback)(()=>{var e,n;const r=(null===(e=o.settings)||void 0===e?void 0:e.variablesSuggestions)?u.getVariables().map(e=>({label:`\${${e.name}}`,kind:t.CodeEditorSuggestionItemKind.Property,detail:e.description?e.description:e.label})):[];return(null===(n=o.settings)||void 0===n?void 0:n.type)?R[o.settings.type].concat(r):r},[o.settings,u]);return a().createElement("div",{"data-testid":z.customCodeEditor.root},a().createElement(n.v4,{language:l,showLineNumbers:!0,showMiniMap:!!e&&e.length>100,value:e,onBlur:i,onSave:i,monacoOptions:{formatOnPaste:!0,formatOnType:!0,scrollBeyondLastLine:!1},onEditorDidMount:e=>{setTimeout(()=>{e.getAction("editor.action.formatDocument").run()},100)},getSuggestions:d}))};var Kn=g(3241);const Xn=({context:e,value:t,onChange:o,item:i})=>{var s;const l=(0,Qn.getTemplateSrv)(),c=(0,r.useMemo)(()=>{var t;return l.replace((0,Kn.get)(e.options,(null===(t=i.settings)||void 0===t?void 0:t.datasourceKey)||""))},[e.options,null===(s=i.settings)||void 0===s?void 0:s.datasourceKey,l]);return a().createElement(n.lp,{value:t,onChange:e=>{o(e)},datasourceUid:c})};const Zn=n=>{var{value:r,onChange:o,label:i}=n,s=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(n,["value","onChange","label"]);return a().createElement(t.InlineFieldRow,s,r?a().createElement(a().Fragment,null,a().createElement(t.InlineField,{label:i,labelWidth:8},a().createElement(t.DateTimePicker,{onChange:e=>{e&&o(e.toISOString())},date:(0,e.dateTime)(r),"data-testid":z.formElementsEditor.fieldDateTime})),a().createElement(t.Button,{icon:"minus",onClick:()=>{o("")},variant:"secondary","data-testid":z.formElementsEditor.buttonRemoveDate})):a().createElement(t.InlineField,{label:i,labelWidth:8},a().createElement(t.Button,{icon:"plus",onClick:()=>{o((new Date).toISOString())},variant:"secondary","data-testid":z.formElementsEditor.buttonSetDate},"Set ",i," Date")))};var Jn=g(7694),er=g(200),tr=function(e){var t=e.top,n=e.right,r=e.bottom,a=e.left;return{top:t,right:n,bottom:r,left:a,width:n-a,height:r-t,x:a,y:t,center:{x:(n+a)/2,y:(r+t)/2}}},nr=function(e,t){return{top:e.top-t.top,left:e.left-t.left,bottom:e.bottom+t.bottom,right:e.right+t.right}},rr=function(e,t){return{top:e.top+t.top,left:e.left+t.left,bottom:e.bottom-t.bottom,right:e.right-t.right}},ar={top:0,right:0,bottom:0,left:0},or=function(e){var t=e.borderBox,n=e.margin,r=void 0===n?ar:n,a=e.border,o=void 0===a?ar:a,i=e.padding,s=void 0===i?ar:i,l=tr(nr(t,r)),c=tr(rr(t,o)),u=tr(rr(c,s));return{marginBox:l,borderBox:tr(t),paddingBox:c,contentBox:u,margin:r,border:o,padding:s}},ir=function(e){var t=e.slice(0,-2);if("px"!==e.slice(-2))return 0;var n=Number(t);return isNaN(n)&&function(){throw new Error("Invariant failed")}(),n},sr=function(e,t){var n,r,a=e.borderBox,o=e.border,i=e.margin,s=e.padding,l=(r=t,{top:(n=a).top+r.y,left:n.left+r.x,bottom:n.bottom+r.y,right:n.right+r.x});return or({borderBox:l,border:o,margin:i,padding:s})},lr=function(e,t){return void 0===t&&(t={x:window.pageXOffset,y:window.pageYOffset}),sr(e,t)},cr=function(e,t){var n={top:ir(t.marginTop),right:ir(t.marginRight),bottom:ir(t.marginBottom),left:ir(t.marginLeft)},r={top:ir(t.paddingTop),right:ir(t.paddingRight),bottom:ir(t.paddingBottom),left:ir(t.paddingLeft)},a={top:ir(t.borderTopWidth),right:ir(t.borderRightWidth),bottom:ir(t.borderBottomWidth),left:ir(t.borderLeftWidth)};return or({borderBox:e,margin:n,padding:r,border:a})},ur=function(e){var t=e.getBoundingClientRect(),n=window.getComputedStyle(e);return cr(t,n)};const dr=function(e){var t=[],n=null,r=function(){for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];t=a,n||(n=requestAnimationFrame(function(){n=null,e.apply(void 0,t)}))};return r.cancel=function(){n&&(cancelAnimationFrame(n),n=null)},r};function pr(e,t){}function fr(){}function hr(e,t,n){const r=t.map(t=>{const r=(a=n,o=t.options,{...a,...o});var a,o;return e.addEventListener(t.eventName,t.fn,r),function(){e.removeEventListener(t.eventName,t.fn,r)}});return function(){r.forEach(e=>{e()})}}pr.bind(null,"warn"),pr.bind(null,"error");class mr extends Error{}function gr(e,t){throw new mr("Invariant failed")}mr.prototype.toString=function(){return this.message};class br extends a().Component{constructor(...e){super(...e),this.callbacks=null,this.unbind=fr,this.onWindowError=e=>{const t=this.getCallbacks();t.isDragging()&&t.tryAbort(),e.error instanceof mr&&e.preventDefault()},this.getCallbacks=()=>{if(!this.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return this.callbacks},this.setCallbacks=e=>{this.callbacks=e}}componentDidMount(){this.unbind=hr(window,[{eventName:"error",fn:this.onWindowError}])}componentDidCatch(e){if(!(e instanceof mr))throw e;this.setState({})}componentWillUnmount(){this.unbind()}render(){return this.props.children(this.setCallbacks)}}const vr=e=>e+1,yr=(e,t)=>{const n=e.droppableId===t.droppableId,r=vr(e.index),a=vr(t.index);return n?`\n      You have moved the item from position ${r}\n      to position ${a}\n    `:`\n    You have moved the item from position ${r}\n    in list ${e.droppableId}\n    to list ${t.droppableId}\n    in position ${a}\n  `},wr=(e,t,n)=>t.droppableId===n.droppableId?`\n      The item ${e}\n      has been combined with ${n.draggableId}`:`\n      The item ${e}\n      in list ${t.droppableId}\n      has been combined with ${n.draggableId}\n      in list ${n.droppableId}\n    `,Er=e=>`\n  The item has returned to its starting position\n  of ${vr(e.index)}\n`,Sr="\n  Press space bar to start a drag.\n  When dragging you can use the arrow keys to move the item around and escape to cancel.\n  Some screen readers may require you to be in focus mode or to use your pass through key\n",Or=e=>`\n  You have lifted an item in position ${vr(e.source.index)}\n`,Cr=e=>{const t=e.destination;if(t)return yr(e.source,t);const n=e.combine;return n?wr(e.draggableId,e.source,n):"You are over an area that cannot be dropped on"},Ar=e=>{if("CANCEL"===e.reason)return`\n      Movement cancelled.\n      ${Er(e.source)}\n    `;const t=e.destination,n=e.combine;return t?`\n      You have dropped the item.\n      ${yr(e.source,t)}\n    `:n?`\n      You have dropped the item.\n      ${wr(e.draggableId,e.source,n)}\n    `:`\n    The item has been dropped while not over a drop area.\n    ${Er(e.source)}\n  `};function xr(e,t){return e===t||!(!Number.isNaN(e)||!Number.isNaN(t))}function Dr(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(!xr(e[n],t[n]))return!1;return!0}function Pr(e,t){const n=(0,r.useState)(()=>({inputs:t,result:e()}))[0],a=(0,r.useRef)(!0),o=(0,r.useRef)(n),i=a.current||Boolean(t&&o.current.inputs&&Dr(t,o.current.inputs))?o.current:{inputs:t,result:e()};return(0,r.useEffect)(()=>{a.current=!1,o.current=i},[i]),i.result}function Ir(e,t){return Pr(()=>e,t)}const Rr={x:0,y:0},Tr=(e,t)=>({x:e.x+t.x,y:e.y+t.y}),kr=(e,t)=>({x:e.x-t.x,y:e.y-t.y}),_r=(e,t)=>e.x===t.x&&e.y===t.y,Lr=e=>({x:0!==e.x?-e.x:0,y:0!==e.y?-e.y:0}),Mr=(e,t,n=0)=>"x"===e?{x:t,y:n}:{x:n,y:t},Br=(e,t)=>Math.sqrt((t.x-e.x)**2+(t.y-e.y)**2),jr=(e,t)=>Math.min(...t.map(t=>Br(e,t))),Nr=e=>t=>({x:e(t.x),y:e(t.y)}),Vr=(e,t)=>({top:e.top+t.y,left:e.left+t.x,bottom:e.bottom+t.y,right:e.right+t.x}),Fr=e=>[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}],$r=(e,t)=>t&&t.shouldClipSubject?((e,t)=>{const n=tr({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return n.width<=0||n.height<=0?null:n})(t.pageMarginBox,e):tr(e);var Ur=({page:e,withPlaceholder:t,axis:n,frame:r})=>{const a=((e,t)=>t?Vr(e,t.scroll.diff.displacement):e)(e.marginBox,r),o=((e,t,n)=>n&&n.increasedBy?{...e,[t.end]:e[t.end]+n.increasedBy[t.line]}:e)(a,n,t);return{page:e,withPlaceholder:t,active:$r(o,r)}},zr=(e,t)=>{e.frame||gr();const n=e.frame,r=kr(t,n.scroll.initial),a=Lr(r),o={...n,scroll:{initial:n.scroll.initial,current:t,diff:{value:r,displacement:a},max:n.scroll.max}},i=Ur({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:o});return{...e,frame:o,subject:i}};function Wr(e,t=Dr){let n=null;function r(...r){if(n&&n.lastThis===this&&t(r,n.lastArgs))return n.lastResult;const a=e.apply(this,r);return n={lastResult:a,lastArgs:r,lastThis:this},a}return r.clear=function(){n=null},r}const Hr=Wr(e=>e.reduce((e,t)=>(e[t.descriptor.id]=t,e),{})),Gr=Wr(e=>e.reduce((e,t)=>(e[t.descriptor.id]=t,e),{})),qr=Wr(e=>Object.values(e)),Qr=Wr(e=>Object.values(e));var Yr=Wr((e,t)=>{const n=Qr(t).filter(t=>e===t.descriptor.droppableId).sort((e,t)=>e.descriptor.index-t.descriptor.index);return n});function Kr(e){return e.at&&"REORDER"===e.at.type?e.at.destination:null}function Xr(e){return e.at&&"COMBINE"===e.at.type?e.at.combine:null}var Zr=Wr((e,t)=>t.filter(t=>t.descriptor.id!==e.descriptor.id)),Jr=(e,t)=>e.descriptor.droppableId===t.descriptor.id;const ea={point:Rr,value:0},ta={invisible:{},visible:{},all:[]},na={displaced:ta,displacedBy:ea,at:null};var ra=(e,t)=>n=>e<=n&&n<=t,aa=e=>{const t=ra(e.top,e.bottom),n=ra(e.left,e.right);return r=>{if(t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right))return!0;const a=t(r.top)||t(r.bottom),o=n(r.left)||n(r.right);if(a&&o)return!0;const i=r.top<e.top&&r.bottom>e.bottom,s=r.left<e.left&&r.right>e.right;return!(!i||!s)||(i&&o||s&&a)}},oa=e=>{const t=ra(e.top,e.bottom),n=ra(e.left,e.right);return e=>t(e.top)&&t(e.bottom)&&n(e.left)&&n(e.right)};const ia={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},sa={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"},la=({target:e,destination:t,viewport:n,withDroppableDisplacement:r,isVisibleThroughFrameFn:a})=>{const o=r?((e,t)=>{const n=t.frame?t.frame.scroll.diff.displacement:Rr;return Vr(e,n)})(e,t):e;return((e,t,n)=>!!t.subject.active&&n(t.subject.active)(e))(o,t,a)&&((e,t,n)=>n(t)(e))(o,n,a)},ca=e=>la({...e,isVisibleThroughFrameFn:oa});function ua({afterDragging:e,destination:t,displacedBy:n,viewport:r,forceShouldAnimate:a,last:o}){return e.reduce(function(e,i){const s=function(e,t){const n=e.page.marginBox,r={top:t.point.y,right:0,bottom:0,left:t.point.x};return tr(nr(n,r))}(i,n),l=i.descriptor.id;var c;if(e.all.push(l),c={target:s,destination:t,viewport:r,withDroppableDisplacement:!0},!la({...c,isVisibleThroughFrameFn:aa}))return e.invisible[i.descriptor.id]=!0,e;const u=((e,t,n)=>{if("boolean"==typeof n)return n;if(!t)return!0;const{invisible:r,visible:a}=t;if(r[e])return!1;const o=a[e];return!o||o.shouldAnimate})(l,o,a),d={draggableId:l,shouldAnimate:u};return e.visible[l]=d,e},{all:[],visible:{},invisible:{}})}function da({insideDestination:e,inHomeList:t,displacedBy:n,destination:r}){const a=function(e,t){if(!e.length)return 0;const n=e[e.length-1].descriptor.index;return t.inHomeList?n:n+1}(e,{inHomeList:t});return{displaced:ta,displacedBy:n,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:a}}}}function pa({draggable:e,insideDestination:t,destination:n,viewport:r,displacedBy:a,last:o,index:i,forceShouldAnimate:s}){const l=Jr(e,n);if(null==i)return da({insideDestination:t,inHomeList:l,displacedBy:a,destination:n});const c=t.find(e=>e.descriptor.index===i);if(!c)return da({insideDestination:t,inHomeList:l,displacedBy:a,destination:n});const u=Zr(e,t),d=t.indexOf(c);return{displaced:ua({afterDragging:u.slice(d),destination:n,displacedBy:a,last:o,viewport:r.frame,forceShouldAnimate:s}),displacedBy:a,at:{type:"REORDER",destination:{droppableId:n.descriptor.id,index:i}}}}function fa(e,t){return Boolean(t.effected[e])}const ha=(e,t)=>t.margin[e.start]+t.borderBox[e.size]/2,ma=(e,t,n)=>t[e.crossAxisStart]+n.margin[e.crossAxisStart]+n.borderBox[e.crossAxisSize]/2,ga=({axis:e,moveRelativeTo:t,isMoving:n})=>Mr(e.line,t.marginBox[e.end]+ha(e,n),ma(e,t.marginBox,n)),ba=({axis:e,moveRelativeTo:t,isMoving:n})=>Mr(e.line,t.marginBox[e.start]-((e,t)=>t.margin[e.end]+t.borderBox[e.size]/2)(e,n),ma(e,t.marginBox,n));var va=(e,t)=>{const n=e.frame;return n?Tr(t,n.scroll.diff.displacement):t},ya=e=>{const t=(({impact:e,draggable:t,droppable:n,draggables:r,afterCritical:a})=>{const o=t.page.borderBox.center,i=e.at;return n&&i?"REORDER"===i.type?(({impact:e,draggable:t,draggables:n,droppable:r,afterCritical:a})=>{const o=Yr(r.descriptor.id,n),i=t.page,s=r.axis;if(!o.length)return(({axis:e,moveInto:t,isMoving:n})=>Mr(e.line,t.contentBox[e.start]+ha(e,n),ma(e,t.contentBox,n)))({axis:s,moveInto:r.page,isMoving:i});const{displaced:l,displacedBy:c}=e,u=l.all[0];if(u){const e=n[u];if(fa(u,a))return ba({axis:s,moveRelativeTo:e.page,isMoving:i});const t=sr(e.page,c.point);return ba({axis:s,moveRelativeTo:t,isMoving:i})}const d=o[o.length-1];if(d.descriptor.id===t.descriptor.id)return i.borderBox.center;if(fa(d.descriptor.id,a)){const e=sr(d.page,Lr(a.displacedBy.point));return ga({axis:s,moveRelativeTo:e,isMoving:i})}return ga({axis:s,moveRelativeTo:d.page,isMoving:i})})({impact:e,draggable:t,draggables:r,droppable:n,afterCritical:a}):(({afterCritical:e,impact:t,draggables:n})=>{const r=Xr(t);r||gr();const a=r.draggableId,o=n[a].page.borderBox.center,i=(({displaced:e,afterCritical:t,combineWith:n,displacedBy:r})=>{const a=Boolean(e.visible[n]||e.invisible[n]);return fa(n,t)?a?Rr:Lr(r.point):a?r.point:Rr})({displaced:t.displaced,afterCritical:e,combineWith:a,displacedBy:t.displacedBy});return Tr(o,i)})({impact:e,draggables:r,afterCritical:a}):o})(e),n=e.droppable;return n?va(n,t):t},wa=(e,t)=>{const n=kr(t,e.scroll.initial),r=Lr(n);return{frame:tr({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:n,displacement:r}}}};function Ea(e,t){return e.map(e=>t[e])}var Sa=({pageBorderBoxCenter:e,draggable:t,viewport:n})=>{const r=((e,t)=>Tr(e.scroll.diff.displacement,t))(n,e),a=kr(r,t.page.borderBox.center);return Tr(t.client.borderBox.center,a)},Oa=({draggable:e,destination:t,newPageBorderBoxCenter:n,viewport:r,withDroppableDisplacement:a,onlyOnMainAxis:o=!1})=>{const i=kr(n,e.page.borderBox.center),s={target:Vr(e.page.borderBox,i),destination:t,withDroppableDisplacement:a,viewport:r};return o?(e=>{return la({...e,isVisibleThroughFrameFn:(t=e.destination.axis,e=>{const n=ra(e.top,e.bottom),r=ra(e.left,e.right);return e=>t===ia?n(e.top)&&n(e.bottom):r(e.left)&&r(e.right)})});var t})(s):ca(s)},Ca=({isMovingForward:e,draggable:t,destination:n,draggables:r,previousImpact:a,viewport:o,previousPageBorderBoxCenter:i,previousClientSelection:s,afterCritical:l})=>{if(!n.isEnabled)return null;const c=Yr(n.descriptor.id,r),u=Jr(t,n),d=(({isMovingForward:e,draggable:t,destination:n,insideDestination:r,previousImpact:a})=>{if(!n.isCombineEnabled)return null;if(!Kr(a))return null;function o(e){const t={type:"COMBINE",combine:{draggableId:e,droppableId:n.descriptor.id}};return{...a,at:t}}const i=a.displaced.all,s=i.length?i[0]:null;if(e)return s?o(s):null;const l=Zr(t,r);if(!s)return l.length?o(l[l.length-1].descriptor.id):null;const c=l.findIndex(e=>e.descriptor.id===s);-1===c&&gr();const u=c-1;return u<0?null:o(l[u].descriptor.id)})({isMovingForward:e,draggable:t,destination:n,insideDestination:c,previousImpact:a})||(({isMovingForward:e,isInHomeList:t,draggable:n,draggables:r,destination:a,insideDestination:o,previousImpact:i,viewport:s,afterCritical:l})=>{const c=i.at;if(c||gr(),"REORDER"===c.type){const r=(({isMovingForward:e,isInHomeList:t,insideDestination:n,location:r})=>{if(!n.length)return null;const a=r.index,o=e?a+1:a-1,i=n[0].descriptor.index,s=n[n.length-1].descriptor.index;return o<i||o>(t?s:s+1)?null:o})({isMovingForward:e,isInHomeList:t,location:c.destination,insideDestination:o});return null==r?null:pa({draggable:n,insideDestination:o,destination:a,viewport:s,last:i.displaced,displacedBy:i.displacedBy,index:r})}const u=(({isMovingForward:e,destination:t,draggables:n,combine:r,afterCritical:a})=>{if(!t.isCombineEnabled)return null;const o=r.draggableId,i=n[o].descriptor.index;return fa(o,a)?e?i:i-1:e?i+1:i})({isMovingForward:e,destination:a,displaced:i.displaced,draggables:r,combine:c.combine,afterCritical:l});return null==u?null:pa({draggable:n,insideDestination:o,destination:a,viewport:s,last:i.displaced,displacedBy:i.displacedBy,index:u})})({isMovingForward:e,isInHomeList:u,draggable:t,draggables:r,destination:n,insideDestination:c,previousImpact:a,viewport:o,afterCritical:l});if(!d)return null;const p=ya({impact:d,draggable:t,droppable:n,draggables:r,afterCritical:l});if(Oa({draggable:t,destination:n,newPageBorderBoxCenter:p,viewport:o.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:Sa({pageBorderBoxCenter:p,draggable:t,viewport:o}),impact:d,scrollJumpRequest:null};const f=kr(p,i),h=(({impact:e,viewport:t,destination:n,draggables:r,maxScrollChange:a})=>{const o=wa(t,Tr(t.scroll.current,a)),i=n.frame?zr(n,Tr(n.frame.scroll.current,a)):n,s=e.displaced,l=ua({afterDragging:Ea(s.all,r),destination:n,displacedBy:e.displacedBy,viewport:o.frame,last:s,forceShouldAnimate:!1}),c=ua({afterDragging:Ea(s.all,r),destination:i,displacedBy:e.displacedBy,viewport:t.frame,last:s,forceShouldAnimate:!1}),u={},d={},p=[s,l,c];return s.all.forEach(e=>{const t=function(e,t){for(let n=0;n<t.length;n++){const r=t[n].visible[e];if(r)return r}return null}(e,p);t?d[e]=t:u[e]=!0}),{...e,displaced:{all:s.all,invisible:u,visible:d}}})({impact:d,viewport:o,destination:n,draggables:r,maxScrollChange:f});return{clientSelection:s,impact:h,scrollJumpRequest:f}};const Aa=e=>{const t=e.subject.active;return t||gr(),t},xa=(e,t)=>{const n=e.page.borderBox.center;return fa(e.descriptor.id,t)?kr(n,t.displacedBy.point):n},Da=(e,t)=>{const n=e.page.borderBox;return fa(e.descriptor.id,t)?Vr(n,Lr(t.displacedBy.point)):n};var Pa=Wr(function(e,t){const n=t[e.line];return{value:n,point:Mr(e.line,n)}});const Ia=(e,t)=>({...e,scroll:{...e.scroll,max:t}}),Ra=(e,t,n)=>{const r=e.frame;Jr(t,e)&&gr(),e.subject.withPlaceholder&&gr();const a=Pa(e.axis,t.displaceBy).point,o=((e,t,n)=>{const r=e.axis;if("virtual"===e.descriptor.mode)return Mr(r.line,t[r.line]);const a=e.subject.page.contentBox[r.size],o=Yr(e.descriptor.id,n).reduce((e,t)=>e+t.client.marginBox[r.size],0)+t[r.line]-a;return o<=0?null:Mr(r.line,o)})(e,a,n),i={placeholderSize:a,increasedBy:o,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!r){const t=Ur({page:e.subject.page,withPlaceholder:i,axis:e.axis,frame:e.frame});return{...e,subject:t}}const s=o?Tr(r.scroll.max,o):r.scroll.max,l=Ia(r,s),c=Ur({page:e.subject.page,withPlaceholder:i,axis:e.axis,frame:l});return{...e,subject:c,frame:l}};var Ta=e=>{const t=e.at;return t?"REORDER"===t.type?t.destination.droppableId:t.combine.droppableId:null},ka=({state:e,type:t})=>{const n=((e,t)=>{const n=Ta(e);return n?t[n]:null})(e.impact,e.dimensions.droppables),r=Boolean(n),a=e.dimensions.droppables[e.critical.droppable.id],o=n||a,i=o.axis.direction,s="vertical"===i&&("MOVE_UP"===t||"MOVE_DOWN"===t)||"horizontal"===i&&("MOVE_LEFT"===t||"MOVE_RIGHT"===t);if(s&&!r)return null;const l="MOVE_DOWN"===t||"MOVE_RIGHT"===t,c=e.dimensions.draggables[e.critical.draggable.id],u=e.current.page.borderBoxCenter,{draggables:d,droppables:p}=e.dimensions;return s?Ca({isMovingForward:l,previousPageBorderBoxCenter:u,draggable:c,destination:o,draggables:d,viewport:e.viewport,previousClientSelection:e.current.client.selection,previousImpact:e.impact,afterCritical:e.afterCritical}):(({isMovingForward:e,previousPageBorderBoxCenter:t,draggable:n,isOver:r,draggables:a,droppables:o,viewport:i,afterCritical:s})=>{const l=(({isMovingForward:e,pageBorderBoxCenter:t,source:n,droppables:r,viewport:a})=>{const o=n.subject.active;if(!o)return null;const i=n.axis,s=ra(o[i.start],o[i.end]),l=qr(r).filter(e=>e!==n).filter(e=>e.isEnabled).filter(e=>Boolean(e.subject.active)).filter(e=>aa(a.frame)(Aa(e))).filter(t=>{const n=Aa(t);return e?o[i.crossAxisEnd]<n[i.crossAxisEnd]:n[i.crossAxisStart]<o[i.crossAxisStart]}).filter(e=>{const t=Aa(e),n=ra(t[i.start],t[i.end]);return s(t[i.start])||s(t[i.end])||n(o[i.start])||n(o[i.end])}).sort((t,n)=>{const r=Aa(t)[i.crossAxisStart],a=Aa(n)[i.crossAxisStart];return e?r-a:a-r}).filter((e,t,n)=>Aa(e)[i.crossAxisStart]===Aa(n[0])[i.crossAxisStart]);if(!l.length)return null;if(1===l.length)return l[0];const c=l.filter(e=>ra(Aa(e)[i.start],Aa(e)[i.end])(t[i.line]));return 1===c.length?c[0]:c.length>1?c.sort((e,t)=>Aa(e)[i.start]-Aa(t)[i.start])[0]:l.sort((e,n)=>{const r=jr(t,Fr(Aa(e))),a=jr(t,Fr(Aa(n)));return r!==a?r-a:Aa(e)[i.start]-Aa(n)[i.start]})[0]})({isMovingForward:e,pageBorderBoxCenter:t,source:r,droppables:o,viewport:i});if(!l)return null;const c=Yr(l.descriptor.id,a),u=(({pageBorderBoxCenter:e,viewport:t,destination:n,insideDestination:r,afterCritical:a})=>{const o=r.filter(e=>ca({target:Da(e,a),destination:n,viewport:t.frame,withDroppableDisplacement:!0})).sort((t,r)=>{const o=Br(e,va(n,xa(t,a))),i=Br(e,va(n,xa(r,a)));return o<i?-1:i<o?1:t.descriptor.index-r.descriptor.index});return o[0]||null})({pageBorderBoxCenter:t,viewport:i,destination:l,insideDestination:c,afterCritical:s}),d=(({previousPageBorderBoxCenter:e,moveRelativeTo:t,insideDestination:n,draggable:r,draggables:a,destination:o,viewport:i,afterCritical:s})=>{if(!t){if(n.length)return null;const e={displaced:ta,displacedBy:ea,at:{type:"REORDER",destination:{droppableId:o.descriptor.id,index:0}}},t=ya({impact:e,draggable:r,droppable:o,draggables:a,afterCritical:s}),l=Jr(r,o)?o:Ra(o,r,a);return Oa({draggable:r,destination:l,newPageBorderBoxCenter:t,viewport:i.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?e:null}const l=Boolean(e[o.axis.line]<=t.page.borderBox.center[o.axis.line]),c=(()=>{const e=t.descriptor.index;return t.descriptor.id===r.descriptor.id||l?e:e+1})(),u=Pa(o.axis,r.displaceBy);return pa({draggable:r,insideDestination:n,destination:o,viewport:i,displacedBy:u,last:ta,index:c})})({previousPageBorderBoxCenter:t,destination:l,draggable:n,draggables:a,moveRelativeTo:u,insideDestination:c,viewport:i,afterCritical:s});if(!d)return null;const p=ya({impact:d,draggable:n,droppable:l,draggables:a,afterCritical:s});return{clientSelection:Sa({pageBorderBoxCenter:p,draggable:n,viewport:i}),impact:d,scrollJumpRequest:null}})({isMovingForward:l,previousPageBorderBoxCenter:u,draggable:c,isOver:o,draggables:d,droppables:p,viewport:e.viewport,afterCritical:e.afterCritical})};function _a(e){return"DRAGGING"===e.phase||"COLLECTING"===e.phase}function La(e){const t=ra(e.top,e.bottom),n=ra(e.left,e.right);return function(e){return t(e.y)&&n(e.x)}}const Ma=(e,t)=>tr(Vr(e,t));function Ba({displaced:e,id:t}){return Boolean(e.visible[t]||e.invisible[t])}var ja=({pageOffset:e,draggable:t,draggables:n,droppables:r,previousImpact:a,viewport:o,afterCritical:i})=>{const s=Ma(t.page.borderBox,e),l=function({pageBorderBox:e,draggable:t,droppables:n}){const r=qr(n).filter(t=>{if(!t.isEnabled)return!1;const n=t.subject.active;if(!n)return!1;if(a=n,!((r=e).left<a.right&&r.right>a.left&&r.top<a.bottom&&r.bottom>a.top))return!1;var r,a;if(La(n)(e.center))return!0;const o=t.axis,i=n.center[o.crossAxisLine],s=e[o.crossAxisStart],l=e[o.crossAxisEnd],c=ra(n[o.crossAxisStart],n[o.crossAxisEnd]),u=c(s),d=c(l);return!u&&!d||(u?s<i:l>i)});return r.length?1===r.length?r[0].descriptor.id:function({pageBorderBox:e,draggable:t,candidates:n}){const r=t.page.borderBox.center,a=n.map(t=>{const n=t.axis,a=Mr(t.axis.line,e.center[n.line],t.page.borderBox.center[n.crossAxisLine]);return{id:t.descriptor.id,distance:Br(r,a)}}).sort((e,t)=>t.distance-e.distance);return a[0]?a[0].id:null}({pageBorderBox:e,draggable:t,candidates:r}):null}({pageBorderBox:s,draggable:t,droppables:r});if(!l)return na;const c=r[l],u=Yr(c.descriptor.id,n),d=((e,t)=>{const n=e.frame;return n?Ma(t,n.scroll.diff.value):t})(c,s);return(({draggable:e,pageBorderBoxWithDroppableScroll:t,previousImpact:n,destination:r,insideDestination:a,afterCritical:o})=>{if(!r.isCombineEnabled)return null;const i=r.axis,s=Pa(r.axis,e.displaceBy),l=s.value,c=t[i.start],u=t[i.end],d=Zr(e,a).find(e=>{const t=e.descriptor.id,r=e.page.borderBox,a=r[i.size]/4,s=fa(t,o),d=Ba({displaced:n.displaced,id:t});return s?d?u>r[i.start]+a&&u<r[i.end]-a:c>r[i.start]-l+a&&c<r[i.end]-l-a:d?u>r[i.start]+l+a&&u<r[i.end]+l-a:c>r[i.start]+a&&c<r[i.end]-a});return d?{displacedBy:s,displaced:n.displaced,at:{type:"COMBINE",combine:{draggableId:d.descriptor.id,droppableId:r.descriptor.id}}}:null})({pageBorderBoxWithDroppableScroll:d,draggable:t,previousImpact:a,destination:c,insideDestination:u,afterCritical:i})||(({pageBorderBoxWithDroppableScroll:e,draggable:t,destination:n,insideDestination:r,last:a,viewport:o,afterCritical:i})=>{const s=n.axis,l=Pa(n.axis,t.displaceBy),c=l.value,u=e[s.start],d=e[s.end],p=function({draggable:e,closest:t,inHomeList:n}){return t?n&&t.descriptor.index>e.descriptor.index?t.descriptor.index-1:t.descriptor.index:null}({draggable:t,closest:Zr(t,r).find(e=>{const t=e.descriptor.id,n=e.page.borderBox.center[s.line],r=fa(t,i),o=Ba({displaced:a,id:t});return r?o?d<=n:u<n-c:o?d<=n+c:u<n})||null,inHomeList:Jr(t,n)});return pa({draggable:t,insideDestination:r,destination:n,viewport:o,last:a,displacedBy:l,index:p})})({pageBorderBoxWithDroppableScroll:d,draggable:t,destination:c,insideDestination:u,last:a.displaced,viewport:o,afterCritical:i})},Na=(e,t)=>({...e,[t.descriptor.id]:t});var Va=({state:e,clientSelection:t,dimensions:n,viewport:r,impact:a,scrollJumpRequest:o})=>{const i=r||e.viewport,s=n||e.dimensions,l=t||e.current.client.selection,c=kr(l,e.initial.client.selection),u={offset:c,selection:l,borderBoxCenter:Tr(e.initial.client.borderBoxCenter,c)},d={selection:Tr(u.selection,i.scroll.current),borderBoxCenter:Tr(u.borderBoxCenter,i.scroll.current),offset:Tr(u.offset,i.scroll.diff.value)},p={client:u,page:d};if("COLLECTING"===e.phase)return{...e,dimensions:s,viewport:i,current:p};const f=s.draggables[e.critical.draggable.id],h=a||ja({pageOffset:d.offset,draggable:f,draggables:s.draggables,droppables:s.droppables,previousImpact:e.impact,viewport:i,afterCritical:e.afterCritical}),m=(({draggable:e,draggables:t,droppables:n,previousImpact:r,impact:a})=>{const o=(({previousImpact:e,impact:t,droppables:n})=>{const r=Ta(e),a=Ta(t);if(!r)return n;if(r===a)return n;const o=n[r];if(!o.subject.withPlaceholder)return n;const i=(e=>{const t=e.subject.withPlaceholder;t||gr();const n=e.frame;if(!n){const t=Ur({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null});return{...e,subject:t}}const r=t.oldFrameMaxScroll;r||gr();const a=Ia(n,r),o=Ur({page:e.subject.page,axis:e.axis,frame:a,withPlaceholder:null});return{...e,subject:o,frame:a}})(o);return Na(n,i)})({previousImpact:r,impact:a,droppables:n}),i=Ta(a);if(!i)return o;const s=n[i];if(Jr(e,s))return o;if(s.subject.withPlaceholder)return o;const l=Ra(s,e,t);return Na(o,l)})({draggable:f,impact:h,previousImpact:e.impact,draggables:s.draggables,droppables:s.droppables});return{...e,current:p,dimensions:{draggables:s.draggables,droppables:m},impact:h,viewport:i,scrollJumpRequest:o||null,forceShouldAnimate:!o&&null}},Fa=({impact:e,viewport:t,draggables:n,destination:r,forceShouldAnimate:a})=>{const o=e.displaced,i=function(e,t){return e.map(e=>t[e])}(o.all,n),s=ua({afterDragging:i,destination:r,displacedBy:e.displacedBy,viewport:t.frame,forceShouldAnimate:a,last:o});return{...e,displaced:s}},$a=({impact:e,draggable:t,droppable:n,draggables:r,viewport:a,afterCritical:o})=>{const i=ya({impact:e,draggable:t,draggables:r,droppable:n,afterCritical:o});return Sa({pageBorderBoxCenter:i,draggable:t,viewport:a})},Ua=({state:e,dimensions:t,viewport:n})=>{"SNAP"!==e.movementMode&&gr();const r=e.impact,a=n||e.viewport,o=t||e.dimensions,{draggables:i,droppables:s}=o,l=i[e.critical.draggable.id],c=Ta(r);c||gr();const u=s[c],d=Fa({impact:r,viewport:a,destination:u,draggables:i}),p=$a({impact:d,draggable:l,droppable:u,draggables:i,viewport:a,afterCritical:e.afterCritical});return Va({impact:d,clientSelection:p,state:e,dimensions:o,viewport:a})},za=({draggable:e,home:t,draggables:n,viewport:r})=>{const a=Pa(t.axis,e.displaceBy),o=Yr(t.descriptor.id,n),i=o.indexOf(e);-1===i&&gr();const s=o.slice(i+1),l=s.reduce((e,t)=>(e[t.descriptor.id]=!0,e),{}),c={inVirtualList:"virtual"===t.descriptor.mode,displacedBy:a,effected:l};var u;return{impact:{displaced:ua({afterDragging:s,destination:t,displacedBy:a,last:null,viewport:r.frame,forceShouldAnimate:!1}),displacedBy:a,at:{type:"REORDER",destination:(u=e.descriptor,{index:u.index,droppableId:u.droppableId})}},afterCritical:c}};const Wa=e=>"SNAP"===e.movementMode,Ha=(e,t,n)=>{const r=((e,t)=>({draggables:e.draggables,droppables:Na(e.droppables,t)}))(e.dimensions,t);return!Wa(e)||n?Va({state:e,dimensions:r}):Ua({state:e,dimensions:r})};function Ga(e){return e.isDragging&&"SNAP"===e.movementMode?{...e,scrollJumpRequest:null}:e}const qa={phase:"IDLE",completed:null,shouldFlush:!1};var Qa=(e=qa,t)=>{if("FLUSH"===t.type)return{...qa,shouldFlush:!0};if("INITIAL_PUBLISH"===t.type){"IDLE"!==e.phase&&gr();const{critical:n,clientSelection:r,viewport:a,dimensions:o,movementMode:i}=t.payload,s=o.draggables[n.draggable.id],l=o.droppables[n.droppable.id],c={selection:r,borderBoxCenter:s.client.borderBox.center,offset:Rr},u={client:c,page:{selection:Tr(c.selection,a.scroll.initial),borderBoxCenter:Tr(c.selection,a.scroll.initial),offset:Tr(c.selection,a.scroll.diff.value)}},d=qr(o.droppables).every(e=>!e.isFixedOnPage),{impact:p,afterCritical:f}=za({draggable:s,home:l,draggables:o.draggables,viewport:a});return{phase:"DRAGGING",isDragging:!0,critical:n,movementMode:i,dimensions:o,initial:u,current:u,isWindowScrollAllowed:d,impact:p,afterCritical:f,onLiftImpact:p,viewport:a,scrollJumpRequest:null,forceShouldAnimate:null}}if("COLLECTION_STARTING"===t.type)return"COLLECTING"===e.phase||"DROP_PENDING"===e.phase?e:("DRAGGING"!==e.phase&&gr(),{...e,phase:"COLLECTING"});if("PUBLISH_WHILE_DRAGGING"===t.type)return"COLLECTING"!==e.phase&&"DROP_PENDING"!==e.phase&&gr(),(({state:e,published:t})=>{const n=t.modified.map(t=>{const n=e.dimensions.droppables[t.droppableId];return zr(n,t.scroll)}),r={...e.dimensions.droppables,...Hr(n)},a=Gr((({additions:e,updatedDroppables:t,viewport:n})=>{const r=n.scroll.diff.value;return e.map(e=>{const a=e.descriptor.droppableId,o=(e=>{const t=e.frame;return t||gr(),t})(t[a]),i=o.scroll.diff.value,s=(({draggable:e,offset:t,initialWindowScroll:n})=>{const r=sr(e.client,t),a=lr(r,n);return{...e,placeholder:{...e.placeholder,client:r},client:r,page:a}})({draggable:e,offset:Tr(r,i),initialWindowScroll:n.scroll.initial});return s})})({additions:t.additions,updatedDroppables:r,viewport:e.viewport})),o={...e.dimensions.draggables,...a};t.removals.forEach(e=>{delete o[e]});const i={droppables:r,draggables:o},s=Ta(e.impact),l=s?i.droppables[s]:null,c=i.draggables[e.critical.draggable.id],u=i.droppables[e.critical.droppable.id],{impact:d,afterCritical:p}=za({draggable:c,home:u,draggables:o,viewport:e.viewport}),f=l&&l.isCombineEnabled?e.impact:d,h=ja({pageOffset:e.current.page.offset,draggable:i.draggables[e.critical.draggable.id],draggables:i.draggables,droppables:i.droppables,previousImpact:f,viewport:e.viewport,afterCritical:p}),m={...e,phase:"DRAGGING",impact:h,onLiftImpact:d,dimensions:i,afterCritical:p,forceShouldAnimate:!1};return"COLLECTING"===e.phase?m:{...m,phase:"DROP_PENDING",reason:e.reason,isWaiting:!1}})({state:e,published:t.payload});if("MOVE"===t.type){if("DROP_PENDING"===e.phase)return e;_a(e)||gr();const{client:n}=t.payload;return _r(n,e.current.client.selection)?e:Va({state:e,clientSelection:n,impact:Wa(e)?e.impact:null})}if("UPDATE_DROPPABLE_SCROLL"===t.type){if("DROP_PENDING"===e.phase)return Ga(e);if("COLLECTING"===e.phase)return Ga(e);_a(e)||gr();const{id:n,newScroll:r}=t.payload,a=e.dimensions.droppables[n];if(!a)return e;const o=zr(a,r);return Ha(e,o,!1)}if("UPDATE_DROPPABLE_IS_ENABLED"===t.type){if("DROP_PENDING"===e.phase)return e;_a(e)||gr();const{id:n,isEnabled:r}=t.payload,a=e.dimensions.droppables[n];a||gr(),a.isEnabled===r&&gr();const o={...a,isEnabled:r};return Ha(e,o,!0)}if("UPDATE_DROPPABLE_IS_COMBINE_ENABLED"===t.type){if("DROP_PENDING"===e.phase)return e;_a(e)||gr();const{id:n,isCombineEnabled:r}=t.payload,a=e.dimensions.droppables[n];a||gr(),a.isCombineEnabled===r&&gr();const o={...a,isCombineEnabled:r};return Ha(e,o,!0)}if("MOVE_BY_WINDOW_SCROLL"===t.type){if("DROP_PENDING"===e.phase||"DROP_ANIMATING"===e.phase)return e;_a(e)||gr(),e.isWindowScrollAllowed||gr();const n=t.payload.newScroll;if(_r(e.viewport.scroll.current,n))return Ga(e);const r=wa(e.viewport,n);return Wa(e)?Ua({state:e,viewport:r}):Va({state:e,viewport:r})}if("UPDATE_VIEWPORT_MAX_SCROLL"===t.type){if(!_a(e))return e;const n=t.payload.maxScroll;if(_r(n,e.viewport.scroll.max))return e;const r={...e.viewport,scroll:{...e.viewport.scroll,max:n}};return{...e,viewport:r}}if("MOVE_UP"===t.type||"MOVE_DOWN"===t.type||"MOVE_LEFT"===t.type||"MOVE_RIGHT"===t.type){if("COLLECTING"===e.phase||"DROP_PENDING"===e.phase)return e;"DRAGGING"!==e.phase&&gr();const n=ka({state:e,type:t.type});return n?Va({state:e,impact:n.impact,clientSelection:n.clientSelection,scrollJumpRequest:n.scrollJumpRequest}):e}if("DROP_PENDING"===t.type){const n=t.payload.reason;return"COLLECTING"!==e.phase&&gr(),{...e,phase:"DROP_PENDING",isWaiting:!0,reason:n}}if("DROP_ANIMATE"===t.type){const{completed:n,dropDuration:r,newHomeClientOffset:a}=t.payload;return"DRAGGING"!==e.phase&&"DROP_PENDING"!==e.phase&&gr(),{phase:"DROP_ANIMATING",completed:n,dropDuration:r,newHomeClientOffset:a,dimensions:e.dimensions}}if("DROP_COMPLETE"===t.type){const{completed:e}=t.payload;return{phase:"IDLE",completed:e,shouldFlush:!1}}return e};function Ya(e,t){return e instanceof Object&&"type"in e&&e.type===t}const Ka=e=>({type:"PUBLISH_WHILE_DRAGGING",payload:e}),Xa=()=>({type:"COLLECTION_STARTING",payload:null}),Za=e=>({type:"UPDATE_DROPPABLE_SCROLL",payload:e}),Ja=e=>({type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}),eo=e=>({type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}),to=e=>({type:"MOVE",payload:e}),no=()=>({type:"MOVE_UP",payload:null}),ro=()=>({type:"MOVE_DOWN",payload:null}),ao=()=>({type:"MOVE_RIGHT",payload:null}),oo=()=>({type:"MOVE_LEFT",payload:null}),io=e=>({type:"DROP_COMPLETE",payload:e}),so=e=>({type:"DROP",payload:e}),lo="cubic-bezier(.2,1,.1,1)",co=0,uo=.7,po=.75,fo={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},ho=`${fo.outOfTheWay}s cubic-bezier(0.2, 0, 0, 1)`,mo={fluid:`opacity ${ho}`,snap:`transform ${ho}, opacity ${ho}`,drop:e=>{const t=`${e}s ${lo}`;return`transform ${t}, opacity ${t}`},outOfTheWay:`transform ${ho}`,placeholder:`height ${ho}, width ${ho}, margin ${ho}`},go=e=>_r(e,Rr)?void 0:`translate(${e.x}px, ${e.y}px)`,bo=go,{minDropTime:vo,maxDropTime:yo}=fo,wo=yo-vo,Eo=({getState:e,dispatch:t})=>n=>r=>{if(!Ya(r,"DROP"))return void n(r);const a=e(),o=r.payload.reason;if("COLLECTING"===a.phase)return void t((i={reason:o},{type:"DROP_PENDING",payload:i}));var i;if("IDLE"===a.phase)return;"DROP_PENDING"===a.phase&&a.isWaiting&&gr(),"DRAGGING"!==a.phase&&"DROP_PENDING"!==a.phase&&gr();const s=a.critical,l=a.dimensions,c=l.draggables[a.critical.draggable.id],{impact:u,didDropInsideDroppable:d}=(({draggables:e,reason:t,lastImpact:n,home:r,viewport:a,onLiftImpact:o})=>n.at&&"DROP"===t?"REORDER"===n.at.type?{impact:n,didDropInsideDroppable:!0}:{impact:{...n,displaced:ta},didDropInsideDroppable:!0}:{impact:Fa({draggables:e,impact:o,destination:r,viewport:a,forceShouldAnimate:!0}),didDropInsideDroppable:!1})({reason:o,lastImpact:a.impact,afterCritical:a.afterCritical,onLiftImpact:a.onLiftImpact,home:a.dimensions.droppables[a.critical.droppable.id],viewport:a.viewport,draggables:a.dimensions.draggables}),p=d?Kr(u):null,f=d?Xr(u):null,h={index:s.draggable.index,droppableId:s.droppable.id},m={draggableId:c.descriptor.id,type:c.descriptor.type,source:h,reason:o,mode:a.movementMode,destination:p,combine:f},g=(({impact:e,draggable:t,dimensions:n,viewport:r,afterCritical:a})=>{const{draggables:o,droppables:i}=n,s=Ta(e),l=s?i[s]:null,c=i[t.descriptor.droppableId],u=$a({impact:e,draggable:t,draggables:o,afterCritical:a,droppable:l||c,viewport:r});return kr(u,t.client.borderBox.center)})({impact:u,draggable:c,dimensions:l,viewport:a.viewport,afterCritical:a.afterCritical}),b={critical:a.critical,afterCritical:a.afterCritical,result:m,impact:u};if(_r(a.current.client.offset,g)&&!Boolean(m.combine))return void t(io({completed:b}));const v=(({current:e,destination:t,reason:n})=>{const r=Br(e,t);if(r<=0)return vo;if(r>=1500)return yo;const a=vo+wo*(r/1500);return Number(("CANCEL"===n?.6*a:a).toFixed(2))})({current:a.current.client.offset,destination:g,reason:o});t((e=>({type:"DROP_ANIMATE",payload:e}))({newHomeClientOffset:g,dropDuration:v,completed:b}))};var So=()=>({x:window.pageXOffset,y:window.pageYOffset});const Oo=e=>{const t=function({onWindowScroll:e}){const t=dr(function(){e(So())}),n=function(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:t=>{t.target!==window&&t.target!==window.document||e()}}}(t);let r=fr;function a(){return r!==fr}return{start:function(){a()&&gr(),r=hr(window,[n])},stop:function(){a()||gr(),t.cancel(),r(),r=fr},isActive:a}}({onWindowScroll:t=>{e.dispatch({type:"MOVE_BY_WINDOW_SCROLL",payload:{newScroll:t}})}});return e=>n=>{!t.isActive()&&Ya(n,"INITIAL_PUBLISH")&&t.start(),t.isActive()&&(e=>Ya(e,"DROP_COMPLETE")||Ya(e,"DROP_ANIMATE")||Ya(e,"FLUSH"))(n)&&t.stop(),e(n)}};const Co=(e,t)=>{t()},Ao=(e,t)=>({draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:t});function xo(e,t,n,r){if(!e)return void n(r(t));const a=(e=>{let t=!1,n=!1;const r=setTimeout(()=>{n=!0}),a=a=>{t||n||(t=!0,e(a),clearTimeout(r))};return a.wasCalled=()=>t,a})(n);e(t,{announce:a}),a.wasCalled()||n(r(t))}var Do=(e,t)=>{const n=((e,t)=>{const n=(()=>{const e=[];return{add:t=>{const n=setTimeout(()=>(t=>{const n=e.findIndex(e=>e.timerId===t);-1===n&&gr();const[r]=e.splice(n,1);r.callback()})(n)),r={timerId:n,callback:t};e.push(r)},flush:()=>{if(!e.length)return;const t=[...e];e.length=0,t.forEach(e=>{clearTimeout(e.timerId),e.callback()})}}})();let r=null;const a=n=>{r||gr(),r=null,Co(0,()=>xo(e().onDragEnd,n,t,Ar))};return{beforeCapture:(t,n)=>{r&&gr(),Co(0,()=>{const r=e().onBeforeCapture;r&&r({draggableId:t,mode:n})})},beforeStart:(t,n)=>{r&&gr(),Co(0,()=>{const r=e().onBeforeDragStart;r&&r(Ao(t,n))})},start:(a,o)=>{r&&gr();const i=Ao(a,o);r={mode:o,lastCritical:a,lastLocation:i.source,lastCombine:null},n.add(()=>{Co(0,()=>xo(e().onDragStart,i,t,Or))})},update:(a,o)=>{const i=Kr(o),s=Xr(o);r||gr();const l=!((e,t)=>{if(e===t)return!0;const n=e.draggable.id===t.draggable.id&&e.draggable.droppableId===t.draggable.droppableId&&e.draggable.type===t.draggable.type&&e.draggable.index===t.draggable.index,r=e.droppable.id===t.droppable.id&&e.droppable.type===t.droppable.type;return n&&r})(a,r.lastCritical);l&&(r.lastCritical=a);const c=(d=i,!(null==(u=r.lastLocation)&&null==d||null!=u&&null!=d&&u.droppableId===d.droppableId&&u.index===d.index));var u,d;c&&(r.lastLocation=i);const p=!((e,t)=>null==e&&null==t||null!=e&&null!=t&&e.draggableId===t.draggableId&&e.droppableId===t.droppableId)(r.lastCombine,s);if(p&&(r.lastCombine=s),!l&&!c&&!p)return;const f={...Ao(a,r.mode),combine:s,destination:i};n.add(()=>{Co(0,()=>xo(e().onDragUpdate,f,t,Cr))})},flush:()=>{r||gr(),n.flush()},drop:a,abort:()=>{if(!r)return;const e={...Ao(r.lastCritical,r.mode),combine:null,destination:null,reason:"CANCEL"};a(e)}}})(e,t);return e=>t=>r=>{if(Ya(r,"BEFORE_INITIAL_CAPTURE"))return void n.beforeCapture(r.payload.draggableId,r.payload.movementMode);if(Ya(r,"INITIAL_PUBLISH")){const e=r.payload.critical;return n.beforeStart(e,r.payload.movementMode),t(r),void n.start(e,r.payload.movementMode)}if(Ya(r,"DROP_COMPLETE")){const e=r.payload.completed.result;return n.flush(),t(r),void n.drop(e)}if(t(r),Ya(r,"FLUSH"))return void n.abort();const a=e.getState();"DRAGGING"===a.phase&&n.update(a.critical,a.impact)}};const Po=e=>t=>n=>{if(!Ya(n,"DROP_ANIMATION_FINISHED"))return void t(n);const r=e.getState();"DROP_ANIMATING"!==r.phase&&gr(),e.dispatch(io({completed:r.completed}))},Io=e=>{let t=null,n=null;return r=>a=>{if((Ya(a,"FLUSH")||Ya(a,"DROP_COMPLETE")||Ya(a,"DROP_ANIMATION_FINISHED"))&&(n&&(cancelAnimationFrame(n),n=null),t&&(t(),t=null)),r(a),!Ya(a,"DROP_ANIMATE"))return;const o={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){"DROP_ANIMATING"===e.getState().phase&&e.dispatch({type:"DROP_ANIMATION_FINISHED",payload:null})}};n=requestAnimationFrame(()=>{n=null,t=hr(window,[o])})}};const Ro=e=>t=>n=>{if(t(n),!Ya(n,"PUBLISH_WHILE_DRAGGING"))return;const r=e.getState();"DROP_PENDING"===r.phase&&(r.isWaiting||e.dispatch(so({reason:r.reason})))},To=Jn.compose;var ko=({dimensionMarshal:e,focusMarshal:t,styleMarshal:n,getResponders:r,announce:a,autoScroller:o})=>{return(0,Jn.createStore)(Qa,To((0,Jn.applyMiddleware)((i=n,()=>e=>t=>{Ya(t,"INITIAL_PUBLISH")&&i.dragging(),Ya(t,"DROP_ANIMATE")&&i.dropping(t.payload.completed.result.reason),(Ya(t,"FLUSH")||Ya(t,"DROP_COMPLETE"))&&i.resting(),e(t)}),(e=>()=>t=>n=>{(Ya(n,"DROP_COMPLETE")||Ya(n,"FLUSH")||Ya(n,"DROP_ANIMATE"))&&e.stopPublishing(),t(n)})(e),(e=>({getState:t,dispatch:n})=>r=>a=>{if(!Ya(a,"LIFT"))return void r(a);const{id:o,clientSelection:i,movementMode:s}=a.payload,l=t();"DROP_ANIMATING"===l.phase&&n(io({completed:l.completed})),"IDLE"!==t().phase&&gr(),n({type:"FLUSH",payload:null}),n({type:"BEFORE_INITIAL_CAPTURE",payload:{draggableId:o,movementMode:s}});const c={draggableId:o,scrollOptions:{shouldPublishImmediately:"SNAP"===s}},{critical:u,dimensions:d,viewport:p}=e.startPublishing(c);n({type:"INITIAL_PUBLISH",payload:{critical:u,dimensions:d,clientSelection:i,movementMode:s,viewport:p}})})(e),Eo,Po,Io,Ro,(e=>t=>n=>r=>{if((e=>Ya(e,"DROP_COMPLETE")||Ya(e,"DROP_ANIMATE")||Ya(e,"FLUSH"))(r))return e.stop(),void n(r);if(Ya(r,"INITIAL_PUBLISH")){n(r);const a=t.getState();return"DRAGGING"!==a.phase&&gr(),void e.start(a)}n(r),e.scroll(t.getState())})(o),Oo,(e=>{let t=!1;return()=>n=>r=>{if(Ya(r,"INITIAL_PUBLISH"))return t=!0,e.tryRecordFocus(r.payload.critical.draggable.id),n(r),void e.tryRestoreFocusRecorded();if(n(r),t){if(Ya(r,"FLUSH"))return t=!1,void e.tryRestoreFocusRecorded();if(Ya(r,"DROP_COMPLETE")){t=!1;const n=r.payload.completed.result;n.combine&&e.tryShiftRecord(n.draggableId,n.combine.draggableId),e.tryRestoreFocusRecorded()}}}})(t),Do(r,a))));var i},_o=({scrollHeight:e,scrollWidth:t,height:n,width:r})=>{const a=kr({x:t,y:e},{x:r,y:n});return{x:Math.max(0,a.x),y:Math.max(0,a.y)}},Lo=()=>{const e=document.documentElement;return e||gr(),e},Mo=()=>{const e=Lo();return _o({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight})};function Bo(e,t,n){return n.descriptor.id!==t.id&&(n.descriptor.type===t.type&&"virtual"===e.droppable.getById(n.descriptor.droppableId).descriptor.mode)}var jo=(e,t)=>{let n=null;const r=function({registry:e,callbacks:t}){let n={additions:{},removals:{},modified:{}},r=null;const a=()=>{r||(t.collectionStarting(),r=requestAnimationFrame(()=>{r=null;const{additions:a,removals:o,modified:i}=n,s=Object.keys(a).map(t=>e.draggable.getById(t).getDimension(Rr)).sort((e,t)=>e.descriptor.index-t.descriptor.index),l=Object.keys(i).map(t=>({droppableId:t,scroll:e.droppable.getById(t).callbacks.getScrollWhileDragging()})),c={additions:s,removals:Object.keys(o),modified:l};n={additions:{},removals:{},modified:{}},t.publish(c)}))};return{add:e=>{const t=e.descriptor.id;n.additions[t]=e,n.modified[e.descriptor.droppableId]=!0,n.removals[t]&&delete n.removals[t],a()},remove:e=>{const t=e.descriptor;n.removals[t.id]=!0,n.modified[t.droppableId]=!0,n.additions[t.id]&&delete n.additions[t.id],a()},stop:()=>{r&&(cancelAnimationFrame(r),r=null,n={additions:{},removals:{},modified:{}})}}}({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),a=t=>{n||gr();const a=n.critical.draggable;"ADDITION"===t.type&&Bo(e,a,t.value)&&r.add(t.value),"REMOVAL"===t.type&&Bo(e,a,t.value)&&r.remove(t.value)},o={updateDroppableIsEnabled:(r,a)=>{e.droppable.exists(r)||gr(),n&&t.updateDroppableIsEnabled({id:r,isEnabled:a})},updateDroppableIsCombineEnabled:(r,a)=>{n&&(e.droppable.exists(r)||gr(),t.updateDroppableIsCombineEnabled({id:r,isCombineEnabled:a}))},scrollDroppable:(t,r)=>{n&&e.droppable.getById(t).callbacks.scroll(r)},updateDroppableScroll:(r,a)=>{n&&(e.droppable.exists(r)||gr(),t.updateDroppableScroll({id:r,newScroll:a}))},startPublishing:t=>{n&&gr();const r=e.draggable.getById(t.draggableId),o=e.droppable.getById(r.descriptor.droppableId),i={draggable:r.descriptor,droppable:o.descriptor},s=e.subscribe(a);return n={critical:i,unsubscribe:s},(({critical:e,scrollOptions:t,registry:n})=>{const r=(()=>{const e=So(),t=Mo(),n=e.y,r=e.x,a=Lo(),o=a.clientWidth,i=a.clientHeight;return{frame:tr({top:n,left:r,right:r+o,bottom:n+i}),scroll:{initial:e,current:e,max:t,diff:{value:Rr,displacement:Rr}}}})(),a=r.scroll.current,o=e.droppable,i=n.droppable.getAllByType(o.type).map(e=>e.callbacks.getDimensionAndWatchScroll(a,t)),s=n.draggable.getAllByType(e.draggable.type).map(e=>e.getDimension(a));return{dimensions:{draggables:Gr(s),droppables:Hr(i)},critical:e,viewport:r}})({critical:i,registry:e,scrollOptions:t.scrollOptions})},stopPublishing:()=>{if(!n)return;r.stop();const t=n.critical.droppable;e.droppable.getAllByType(t.type).forEach(e=>e.callbacks.dragStopped()),n.unsubscribe(),n=null}};return o},No=(e,t)=>"IDLE"===e.phase||"DROP_ANIMATING"===e.phase&&e.completed.result.draggableId!==t&&"DROP"===e.completed.result.reason,Vo=e=>{window.scrollBy(e.x,e.y)};const Fo=Wr(e=>qr(e).filter(e=>!!e.isEnabled&&!!e.frame));const $o={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:e=>e**2,durationDampening:{stopDampeningAt:1200,accelerateAt:360},disabled:!1};var Uo=({startOfRange:e,endOfRange:t,current:n})=>{const r=t-e;return 0===r?0:(n-e)/r},zo=({distanceToEdge:e,thresholds:t,dragStartTime:n,shouldUseTimeDampening:r,getAutoScrollerOptions:a})=>{const o=((e,t,n=()=>$o)=>{const r=n();if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return r.maxPixelScroll;if(e===t.startScrollingFrom)return 1;const a=1-Uo({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),o=r.maxPixelScroll*r.ease(a);return Math.ceil(o)})(e,t,a);return 0===o?0:r?Math.max(((e,t,n)=>{const r=n(),a=r.durationDampening.accelerateAt,o=r.durationDampening.stopDampeningAt,i=t,s=o,l=Date.now()-i;if(l>=o)return e;if(l<a)return 1;const c=Uo({startOfRange:a,endOfRange:s,current:l}),u=e*r.ease(c);return Math.ceil(u)})(o,n,a),1):o},Wo=({container:e,distanceToEdges:t,dragStartTime:n,axis:r,shouldUseTimeDampening:a,getAutoScrollerOptions:o})=>{const i=((e,t,n=()=>$o)=>{const r=n();return{startScrollingFrom:e[t.size]*r.startFromPercentage,maxScrollValueAt:e[t.size]*r.maxScrollAtPercentage}})(e,r,o);return t[r.end]<t[r.start]?zo({distanceToEdge:t[r.end],thresholds:i,dragStartTime:n,shouldUseTimeDampening:a,getAutoScrollerOptions:o}):-1*zo({distanceToEdge:t[r.start],thresholds:i,dragStartTime:n,shouldUseTimeDampening:a,getAutoScrollerOptions:o})};const Ho=Nr(e=>0===e?0:e);var Go=({dragStartTime:e,container:t,subject:n,center:r,shouldUseTimeDampening:a,getAutoScrollerOptions:o})=>{const i={top:r.y-t.top,right:t.right-r.x,bottom:t.bottom-r.y,left:r.x-t.left},s=Wo({container:t,distanceToEdges:i,dragStartTime:e,axis:ia,shouldUseTimeDampening:a,getAutoScrollerOptions:o}),l=Wo({container:t,distanceToEdges:i,dragStartTime:e,axis:sa,shouldUseTimeDampening:a,getAutoScrollerOptions:o}),c=Ho({x:l,y:s});if(_r(c,Rr))return null;const u=(({container:e,subject:t,proposedScroll:n})=>{const r=t.height>e.height,a=t.width>e.width;return a||r?a&&r?null:{x:a?0:n.x,y:r?0:n.y}:n})({container:t,subject:n,proposedScroll:c});return u?_r(u,Rr)?null:u:null};const qo=Nr(e=>0===e?0:e>0?1:-1),Qo=(()=>{const e=(e,t)=>e<0?e:e>t?e-t:0;return({current:t,max:n,change:r})=>{const a=Tr(t,r),o={x:e(a.x,n.x),y:e(a.y,n.y)};return _r(o,Rr)?null:o}})(),Yo=({max:e,current:t,change:n})=>{const r={x:Math.max(t.x,e.x),y:Math.max(t.y,e.y)},a=qo(n),o=Qo({max:r,current:t,change:a});return!o||0!==a.x&&0===o.x||0!==a.y&&0===o.y},Ko=(e,t)=>Yo({current:e.scroll.current,max:e.scroll.max,change:t}),Xo=(e,t)=>{const n=e.frame;return!!n&&Yo({current:n.scroll.current,max:n.scroll.max,change:t})};var Zo=({state:e,dragStartTime:t,shouldUseTimeDampening:n,scrollWindow:r,scrollDroppable:a,getAutoScrollerOptions:o})=>{const i=e.current.page.borderBoxCenter,s=e.dimensions.draggables[e.critical.draggable.id].page.marginBox;if(e.isWindowScrollAllowed){const a=(({viewport:e,subject:t,center:n,dragStartTime:r,shouldUseTimeDampening:a,getAutoScrollerOptions:o})=>{const i=Go({dragStartTime:r,container:e.frame,subject:t,center:n,shouldUseTimeDampening:a,getAutoScrollerOptions:o});return i&&Ko(e,i)?i:null})({dragStartTime:t,viewport:e.viewport,subject:s,center:i,shouldUseTimeDampening:n,getAutoScrollerOptions:o});if(a)return void r(a)}const l=(({center:e,destination:t,droppables:n})=>{if(t){const e=n[t];return e.frame?e:null}const r=((e,t)=>{const n=Fo(t).find(t=>(t.frame||gr(),La(t.frame.pageMarginBox)(e)))||null;return n})(e,n);return r})({center:i,destination:Ta(e.impact),droppables:e.dimensions.droppables});if(!l)return;const c=(({droppable:e,subject:t,center:n,dragStartTime:r,shouldUseTimeDampening:a,getAutoScrollerOptions:o})=>{const i=e.frame;if(!i)return null;const s=Go({dragStartTime:r,container:i.pageMarginBox,subject:t,center:n,shouldUseTimeDampening:a,getAutoScrollerOptions:o});return s&&Xo(e,s)?s:null})({dragStartTime:t,droppable:l,subject:s,center:i,shouldUseTimeDampening:n,getAutoScrollerOptions:o});c&&a(l.descriptor.id,c)},Jo=({move:e,scrollDroppable:t,scrollWindow:n})=>r=>{const a=r.scrollJumpRequest;if(!a)return;const o=Ta(r.impact);o||gr();const i=((e,n)=>{if(!Xo(e,n))return n;const r=((e,t)=>{const n=e.frame;return n&&Xo(e,t)?Qo({current:n.scroll.current,max:n.scroll.max,change:t}):null})(e,n);if(!r)return t(e.descriptor.id,n),null;const a=kr(n,r);return t(e.descriptor.id,a),kr(n,a)})(r.dimensions.droppables[o],a);if(!i)return;const s=r.viewport,l=((e,t,r)=>{if(!e)return r;if(!Ko(t,r))return r;const a=((e,t)=>{if(!Ko(e,t))return null;const n=e.scroll.max,r=e.scroll.current;return Qo({current:r,max:n,change:t})})(t,r);if(!a)return n(r),null;const o=kr(r,a);return n(o),kr(r,o)})(r.isWindowScrollAllowed,s,i);l&&((t,n)=>{const r=Tr(t.current.client.selection,n);e({client:r})})(r,l)};const ei="data-rfd",ti=(()=>{const e=`${ei}-drag-handle`;return{base:e,draggableId:`${e}-draggable-id`,contextId:`${e}-context-id`}})(),ni=(()=>{const e=`${ei}-draggable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),ri=(()=>{const e=`${ei}-droppable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),ai={contextId:`${ei}-scroll-container-context-id`},oi=(e,t)=>e.map(e=>{const n=e.styles[t];return n?`${e.selector} { ${n} }`:""}).join(" "),ii="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?r.useLayoutEffect:r.useEffect,si=()=>{const e=document.querySelector("head");return e||gr(),e},li=e=>{const t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.type="text/css",t};function ci(e,t){return Array.from(e.querySelectorAll(t))}var ui=e=>e&&e.ownerDocument&&e.ownerDocument.defaultView?e.ownerDocument.defaultView:window;function di(e){return e instanceof ui(e).HTMLElement}function pi(){const e={draggables:{},droppables:{}},t=[];function n(e){t.length&&t.forEach(t=>t(e))}function r(t){return e.draggables[t]||null}function a(t){return e.droppables[t]||null}return{draggable:{register:t=>{e.draggables[t.descriptor.id]=t,n({type:"ADDITION",value:t})},update:(t,n)=>{const r=e.draggables[n.descriptor.id];r&&r.uniqueId===t.uniqueId&&(delete e.draggables[n.descriptor.id],e.draggables[t.descriptor.id]=t)},unregister:t=>{const a=t.descriptor.id,o=r(a);o&&t.uniqueId===o.uniqueId&&(delete e.draggables[a],e.droppables[t.descriptor.droppableId]&&n({type:"REMOVAL",value:t}))},getById:function(e){const t=r(e);return t||gr(),t},findById:r,exists:e=>Boolean(r(e)),getAllByType:t=>Object.values(e.draggables).filter(e=>e.descriptor.type===t)},droppable:{register:t=>{e.droppables[t.descriptor.id]=t},unregister:t=>{const n=a(t.descriptor.id);n&&t.uniqueId===n.uniqueId&&delete e.droppables[t.descriptor.id]},getById:function(e){const t=a(e);return t||gr(),t},findById:a,exists:e=>Boolean(a(e)),getAllByType:t=>Object.values(e.droppables).filter(e=>e.descriptor.type===t)},subscribe:function(e){return t.push(e),function(){const n=t.indexOf(e);-1!==n&&t.splice(n,1)}},clean:function(){e.draggables={},e.droppables={},t.length=0}}}var fi=a().createContext(null),hi=()=>{const e=document.body;return e||gr(),e};const mi={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},gi={separator:"::"};function bi(e,t=gi){const n=a().useId();return Pr(()=>`${e}${t.separator}${n}`,[t.separator,e,n])}var vi=a().createContext(null);function yi(e){const t=(0,r.useRef)(e);return(0,r.useEffect)(()=>{t.current=e}),t}function wi(e){return"IDLE"!==e.phase&&"DROP_ANIMATING"!==e.phase&&e.isDragging}const Ei=9,Si=13,Oi=33,Ci=34,Ai=35,xi=36,Di={[Si]:!0,[Ei]:!0};var Pi=e=>{Di[e.keyCode]&&e.preventDefault()};const Ii=(()=>{const e="visibilitychange";return"undefined"==typeof document?e:[e,`ms${e}`,`webkit${e}`,`moz${e}`,`o${e}`].find(e=>`on${e}`in document)||e})(),Ri={type:"IDLE"};function Ti(){}const ki={[Ci]:!0,[Oi]:!0,[xi]:!0,[Ai]:!0};const _i={type:"IDLE"},Li=["input","button","textarea","select","option","optgroup","video","audio"];function Mi(e,t){if(null==t)return!1;if(Li.includes(t.tagName.toLowerCase()))return!0;const n=t.getAttribute("contenteditable");return"true"===n||""===n||t!==e&&Mi(e,t.parentElement)}function Bi(e,t){const n=t.target;return!!di(n)&&Mi(e,n)}var ji=e=>tr(e.getBoundingClientRect()).center;const Ni=(()=>{const e="matches";return"undefined"==typeof document?e:[e,"msMatchesSelector","webkitMatchesSelector"].find(e=>e in Element.prototype)||e})();function Vi(e,t){return null==e?null:e[Ni](t)?e:Vi(e.parentElement,t)}function Fi(e,t){return e.closest?e.closest(t):Vi(e,t)}function $i(e){e.preventDefault()}function Ui({expected:e,phase:t,isLockActive:n,shouldWarn:r}){return!!n()&&e===t}function zi({lockAPI:e,store:t,registry:n,draggableId:r}){if(e.isClaimed())return!1;const a=n.draggable.findById(r);return!!a&&!!a.options.isEnabled&&!!No(t.getState(),r)}const Wi=[function(e){const t=(0,r.useRef)(Ri),n=(0,r.useRef)(fr),a=Pr(()=>({eventName:"mousedown",fn:function(t){if(t.defaultPrevented)return;if(0!==t.button)return;if(t.ctrlKey||t.metaKey||t.shiftKey||t.altKey)return;const r=e.findClosestDraggableId(t);if(!r)return;const a=e.tryGetLock(r,s,{sourceEvent:t});if(!a)return;t.preventDefault();const o={x:t.clientX,y:t.clientY};n.current(),u(a,o)}}),[e]),o=Pr(()=>({eventName:"webkitmouseforcewillbegin",fn:t=>{if(t.defaultPrevented)return;const n=e.findClosestDraggableId(t);if(!n)return;const r=e.findOptionsForDraggable(n);r&&(r.shouldRespectForcePress||e.canGetLock(n)&&t.preventDefault())}}),[e]),i=Ir(function(){n.current=hr(window,[o,a],{passive:!1,capture:!0})},[o,a]),s=Ir(()=>{"IDLE"!==t.current.type&&(t.current=Ri,n.current(),i())},[i]),l=Ir(()=>{const e=t.current;s(),"DRAGGING"===e.type&&e.actions.cancel({shouldBlockNextClick:!0}),"PENDING"===e.type&&e.actions.abort()},[s]),c=Ir(function(){const e=function({cancel:e,completed:t,getPhase:n,setPhase:r}){return[{eventName:"mousemove",fn:e=>{const{button:t,clientX:a,clientY:o}=e;if(0!==t)return;const i={x:a,y:o},s=n();if("DRAGGING"===s.type)return e.preventDefault(),void s.actions.move(i);if("PENDING"!==s.type&&gr(),l=s.point,c=i,!(Math.abs(c.x-l.x)>=5||Math.abs(c.y-l.y)>=5))return;var l,c;e.preventDefault();const u=s.actions.fluidLift(i);r({type:"DRAGGING",actions:u})}},{eventName:"mouseup",fn:r=>{const a=n();"DRAGGING"===a.type?(r.preventDefault(),a.actions.drop({shouldBlockNextClick:!0}),t()):e()}},{eventName:"mousedown",fn:t=>{"DRAGGING"===n().type&&t.preventDefault(),e()}},{eventName:"keydown",fn:t=>{if("PENDING"!==n().type)return 27===t.keyCode?(t.preventDefault(),void e()):void Pi(t);e()}},{eventName:"resize",fn:e},{eventName:"scroll",options:{passive:!0,capture:!1},fn:()=>{"PENDING"===n().type&&e()}},{eventName:"webkitmouseforcedown",fn:t=>{const r=n();"IDLE"===r.type&&gr(),r.actions.shouldRespectForcePress()?e():t.preventDefault()}},{eventName:Ii,fn:e}]}({cancel:l,completed:s,getPhase:()=>t.current,setPhase:e=>{t.current=e}});n.current=hr(window,e,{capture:!0,passive:!1})},[l,s]),u=Ir(function(e,n){"IDLE"!==t.current.type&&gr(),t.current={type:"PENDING",point:n,actions:e},c()},[c]);ii(function(){return i(),function(){n.current()}},[i])},function(e){const t=(0,r.useRef)(Ti),n=Pr(()=>({eventName:"keydown",fn:function(n){if(n.defaultPrevented)return;if(32!==n.keyCode)return;const r=e.findClosestDraggableId(n);if(!r)return;const o=e.tryGetLock(r,l,{sourceEvent:n});if(!o)return;n.preventDefault();let i=!0;const s=o.snapLift();function l(){i||gr(),i=!1,t.current(),a()}t.current(),t.current=hr(window,function(e,t){function n(){t(),e.cancel()}return[{eventName:"keydown",fn:r=>27===r.keyCode?(r.preventDefault(),void n()):32===r.keyCode?(r.preventDefault(),t(),void e.drop()):40===r.keyCode?(r.preventDefault(),void e.moveDown()):38===r.keyCode?(r.preventDefault(),void e.moveUp()):39===r.keyCode?(r.preventDefault(),void e.moveRight()):37===r.keyCode?(r.preventDefault(),void e.moveLeft()):void(ki[r.keyCode]?r.preventDefault():Pi(r))},{eventName:"mousedown",fn:n},{eventName:"mouseup",fn:n},{eventName:"click",fn:n},{eventName:"touchstart",fn:n},{eventName:"resize",fn:n},{eventName:"wheel",fn:n,options:{passive:!0}},{eventName:Ii,fn:n}]}(s,l),{capture:!0,passive:!1})}}),[e]),a=Ir(function(){t.current=hr(window,[n],{passive:!1,capture:!0})},[n]);ii(function(){return a(),function(){t.current()}},[a])},function(e){const t=(0,r.useRef)(_i),n=(0,r.useRef)(fr),a=Ir(function(){return t.current},[]),o=Ir(function(e){t.current=e},[]),i=Pr(()=>({eventName:"touchstart",fn:function(t){if(t.defaultPrevented)return;const r=e.findClosestDraggableId(t);if(!r)return;const a=e.tryGetLock(r,l,{sourceEvent:t});if(!a)return;const o=t.touches[0],{clientX:i,clientY:s}=o,c={x:i,y:s};n.current(),p(a,c)}}),[e]),s=Ir(function(){n.current=hr(window,[i],{capture:!0,passive:!1})},[i]),l=Ir(()=>{const e=t.current;"IDLE"!==e.type&&("PENDING"===e.type&&clearTimeout(e.longPressTimerId),o(_i),n.current(),s())},[s,o]),c=Ir(()=>{const e=t.current;l(),"DRAGGING"===e.type&&e.actions.cancel({shouldBlockNextClick:!0}),"PENDING"===e.type&&e.actions.abort()},[l]),u=Ir(function(){const e={capture:!0,passive:!1},t={cancel:c,completed:l,getPhase:a},r=hr(window,function({cancel:e,completed:t,getPhase:n}){return[{eventName:"touchmove",options:{capture:!1},fn:t=>{const r=n();if("DRAGGING"!==r.type)return void e();r.hasMoved=!0;const{clientX:a,clientY:o}=t.touches[0],i={x:a,y:o};t.preventDefault(),r.actions.move(i)}},{eventName:"touchend",fn:r=>{const a=n();"DRAGGING"===a.type?(r.preventDefault(),a.actions.drop({shouldBlockNextClick:!0}),t()):e()}},{eventName:"touchcancel",fn:t=>{"DRAGGING"===n().type?(t.preventDefault(),e()):e()}},{eventName:"touchforcechange",fn:t=>{const r=n();"IDLE"===r.type&&gr();const a=t.touches[0];if(!a)return;if(!(a.force>=.15))return;const o=r.actions.shouldRespectForcePress();if("PENDING"!==r.type)return o?r.hasMoved?void t.preventDefault():void e():void t.preventDefault();o&&e()}},{eventName:Ii,fn:e}]}(t),e),o=hr(window,function({cancel:e,getPhase:t}){return[{eventName:"orientationchange",fn:e},{eventName:"resize",fn:e},{eventName:"contextmenu",fn:e=>{e.preventDefault()}},{eventName:"keydown",fn:n=>{"DRAGGING"===t().type?(27===n.keyCode&&n.preventDefault(),e()):e()}},{eventName:Ii,fn:e}]}(t),e);n.current=function(){r(),o()}},[c,a,l]),d=Ir(function(){const e=a();"PENDING"!==e.type&&gr();const t=e.actions.fluidLift(e.point);o({type:"DRAGGING",actions:t,hasMoved:!1})},[a,o]),p=Ir(function(e,t){"IDLE"!==a().type&&gr();const n=setTimeout(d,120);o({type:"PENDING",point:t,actions:e,longPressTimerId:n}),u()},[u,a,o,d]);ii(function(){return s(),function(){n.current();const e=a();"PENDING"===e.type&&(clearTimeout(e.longPressTimerId),o(_i))}},[a,s,o]),ii(function(){return hr(window,[{eventName:"touchmove",fn:()=>{},options:{capture:!1,passive:!1}}])},[])}];function Hi({contextId:e,store:t,registry:n,customSensors:a,enableDefaultSensors:o}){const i=[...o?Wi:[],...a||[]],s=(0,r.useState)(()=>function(){let e=null;function t(){e||gr(),e=null}return{isClaimed:function(){return Boolean(e)},isActive:function(t){return t===e},claim:function(t){e&&gr();const n={abandon:t};return e=n,n},release:t,tryAbandon:function(){e&&(e.abandon(),t())}}}())[0],l=Ir(function(e,t){wi(e)&&!wi(t)&&s.tryAbandon()},[s]);ii(function(){let e=t.getState();return t.subscribe(()=>{const n=t.getState();l(e,n),e=n})},[s,t,l]),ii(()=>s.tryAbandon,[s.tryAbandon]);const c=Ir(e=>zi({lockAPI:s,registry:n,store:t,draggableId:e}),[s,n,t]),u=Ir((r,a,o)=>function({lockAPI:e,contextId:t,store:n,registry:r,draggableId:a,forceSensorStop:o,sourceEvent:i}){if(!zi({lockAPI:e,store:n,registry:r,draggableId:a}))return null;const s=r.draggable.getById(a),l=function(e,t){const n=`[${ni.contextId}="${e}"]`,r=ci(document,n).find(e=>e.getAttribute(ni.id)===t);return r&&di(r)?r:null}(t,s.descriptor.id);if(!l)return null;if(i&&!s.options.canDragInteractiveElements&&Bi(l,i))return null;const c=e.claim(o||fr);let u="PRE_DRAG";function d(){return s.options.shouldRespectForcePress}function p(){return e.isActive(c)}const f=function(e,t){Ui({expected:e,phase:u,isLockActive:p,shouldWarn:!0})&&n.dispatch(t())}.bind(null,"DRAGGING");function h(t){function r(){e.release(),u="COMPLETED"}function a(e,a={shouldBlockNextClick:!1}){if(t.cleanup(),a.shouldBlockNextClick){const e=hr(window,[{eventName:"click",fn:$i,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(e)}r(),n.dispatch(so({reason:e}))}return"PRE_DRAG"!==u&&(r(),gr()),n.dispatch((e=>({type:"LIFT",payload:e}))(t.liftActionArgs)),u="DRAGGING",{isActive:()=>Ui({expected:"DRAGGING",phase:u,isLockActive:p,shouldWarn:!1}),shouldRespectForcePress:d,drop:e=>a("DROP",e),cancel:e=>a("CANCEL",e),...t.actions}}return{isActive:()=>Ui({expected:"PRE_DRAG",phase:u,isLockActive:p,shouldWarn:!1}),shouldRespectForcePress:d,fluidLift:function(e){const t=dr(e=>{f(()=>to({client:e}))});return{...h({liftActionArgs:{id:a,clientSelection:e,movementMode:"FLUID"},cleanup:()=>t.cancel(),actions:{move:t}}),move:t}},snapLift:function(){const e={moveUp:()=>f(no),moveRight:()=>f(ao),moveDown:()=>f(ro),moveLeft:()=>f(oo)};return h({liftActionArgs:{id:a,clientSelection:ji(l),movementMode:"SNAP"},cleanup:fr,actions:e})},abort:function(){Ui({expected:"PRE_DRAG",phase:u,isLockActive:p,shouldWarn:!0})&&e.release()}}}({lockAPI:s,registry:n,contextId:e,store:t,draggableId:r,forceSensorStop:a||null,sourceEvent:o&&o.sourceEvent?o.sourceEvent:null}),[e,s,n,t]),d=Ir(t=>function(e,t){const n=function(e,t){const n=t.target;if(!((r=n)instanceof ui(r).Element))return null;var r;const a=function(e){return`[${ti.contextId}="${e}"]`}(e),o=Fi(n,a);return o&&di(o)?o:null}(e,t);return n?n.getAttribute(ti.draggableId):null}(e,t),[e]),p=Ir(e=>{const t=n.draggable.findById(e);return t?t.options:null},[n.draggable]),f=Ir(function(){s.isClaimed()&&(s.tryAbandon(),"IDLE"!==t.getState().phase&&t.dispatch({type:"FLUSH",payload:null}))},[s,t]),h=Ir(()=>s.isClaimed(),[s]),m=Pr(()=>({canGetLock:c,tryGetLock:u,findClosestDraggableId:d,findOptionsForDraggable:p,tryReleaseLock:f,isLockClaimed:h}),[c,u,d,p,f,h]);for(let e=0;e<i.length;e++)i[e](m)}function Gi(e){return e.current||gr(),e.current}function qi(e){const{contextId:t,setCallbacks:n,sensors:o,nonce:i,dragHandleUsageInstructions:s}=e,l=(0,r.useRef)(null),c=yi(e),u=Ir(()=>(e=>({onBeforeCapture:t=>{(0,pn.flushSync)(()=>{e.onBeforeCapture&&e.onBeforeCapture(t)})},onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}))(c.current),[c]),d=Ir(()=>(e=>({...$o,...e.autoScrollerOptions,durationDampening:{...$o.durationDampening,...e.autoScrollerOptions}}))(c.current),[c]),p=function(e){const t=Pr(()=>(e=>`rfd-announcement-${e}`)(e),[e]),n=(0,r.useRef)(null);return(0,r.useEffect)(function(){const e=document.createElement("div");return n.current=e,e.id=t,e.setAttribute("aria-live","assertive"),e.setAttribute("aria-atomic","true"),(0,un.A)(e.style,mi),hi().appendChild(e),function(){setTimeout(function(){const t=hi();t.contains(e)&&t.removeChild(e),e===n.current&&(n.current=null)})}},[t]),Ir(e=>{const t=n.current;t&&(t.textContent=e)},[])}(t),f=function({contextId:e,text:t}){const n=bi("hidden-text",{separator:"-"}),a=Pr(()=>function({contextId:e,uniqueId:t}){return`rfd-hidden-text-${e}-${t}`}({contextId:e,uniqueId:n}),[n,e]);return(0,r.useEffect)(function(){const e=document.createElement("div");return e.id=a,e.textContent=t,e.style.display="none",hi().appendChild(e),function(){const t=hi();t.contains(e)&&t.removeChild(e)}},[a,t]),a}({contextId:t,text:s}),h=function(e,t){const n=Pr(()=>(e=>{const t=(n=e,e=>`[${e}="${n}"]`);var n;const r=(()=>{const e="\n      cursor: -webkit-grab;\n      cursor: grab;\n    ";return{selector:t(ti.contextId),styles:{always:"\n          -webkit-touch-callout: none;\n          -webkit-tap-highlight-color: rgba(0,0,0,0);\n          touch-action: manipulation;\n        ",resting:e,dragging:"pointer-events: none;",dropAnimating:e}}})(),a=[(()=>{const e=`\n      transition: ${mo.outOfTheWay};\n    `;return{selector:t(ni.contextId),styles:{dragging:e,dropAnimating:e,userCancel:e}}})(),r,{selector:t(ri.contextId),styles:{always:"overflow-anchor: none;"}},{selector:"body",styles:{dragging:"\n        cursor: grabbing;\n        cursor: -webkit-grabbing;\n        user-select: none;\n        -webkit-user-select: none;\n        -moz-user-select: none;\n        -ms-user-select: none;\n        overflow-anchor: none;\n      "}}];return{always:oi(a,"always"),resting:oi(a,"resting"),dragging:oi(a,"dragging"),dropAnimating:oi(a,"dropAnimating"),userCancel:oi(a,"userCancel")}})(e),[e]),a=(0,r.useRef)(null),o=(0,r.useRef)(null),i=Ir(Wr(e=>{const t=o.current;t||gr(),t.textContent=e}),[]),s=Ir(e=>{const t=a.current;t||gr(),t.textContent=e},[]);ii(()=>{(a.current||o.current)&&gr();const r=li(t),l=li(t);return a.current=r,o.current=l,r.setAttribute(`${ei}-always`,e),l.setAttribute(`${ei}-dynamic`,e),si().appendChild(r),si().appendChild(l),s(n.always),i(n.resting),()=>{const e=e=>{const t=e.current;t||gr(),si().removeChild(t),e.current=null};e(a),e(o)}},[t,s,i,n.always,n.resting,e]);const l=Ir(()=>i(n.dragging),[i,n.dragging]),c=Ir(e=>{i("DROP"!==e?n.userCancel:n.dropAnimating)},[i,n.dropAnimating,n.userCancel]),u=Ir(()=>{o.current&&i(n.resting)},[i,n.resting]);return Pr(()=>({dragging:l,dropping:c,resting:u}),[l,c,u])}(t,i),m=Ir(e=>{Gi(l).dispatch(e)},[]),g=Pr(()=>(0,Jn.bindActionCreators)({publishWhileDragging:Ka,updateDroppableScroll:Za,updateDroppableIsEnabled:Ja,updateDroppableIsCombineEnabled:eo,collectionStarting:Xa},m),[m]),b=function(){const e=Pr(pi,[]);return(0,r.useEffect)(()=>function(){e.clean()},[e]),e}(),v=Pr(()=>jo(b,g),[b,g]),y=Pr(()=>(({scrollDroppable:e,scrollWindow:t,move:n,getAutoScrollerOptions:r})=>{const a=(({scrollWindow:e,scrollDroppable:t,getAutoScrollerOptions:n=()=>$o})=>{const r=dr(e),a=dr(t);let o=null;const i=e=>{o||gr();const{shouldUseTimeDampening:t,dragStartTime:i}=o;Zo({state:e,scrollWindow:r,scrollDroppable:a,dragStartTime:i,shouldUseTimeDampening:t,getAutoScrollerOptions:n})};return{start:e=>{o&&gr();const t=Date.now();let r=!1;const a=()=>{r=!0};Zo({state:e,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:a,scrollDroppable:a,getAutoScrollerOptions:n}),o={dragStartTime:t,shouldUseTimeDampening:r},r&&i(e)},stop:()=>{o&&(r.cancel(),a.cancel(),o=null)},scroll:i}})({scrollWindow:t,scrollDroppable:e,getAutoScrollerOptions:r}),o=Jo({move:n,scrollWindow:t,scrollDroppable:e});return{scroll:e=>{r().disabled||"DRAGGING"!==e.phase||("FLUID"!==e.movementMode?e.scrollJumpRequest&&o(e):a.scroll(e))},start:a.start,stop:a.stop}})({scrollWindow:Vo,scrollDroppable:v.scrollDroppable,getAutoScrollerOptions:d,...(0,Jn.bindActionCreators)({move:to},m)}),[v.scrollDroppable,m,d]),w=function(e){const t=(0,r.useRef)({}),n=(0,r.useRef)(null),a=(0,r.useRef)(null),o=(0,r.useRef)(!1),i=Ir(function(e,n){const r={id:e,focus:n};return t.current[e]=r,function(){const n=t.current;n[e]!==r&&delete n[e]}},[]),s=Ir(function(t){const n=function(e,t){const n=`[${ti.contextId}="${e}"]`,r=ci(document,n);if(!r.length)return null;const a=r.find(e=>e.getAttribute(ti.draggableId)===t);return a&&di(a)?a:null}(e,t);n&&n!==document.activeElement&&n.focus()},[e]),l=Ir(function(e,t){n.current===e&&(n.current=t)},[]),c=Ir(function(){a.current||o.current&&(a.current=requestAnimationFrame(()=>{a.current=null;const e=n.current;e&&s(e)}))},[s]),u=Ir(function(e){n.current=null;const t=document.activeElement;t&&t.getAttribute(ti.draggableId)===e&&(n.current=e)},[]);return ii(()=>(o.current=!0,function(){o.current=!1;const e=a.current;e&&cancelAnimationFrame(e)}),[]),Pr(()=>({register:i,tryRecordFocus:u,tryRestoreFocusRecorded:c,tryShiftRecord:l}),[i,u,c,l])}(t),E=Pr(()=>ko({announce:p,autoScroller:y,dimensionMarshal:v,focusMarshal:w,getResponders:u,styleMarshal:h}),[p,y,v,w,u,h]);l.current=E;const S=Ir(()=>{const e=Gi(l);"IDLE"!==e.getState().phase&&e.dispatch({type:"FLUSH",payload:null})},[]),O=Ir(()=>{const e=Gi(l).getState();return"DROP_ANIMATING"===e.phase||"IDLE"!==e.phase&&e.isDragging},[]);n(Pr(()=>({isDragging:O,tryAbort:S}),[O,S]));const C=Ir(e=>No(Gi(l).getState(),e),[]),A=Ir(()=>_a(Gi(l).getState()),[]),x=Pr(()=>({marshal:v,focus:w,contextId:t,canLift:C,isMovementAllowed:A,dragHandleUsageInstructionsId:f,registry:b}),[t,v,f,w,C,A,b]);return Hi({contextId:t,store:E,registry:b,customSensors:o||null,enableDefaultSensors:!1!==e.enableDefaultSensors}),(0,r.useEffect)(()=>S,[S]),a().createElement(vi.Provider,{value:x},a().createElement(er.Provider,{context:fi,store:E},e.children))}function Qi(e){const t=a().useId(),n=e.dragHandleUsageInstructions||Sr;return a().createElement(br,null,r=>a().createElement(qi,{nonce:e.nonce,contextId:t,setCallbacks:r,dragHandleUsageInstructions:n,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd,autoScrollerOptions:e.autoScrollerOptions},e.children))}const Yi=(e,t)=>t?mo.drop(t.duration):e?mo.snap:mo.fluid,Ki=(e,t)=>{if(e)return t?co:uo};function Xi(e){return"DRAGGING"===e.type?function(e){const t=e.dimension.client,{offset:n,combineWith:r,dropping:a}=e,o=Boolean(r),i=(e=>null!=e.forceShouldAnimate?e.forceShouldAnimate:"SNAP"===e.mode)(e),s=Boolean(a),l=s?((e,t)=>{const n=go(e);if(n)return t?`${n} scale(${po})`:n})(n,o):bo(n);return{position:"fixed",top:t.marginBox.top,left:t.marginBox.left,boxSizing:"border-box",width:t.borderBox.width,height:t.borderBox.height,transition:Yi(i,a),transform:l,opacity:Ki(o,s),zIndex:s?4500:5e3,pointerEvents:"none"}}(e):{transform:bo((t=e).offset),transition:t.shouldAnimateDisplacement?void 0:"none"};var t}var Zi=a().createContext(null);function Ji(e){const t=(0,r.useContext)(e);return t||gr(),t}function es(e){e.preventDefault()}var ts=(e,t)=>e===t,ns=e=>{const{combine:t,destination:n}=e;return n?n.droppableId:t?t.droppableId:null};function rs(e=null){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}const as={mapped:{type:"SECONDARY",offset:Rr,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:rs(null)}},os={dropAnimationFinished:()=>({type:"DROP_ANIMATION_FINISHED",payload:null})},is=(0,er.connect)(()=>{const e=function(){const e=Wr((e,t)=>({x:e,y:t})),t=Wr((e,t,n=null,r=null,a=null)=>({isDragging:!0,isClone:t,isDropAnimating:Boolean(a),dropAnimation:a,mode:e,draggingOver:n,combineWith:r,combineTargetFor:null})),n=Wr((e,n,r,a,o=null,i=null,s=null)=>({mapped:{type:"DRAGGING",dropping:null,draggingOver:o,combineWith:i,mode:n,offset:e,dimension:r,forceShouldAnimate:s,snapshot:t(n,a,o,i,null)}}));return(r,a)=>{if(wi(r)){if(r.critical.draggable.id!==a.draggableId)return null;const t=r.current.client.offset,i=r.dimensions.draggables[a.draggableId],s=Ta(r.impact),l=(o=r.impact).at&&"COMBINE"===o.at.type?o.at.combine.draggableId:null,c=r.forceShouldAnimate;return n(e(t.x,t.y),r.movementMode,i,a.isClone,s,l,c)}var o;if("DROP_ANIMATING"===r.phase){const e=r.completed;if(e.result.draggableId!==a.draggableId)return null;const n=a.isClone,o=r.dimensions.draggables[a.draggableId],i=e.result,s=i.mode,l=ns(i),c=(e=>e.combine?e.combine.draggableId:null)(i),u={duration:r.dropDuration,curve:lo,moveTo:r.newHomeClientOffset,opacity:c?co:null,scale:c?po:null};return{mapped:{type:"DRAGGING",offset:r.newHomeClientOffset,dimension:o,dropping:u,draggingOver:l,combineWith:c,mode:s,forceShouldAnimate:null,snapshot:t(s,n,l,c,u)}}}return null}}(),t=function(){const e=Wr((e,t)=>({x:e,y:t})),t=Wr(rs),n=Wr((e,n=null,r)=>({mapped:{type:"SECONDARY",offset:e,combineTargetFor:n,shouldAnimateDisplacement:r,snapshot:t(n)}})),r=e=>e?n(Rr,e,!0):null,a=(t,a,o,i)=>{const s=o.displaced.visible[t],l=Boolean(i.inVirtualList&&i.effected[t]),c=Xr(o),u=c&&c.draggableId===t?a:null;if(!s){if(!l)return r(u);if(o.displaced.invisible[t])return null;const a=Lr(i.displacedBy.point),s=e(a.x,a.y);return n(s,u,!0)}if(l)return r(u);const d=o.displacedBy.point,p=e(d.x,d.y);return n(p,u,s.shouldAnimate)};return(e,t)=>{if(wi(e))return e.critical.draggable.id===t.draggableId?null:a(t.draggableId,e.critical.draggable.id,e.impact,e.afterCritical);if("DROP_ANIMATING"===e.phase){const n=e.completed;return n.result.draggableId===t.draggableId?null:a(t.draggableId,n.result.draggableId,n.impact,n.afterCritical)}return null}}();return(n,r)=>e(n,r)||t(n,r)||as},os,null,{context:fi,areStatePropsEqual:ts})(e=>{const t=(0,r.useRef)(null),n=Ir((e=null)=>{t.current=e},[]),o=Ir(()=>t.current,[]),{contextId:i,dragHandleUsageInstructionsId:s,registry:l}=Ji(vi),{type:c,droppableId:u}=Ji(Zi),d=Pr(()=>({id:e.draggableId,index:e.index,type:c,droppableId:u}),[e.draggableId,e.index,c,u]),{children:p,draggableId:f,isEnabled:h,shouldRespectForcePress:m,canDragInteractiveElements:g,isClone:b,mapped:v,dropAnimationFinished:y}=e;b||function(e){const t=bi("draggable"),{descriptor:n,registry:a,getDraggableRef:o,canDragInteractiveElements:i,shouldRespectForcePress:s,isEnabled:l}=e,c=Pr(()=>({canDragInteractiveElements:i,shouldRespectForcePress:s,isEnabled:l}),[i,l,s]),u=Ir(e=>{const t=o();return t||gr(),function(e,t,n=Rr){const r=window.getComputedStyle(t),a=t.getBoundingClientRect(),o=cr(a,r),i=lr(o,n);return{descriptor:e,placeholder:{client:o,tagName:t.tagName.toLowerCase(),display:r.display},displaceBy:{x:o.marginBox.width,y:o.marginBox.height},client:o,page:i}}(n,t,e)},[n,o]),d=Pr(()=>({uniqueId:t,descriptor:n,options:c,getDimension:u}),[n,u,c,t]),p=(0,r.useRef)(d),f=(0,r.useRef)(!0);ii(()=>(a.draggable.register(p.current),()=>a.draggable.unregister(p.current)),[a.draggable]),ii(()=>{if(f.current)return void(f.current=!1);const e=p.current;p.current=d,a.draggable.update(d,e)},[d,a.draggable])}(Pr(()=>({descriptor:d,registry:l,getDraggableRef:o,canDragInteractiveElements:g,shouldRespectForcePress:m,isEnabled:h}),[d,l,o,g,m,h]));const w=Pr(()=>h?{tabIndex:0,role:"button","aria-describedby":s,"data-rfd-drag-handle-draggable-id":f,"data-rfd-drag-handle-context-id":i,draggable:!1,onDragStart:es}:null,[i,s,f,h]),E=Ir(e=>{"DRAGGING"===v.type&&v.dropping&&"transform"===e.propertyName&&(0,pn.flushSync)(y)},[y,v]),S=Pr(()=>{const e=Xi(v),t="DRAGGING"===v.type&&v.dropping?E:void 0;return{innerRef:n,draggableProps:{"data-rfd-draggable-context-id":i,"data-rfd-draggable-id":f,style:e,onTransitionEnd:t},dragHandleProps:w}},[i,w,f,v,E,n]),O=Pr(()=>({draggableId:d.id,type:d.type,source:{index:d.index,droppableId:d.droppableId}}),[d.droppableId,d.id,d.index,d.type]);return a().createElement(a().Fragment,null,p(S,v.snapshot,O))});function ss(e){return Ji(Zi).isUsingCloneFor!==e.draggableId||e.isClone?a().createElement(is,e):null}function ls(e){const t="boolean"!=typeof e.isDragDisabled||!e.isDragDisabled,n=Boolean(e.disableInteractiveElementBlocking),r=Boolean(e.shouldRespectForcePress);return a().createElement(ss,(0,un.A)({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:n,shouldRespectForcePress:r}))}const cs=e=>t=>e===t,us=cs("scroll"),ds=cs("auto"),ps=(cs("visible"),(e,t)=>t(e.overflowX)||t(e.overflowY)),fs=e=>null==e||e===document.body||e===document.documentElement?null:(e=>{const t=window.getComputedStyle(e),n={overflowX:t.overflowX,overflowY:t.overflowY};return ps(n,us)||ps(n,ds)})(e)?e:fs(e.parentElement);var hs=e=>({x:e.scrollLeft,y:e.scrollTop});const ms=e=>!!e&&("fixed"===window.getComputedStyle(e).position||ms(e.parentElement));const gs={passive:!1},bs={passive:!0};var vs=e=>e.shouldPublishImmediately?gs:bs;const ys=e=>e&&e.env.closestScrollable||null;function ws(e){const t=(0,r.useRef)(null),n=Ji(vi),a=bi("droppable"),{registry:o,marshal:i}=n,s=yi(e),l=Pr(()=>({id:e.droppableId,type:e.type,mode:e.mode}),[e.droppableId,e.mode,e.type]),c=(0,r.useRef)(l),u=Pr(()=>Wr((e,n)=>{t.current||gr();const r={x:e,y:n};i.updateDroppableScroll(l.id,r)}),[l.id,i]),d=Ir(()=>{const e=t.current;return e&&e.env.closestScrollable?hs(e.env.closestScrollable):Rr},[]),p=Ir(()=>{const e=d();u(e.x,e.y)},[d,u]),f=Pr(()=>dr(p),[p]),h=Ir(()=>{const e=t.current,n=ys(e);e&&n||gr(),e.scrollOptions.shouldPublishImmediately?p():f()},[f,p]),m=Ir((e,r)=>{t.current&&gr();const a=s.current,o=a.getDroppableRef();o||gr();const i=(e=>({closestScrollable:fs(e),isFixedOnPage:ms(e)}))(o),c={ref:o,descriptor:l,env:i,scrollOptions:r};t.current=c;const u=(({ref:e,descriptor:t,env:n,windowScroll:r,direction:a,isDropDisabled:o,isCombineEnabled:i,shouldClipSubject:s})=>{const l=n.closestScrollable,c=((e,t)=>{const n=ur(e);if(!t)return n;if(e!==t)return n;const r=n.paddingBox.top-t.scrollTop,a=n.paddingBox.left-t.scrollLeft,o=r+t.scrollHeight,i=a+t.scrollWidth,s=nr({top:r,right:i,bottom:o,left:a},n.border);return or({borderBox:s,margin:n.margin,border:n.border,padding:n.padding})})(e,l),u=lr(c,r),d=(()=>{if(!l)return null;const e=ur(l),t={scrollHeight:l.scrollHeight,scrollWidth:l.scrollWidth};return{client:e,page:lr(e,r),scroll:hs(l),scrollSize:t,shouldClipSubject:s}})(),p=(({descriptor:e,isEnabled:t,isCombineEnabled:n,isFixedOnPage:r,direction:a,client:o,page:i,closest:s})=>{const l=(()=>{if(!s)return null;const{scrollSize:e,client:t}=s,n=_o({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,height:t.paddingBox.height,width:t.paddingBox.width});return{pageMarginBox:s.page.marginBox,frameClient:t,scrollSize:e,shouldClipSubject:s.shouldClipSubject,scroll:{initial:s.scroll,current:s.scroll,max:n,diff:{value:Rr,displacement:Rr}}}})(),c="vertical"===a?ia:sa;return{descriptor:e,isCombineEnabled:n,isFixedOnPage:r,axis:c,isEnabled:t,client:o,page:i,frame:l,subject:Ur({page:i,withPlaceholder:null,axis:c,frame:l})}})({descriptor:t,isEnabled:!o,isCombineEnabled:i,isFixedOnPage:n.isFixedOnPage,direction:a,client:c,page:u,closest:d});return p})({ref:o,descriptor:l,env:i,windowScroll:e,direction:a.direction,isDropDisabled:a.isDropDisabled,isCombineEnabled:a.isCombineEnabled,shouldClipSubject:!a.ignoreContainerClipping}),d=i.closestScrollable;return d&&(d.setAttribute(ai.contextId,n.contextId),d.addEventListener("scroll",h,vs(c.scrollOptions))),u},[n.contextId,l,h,s]),g=Ir(()=>{const e=t.current,n=ys(e);return e&&n||gr(),hs(n)},[]),b=Ir(()=>{const e=t.current;e||gr();const n=ys(e);t.current=null,n&&(f.cancel(),n.removeAttribute(ai.contextId),n.removeEventListener("scroll",h,vs(e.scrollOptions)))},[h,f]),v=Ir(e=>{const n=t.current;n||gr();const r=ys(n);r||gr(),r.scrollTop+=e.y,r.scrollLeft+=e.x},[]),y=Pr(()=>({getDimensionAndWatchScroll:m,getScrollWhileDragging:g,dragStopped:b,scroll:v}),[b,m,g,v]),w=Pr(()=>({uniqueId:a,descriptor:l,callbacks:y}),[y,l,a]);ii(()=>(c.current=w.descriptor,o.droppable.register(w),()=>{t.current&&b(),o.droppable.unregister(w)}),[y,l,b,w,i,o.droppable]),ii(()=>{t.current&&i.updateDroppableIsEnabled(c.current.id,!e.isDropDisabled)},[e.isDropDisabled,i]),ii(()=>{t.current&&i.updateDroppableIsCombineEnabled(c.current.id,e.isCombineEnabled)},[e.isCombineEnabled,i])}function Es(){}const Ss={width:0,height:0,margin:{top:0,right:0,bottom:0,left:0}};var Os=a().memo(e=>{const t=(0,r.useRef)(null),n=Ir(()=>{t.current&&(clearTimeout(t.current),t.current=null)},[]),{animate:o,onTransitionEnd:i,onClose:s,contextId:l}=e,[c,u]=(0,r.useState)("open"===e.animate);(0,r.useEffect)(()=>c?"open"!==o?(n(),u(!1),Es):t.current?Es:(t.current=setTimeout(()=>{t.current=null,u(!1)}),n):Es,[o,c,n]);const d=Ir(e=>{"height"===e.propertyName&&(i(),"close"===o&&s())},[o,s,i]),p=(({isAnimatingOpenOnMount:e,placeholder:t,animate:n})=>{const r=(({isAnimatingOpenOnMount:e,placeholder:t,animate:n})=>e||"close"===n?Ss:{height:t.client.borderBox.height,width:t.client.borderBox.width,margin:t.client.margin})({isAnimatingOpenOnMount:e,placeholder:t,animate:n});return{display:t.display,boxSizing:"border-box",width:r.width,height:r.height,marginTop:r.margin.top,marginRight:r.margin.right,marginBottom:r.margin.bottom,marginLeft:r.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:"none"!==n?mo.placeholder:null}})({isAnimatingOpenOnMount:c,animate:e.animate,placeholder:e.placeholder});return a().createElement(e.placeholder.tagName,{style:p,"data-rfd-placeholder-context-id":l,onTransitionEnd:d,ref:e.innerRef})});class Cs extends a().PureComponent{constructor(...e){super(...e),this.state={isVisible:Boolean(this.props.on),data:this.props.on,animate:this.props.shouldAnimate&&this.props.on?"open":"none"},this.onClose=()=>{"close"===this.state.animate&&this.setState({isVisible:!1})}}static getDerivedStateFromProps(e,t){return e.shouldAnimate?e.on?{isVisible:!0,data:e.on,animate:"open"}:t.isVisible?{isVisible:!0,data:t.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:Boolean(e.on),data:e.on,animate:"none"}}render(){if(!this.state.isVisible)return null;const e={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(e)}}const As={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:function(){return document.body||gr(),document.body}},xs=e=>{let t,n={...e};for(t in As)void 0===e[t]&&(n={...n,[t]:As[t]});return n},Ds=(e,t)=>e===t.droppable.type,Ps=(e,t)=>t.draggables[e.draggable.id],Is=(0,er.connect)(()=>{const e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},t={...e,shouldAnimatePlaceholder:!1},n=Wr(e=>({draggableId:e.id,type:e.type,source:{index:e.index,droppableId:e.droppableId}})),r=Wr((r,a,o,i,s,l)=>{const c=s.descriptor.id;if(s.descriptor.droppableId===r){const e=l?{render:l,dragging:n(s.descriptor)}:null,t={isDraggingOver:o,draggingOverWith:o?c:null,draggingFromThisWith:c,isUsingPlaceholder:!0};return{placeholder:s.placeholder,shouldAnimatePlaceholder:!1,snapshot:t,useClone:e}}if(!a)return t;if(!i)return e;const u={isDraggingOver:o,draggingOverWith:c,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:s.placeholder,shouldAnimatePlaceholder:!0,snapshot:u,useClone:null}});return(n,a)=>{const o=xs(a),i=o.droppableId,s=o.type,l=!o.isDropDisabled,c=o.renderClone;if(wi(n)){const e=n.critical;if(!Ds(s,e))return t;const a=Ps(e,n.dimensions),o=Ta(n.impact)===i;return r(i,l,o,o,a,c)}if("DROP_ANIMATING"===n.phase){const e=n.completed;if(!Ds(s,e.critical))return t;const a=Ps(e.critical,n.dimensions);return r(i,l,ns(e.result)===i,Ta(e.impact)===i,a,c)}if("IDLE"===n.phase&&n.completed&&!n.shouldFlush){const r=n.completed;if(!Ds(s,r.critical))return t;const a=Ta(r.impact)===i,o=Boolean(r.impact.at&&"COMBINE"===r.impact.at.type),l=r.critical.droppable.id===i;return a?o?e:t:l?e:t}return t}},{updateViewportMaxScroll:e=>({type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e})},(e,t,n)=>({...xs(n),...e,...t}),{context:fi,areStatePropsEqual:ts})(e=>{const t=(0,r.useContext)(vi);t||gr();const{contextId:n,isMovementAllowed:o}=t,i=(0,r.useRef)(null),s=(0,r.useRef)(null),{children:l,droppableId:c,type:u,mode:d,direction:p,ignoreContainerClipping:f,isDropDisabled:h,isCombineEnabled:m,snapshot:g,useClone:b,updateViewportMaxScroll:v,getContainerForClone:y}=e,w=Ir(()=>i.current,[]),E=Ir((e=null)=>{i.current=e},[]),S=(Ir(()=>s.current,[]),Ir((e=null)=>{s.current=e},[])),O=Ir(()=>{o()&&v({maxScroll:Mo()})},[o,v]);ws({droppableId:c,type:u,mode:d,direction:p,isDropDisabled:h,isCombineEnabled:m,ignoreContainerClipping:f,getDroppableRef:w});const C=Pr(()=>a().createElement(Cs,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},({onClose:e,data:t,animate:r})=>a().createElement(Os,{placeholder:t,onClose:e,innerRef:S,animate:r,contextId:n,onTransitionEnd:O})),[n,O,e.placeholder,e.shouldAnimatePlaceholder,S]),A=Pr(()=>({innerRef:E,placeholder:C,droppableProps:{"data-rfd-droppable-id":c,"data-rfd-droppable-context-id":n}}),[n,c,C,E]),x=b?b.dragging.draggableId:null,D=Pr(()=>({droppableId:c,type:u,isUsingCloneFor:x}),[c,x,u]);return a().createElement(Zi.Provider,{value:D},l(A,g),function(){if(!b)return null;const{dragging:e,render:t}=b,n=a().createElement(ss,{draggableId:e.draggableId,index:e.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(n,r)=>t(n,r,e));return fn().createPortal(n,y())}())});function Rs(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ts(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Rs(e,t,n[t])})}return e}function ks(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t.push.apply(t,n)}return t}(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}const _s=({option:e,onChangeItem:n,iconEnabled:o=!0})=>{const[i,s]=(0,r.useState)(e.value);return a().createElement(a().Fragment,null,a().createElement(t.InlineFieldRow,null,a().createElement(t.InlineField,{label:"Type",labelWidth:6},a().createElement(t.Select,{options:G,onChange:t=>{const r=(null==t?void 0:t.value)===p.NUMBER?Number(e.value)||0:String(e.value);n(ks(Ts({},e),{value:r,id:r.toString(),type:null==t?void 0:t.value}),e)},width:12,value:e.type,"aria-label":z.formElementsEditor.fieldOptionType})),a().createElement(t.InlineField,{invalid:!e.value,label:"Value",labelWidth:6,grow:!0},a().createElement(t.Input,{placeholder:e.type===p.NUMBER?"number":"string",type:e.type===p.NUMBER?"number":void 0,onChange:t=>{s(e.type===p.NUMBER?Number(t.target.value):t.target.value)},onBlur:()=>{const t=i.toString()||Ie.id;n(ks(Ts({},e),{id:t,value:i}),e,!0)},value:i,"data-testid":z.formElementsEditor.fieldOptionValue}))),a().createElement(t.InlineFieldRow,null,o&&a().createElement(t.InlineField,{label:"Icon",labelWidth:6},a().createElement(t.Select,{onChange:t=>{n(ks(Ts({},e),{icon:null==t?void 0:t.value}))},options:K,isClearable:!0,value:e.icon,width:12,"aria-label":z.formElementsEditor.fieldOptionIcon})),a().createElement(t.InlineField,{label:"Label",labelWidth:6,grow:!0,shrink:!0},a().createElement(t.Input,{placeholder:"label",onChange:t=>{n(ks(Ts({},e),{label:t.target.value}))},value:e.label,"data-testid":z.formElementsEditor.fieldOptionLabel}))))},Ls=e=>({content:Fe.css`
      border: 1px solid ${e.colors.border.weak};
      padding: ${e.spacing(1)};
    `,item:Fe.css`
      margin-bottom: ${e.spacing(1)};
    `,dragHandle:Fe.css`
      display: flex;
      margin: ${e.spacing(0,.5)};
    `,dragIcon:Fe.css`
      cursor: grab;
      color: ${e.colors.text.disabled};
      &:hover {
        color: ${e.colors.text};
      }
    `,removeButton:Fe.css`
      margin-left: ${e.spacing(1)};
      color: ${e.colors.text.secondary};
    `});function Ms(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Bs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Ms(e,t,n[t])})}return e}function js(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t.push.apply(t,n)}return t}(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}const Ns=({options:e=[],onChange:o,onChangeItem:i,iconEnabled:s=!0})=>{const l=(0,t.useStyles2)(Ls),[c,u]=(0,r.useState)({}),d=(0,r.useCallback)(t=>{t.destination&&o(Ke(e,t.source.index,t.destination.index))},[e,o]),p=(0,r.useCallback)(e=>{u(t=>js(Bs({},t),{[e]:!t[e]}))},[]);return a().createElement(a().Fragment,null,a().createElement(t.Label,null,"Options"),a().createElement("div",{className:l.content},a().createElement(Qi,{onDragEnd:d},a().createElement(Is,{droppableId:"options"},r=>a().createElement("div",js(Bs({},r.droppableProps),{ref:r.innerRef}),e.map((r,u)=>{const d=!c[r.id];return a().createElement(ls,{key:r.id,draggableId:r.id,index:u},(c,u)=>{return a().createElement("div",js(Bs({},c.draggableProps),{ref:c.innerRef,style:(u.isDragging,f=c.draggableProps.style,Bs({},f)),className:l.item}),a().createElement(n.SD,{fill:"solid",headerTestId:z.formElementsEditor.optionLabel(r.id),contentTestId:z.formElementsEditor.optionContent(r.id),isOpen:d,onToggle:()=>p(r.id),title:a().createElement(a().Fragment,null,r.label," [",r.id,"]"),actions:a().createElement(a().Fragment,null,a().createElement(t.IconButton,{name:"trash-alt",variant:"secondary",size:"sm",className:l.removeButton,"data-testid":z.formElementsEditor.buttonRemoveOption,onClick:()=>o(null==e?void 0:e.filter(e=>e.id!==r.id)),"aria-label":"Remove"}),a().createElement("div",Bs({className:l.dragHandle},c.dragHandleProps),a().createElement(t.Icon,{title:"Drag and drop to reorder",name:"draggabledots",size:"lg",className:l.dragIcon})))},a().createElement(_s,{key:r.id,option:r,onChangeItem:i,iconEnabled:s})));var f})}),r.placeholder))),a().createElement(t.Button,{variant:"secondary",onClick:()=>{const t=js(Bs({},Ie),{type:e.length?e[0].type:Ie.type});o(e.concat(t))},icon:"plus","data-testid":z.formElementsEditor.buttonAddOption,size:"sm",disabled:e.some(e=>e.id===Ie.id)},"Add Option")))};function Vs(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Vs(e,t,n[t])})}return e}function $s(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t.push.apply(t,n)}return t}(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}const Us=({value:e,onChange:n,data:o})=>{const i=(0,r.useMemo)(()=>{const t=null==e?void 0:e.source,n=o.reduce((e,t)=>e.concat(t.fields.map(e=>({value:`${t.refId}:${e.name}`,fieldName:e.name,label:`${t.refId}:${e.name}`,source:t.refId}))),[]);if(t){const e=o.find(e=>e.refId===t);return{valueOptions:n,labelOptions:null==e?void 0:e.fields.map(({name:t})=>({label:`${e.refId}:${t}`,source:e.refId,value:t,fieldName:t}))}}return{valueOptions:n,labelOptions:[]}},[o,null==e?void 0:e.source]);return a().createElement(a().Fragment,null,a().createElement(t.InlineFieldRow,null,a().createElement(t.InlineField,{label:"Value Field",grow:!0},a().createElement(t.Select,{options:i.valueOptions,value:`${null==e?void 0:e.source}:${null==e?void 0:e.value}`,onChange:t=>n(t?$s(Fs({},e),{source:t.source,value:t.fieldName,label:(null==e?void 0:e.source)!==t.source?null:(null==e?void 0:e.label)||null}):void 0),"aria-label":z.formElementsEditor.fieldQueryOptionsValue,isClearable:!0}))),(null==e?void 0:e.value)&&a().createElement(t.InlineFieldRow,null,a().createElement(t.InlineField,{label:"Label Field",grow:!0},a().createElement(t.Select,{options:i.labelOptions,value:e.label,onChange:t=>n($s(Fs({},e),{label:t?t.fieldName:""})),"aria-label":z.formElementsEditor.fieldQueryOptionsLabel,isClearable:!0}))))},zs=e=>({optionsContainer:Fe.css`
      margin: ${e.spacing(1,0)};
    `,colorPickerContainer:Fe.css`
      align-items: center;
    `,colorPickerButtons:Fe.css`
      display: flex;
      justify-content: flex-start;
      align-items: center;
      gap: ${e.spacing(1)};
      padding: ${e.spacing(0,1)};
    `});function Ws(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Hs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Ws(e,t,n[t])})}return e}function Gs(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t.push.apply(t,n)}return t}(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}const qs=({element:e,onChange:o,onChangeOption:i,layoutSectionOptions:l,data:u})=>{const d=(0,t.useStyles2)(zs),f=(0,r.useMemo)(()=>(0,t.getAvailableIcons)().map(e=>({value:e,label:e})),[]);var h,m;return a().createElement(a().Fragment,null,a().createElement(t.InlineFieldRow,null,a().createElement(t.InlineField,{label:"Id",grow:!0,labelWidth:8,invalid:""===e.id},a().createElement(t.Input,{placeholder:"Id",onChange:t=>{o(Gs(Hs({},e),{id:t.target.value}),!0)},value:e.id,"data-testid":z.formElementsEditor.fieldId})),st(e,p.STRING)&&a().createElement(t.InlineField,{"data-testid":z.formElementsEditor.fieldVisibility},a().createElement(t.RadioButtonGroup,{options:q,value:!!e.hidden,onChange:t=>{o(Gs(Hs({},e),{hidden:t}))}}))),a().createElement(t.InlineFieldRow,null,a().createElement(t.InlineField,{label:"Type",grow:!0,labelWidth:8},a().createElement(t.Select,{options:W,onChange:t=>{o(Xe(e,null==t?void 0:t.value),!0)},value:W.find(t=>t.value===e.type),"aria-label":z.formElementsEditor.fieldType})),a().createElement(t.InlineField,{label:"Width",labelWidth:12,tooltip:"Element will grow to max length if not specified. Some elements does not support adjusting width."},a().createElement(t.Input,{placeholder:"auto",onChange:t=>{o(Gs(Hs({},e),{width:Je(t.target.value)}))},value:et(e.width),min:0,type:"number","data-testid":z.formElementsEditor.fieldWidth}))),a().createElement(t.InlineFieldRow,null,a().createElement(t.InlineField,{label:"Label",grow:!0,labelWidth:8,invalid:""===e.title},a().createElement(t.Input,{placeholder:"Label",onChange:t=>{o(Gs(Hs({},e),{title:t.target.value}))},value:e.title,"data-testid":z.formElementsEditor.fieldLabel})),a().createElement(t.InlineField,{label:"Label Width",labelWidth:12},a().createElement(t.Input,{placeholder:"auto",onChange:t=>{o(Gs(Hs({},e),{labelWidth:Je(t.target.value)}))},value:et(e.labelWidth),type:"number","data-testid":z.formElementsEditor.fieldLabelWidth}))),a().createElement(t.InlineFieldRow,null,a().createElement(t.InlineField,{label:"Tooltip",grow:!0,labelWidth:8},a().createElement(t.Input,{placeholder:"Tooltip",onChange:t=>{o(Gs(Hs({},e),{tooltip:t.target.value}))},value:e.tooltip,"data-testid":z.formElementsEditor.fieldTooltip})),a().createElement(t.InlineField,{label:"Unit",labelWidth:12},a().createElement(t.Input,{placeholder:"Unit",onChange:t=>{o(Gs(Hs({},e),{unit:t.target.value}))},value:e.unit,"data-testid":z.formElementsEditor.fieldUnit}))),a().createElement(t.InlineFieldRow,null,a().createElement(t.InlineField,{className:d.colorPickerContainer,label:"Background",grow:!0},a().createElement("div",{className:d.colorPickerButtons},a().createElement(t.ColorPicker,{"data-testid":z.formElementsEditor.fieldElementBackground,color:e.background||"transparent",onChange:t=>{o(Gs(Hs({},e),{background:t}))}}),e.background&&a().createElement(t.IconButton,{"data-testid":z.formElementsEditor.buttonRemoveBackground,name:"times",size:"md",variant:"secondary",tooltip:"Reset to default",onClick:()=>o(Gs(Hs({},e),{background:""}))}))),a().createElement(t.InlineField,{className:d.colorPickerContainer,label:"Label Background",grow:!0},a().createElement("div",{className:d.colorPickerButtons},a().createElement(t.ColorPicker,{"data-testid":z.formElementsEditor.fieldLabelBackground,color:e.labelBackground||"transparent",onChange:t=>{o(Gs(Hs({},e),{labelBackground:t}))}}),e.labelBackground&&a().createElement(t.IconButton,{"data-testid":z.formElementsEditor.buttonRemoveLabelBackground,name:"times",size:"md",variant:"secondary",tooltip:"Reset to default",onClick:()=>o(Gs(Hs({},e),{labelBackground:""}))}))),a().createElement(t.InlineField,{className:d.colorPickerContainer,label:"Label Color",grow:!0},a().createElement("div",{className:d.colorPickerButtons},a().createElement(t.ColorPicker,{"data-testid":z.formElementsEditor.fieldLabelColor,color:e.labelColor||"transparent",onChange:t=>{o(Gs(Hs({},e),{labelColor:t}))}}),e.labelColor&&a().createElement(t.IconButton,{"data-testid":z.formElementsEditor.buttonRemoveLabelColor,name:"times",size:"md",variant:"secondary",tooltip:"Reset to default",onClick:()=>o(Gs(Hs({},e),{labelColor:""}))})))),l.length>0&&a().createElement(t.InlineFieldRow,null,a().createElement(t.InlineField,{label:"Section",grow:!0,labelWidth:8},a().createElement(t.Select,{options:l,onChange:t=>{o(Gs(Hs({},e),{section:null==t?void 0:t.value}))},value:l.find(t=>t.value===e.section),"aria-label":z.formElementsEditor.fieldSection}))),st(e,p.SLIDER)&&a().createElement(t.InlineFieldRow,null,a().createElement(t.InlineField,{label:"Min",labelWidth:8},a().createElement(t.Input,{placeholder:"Min",onChange:t=>{o(Gs(Hs({},e),{min:Number(t.target.value)}))},type:"number",width:10,value:e.min,"data-testid":z.formElementsEditor.fieldSliderMin})),a().createElement(t.InlineField,{label:"Max",labelWidth:8},a().createElement(t.Input,{placeholder:"Max",onChange:t=>{o(Gs(Hs({},e),{max:Number(t.target.value)}))},type:"number",width:10,value:e.max,"data-testid":z.formElementsEditor.fieldSliderMax})),a().createElement(t.InlineField,{label:"Step",labelWidth:8},a().createElement(t.Input,{placeholder:"Step",onChange:t=>{o(Gs(Hs({},e),{step:Number(t.target.value)}))},type:"number",width:10,value:e.step,"data-testid":z.formElementsEditor.fieldSliderStep}))),st(e,p.NUMBER)&&a().createElement(t.InlineFieldRow,null,a().createElement(t.InlineField,{label:"Min",labelWidth:8},a().createElement(t.Input,{placeholder:"Min",onChange:t=>{o(Gs(Hs({},e),{min:t.target.value?Number(t.target.value):void 0}))},type:"number",width:10,value:et(e.min),"data-testid":z.formElementsEditor.fieldNumberMin})),a().createElement(t.InlineField,{label:"Max",labelWidth:8},a().createElement(t.Input,{placeholder:"Max",onChange:t=>{o(Gs(Hs({},e),{max:t.target.value?Number(t.target.value):void 0}))},type:"number",width:10,value:et(e.max),"data-testid":z.formElementsEditor.fieldNumberMax}))),(st(e,p.DATETIME)||st(e,p.DATE))&&a().createElement(a().Fragment,null,a().createElement(Zn,{label:"Min",onChange:t=>o(Gs(Hs({},e),{min:t})),value:e.min,"data-testid":z.formElementsEditor.fieldMinDate}),a().createElement(Zn,{label:"Max",onChange:t=>o(Gs(Hs({},e),{max:t})),value:e.max,"data-testid":z.formElementsEditor.fieldMaxDate}),(st(e,p.DATETIME)||st(e,p.DATE))&&a().createElement(t.InlineField,{label:"Time Zone","data-testid":z.formElementsEditor.fieldTimeZone},a().createElement(t.RadioButtonGroup,{options:Q,value:null!==(h=e.isUseLocalTime)&&void 0!==h&&h,onChange:t=>{o(Gs(Hs({},e),{isUseLocalTime:t}))}}))),(st(e,p.TEXTAREA)||st(e,p.CODE))&&a().createElement(t.InlineField,{label:"Escaping new line",labelWidth:20,tooltip:"Escaping newline characters. Replace '\\n' to '\\\\n'. Use to avoid errors on some 'datasource' update requests."},a().createElement(t.InlineSwitch,{value:e.isEscaping,onChange:t=>o(Gs(Hs({},e),{isEscaping:t.currentTarget.checked})),"data-testid":z.formElementsEditor.fieldIsEscapingEditor})),(st(e,p.TEXTAREA)||st(e,p.DISABLED_TEXTAREA))&&a().createElement(t.InlineFieldRow,null,a().createElement(t.InlineField,{label:"Rows",labelWidth:8},a().createElement(t.Input,{placeholder:"Rows",onChange:t=>{o(Gs(Hs({},e),{rows:Number(t.target.value)}))},type:"number",width:10,value:e.rows,min:2,"data-testid":z.formElementsEditor.fieldTextareaRows}))),st(e,p.CODE)&&a().createElement(t.InlineFieldRow,null,a().createElement(t.InlineField,{label:"Language",grow:!0,labelWidth:10},a().createElement(t.Select,{options:I,onChange:t=>{o(Gs(Hs({},e),{language:null==t?void 0:t.value}))},value:I.find(t=>t.value===e.language),"aria-label":z.formElementsEditor.fieldCodeLanguage})),a().createElement(t.InlineField,{label:"Height",labelWidth:12,tooltip:"Code Editor height in px"},a().createElement(t.Input,{placeholder:"Height",onChange:t=>{o(Gs(Hs({},e),{height:Number(t.target.value)}))},type:"number",value:e.height,min:0,"data-testid":z.formElementsEditor.fieldCodeHeight}))),st(e,p.FILE)&&a().createElement(t.InlineFieldRow,null,a().createElement(t.InlineField,{grow:!0,label:"Accept",labelWidth:10,tooltip:"Specify comma-separated file extensions or keep blank to allow any file"},a().createElement(t.Input,{value:e.accept||"",onChange:t=>{o(Gs(Hs({},e),{accept:t.target.value}))},"data-testid":z.formElementsEditor.fieldAccept})),a().createElement(t.InlineField,{label:"Multiple",labelWidth:12,tooltip:"Allows to select multiple files"},a().createElement(t.RadioButtonGroup,{options:wt(Ne,z.formElementsEditor.fileMultipleOption),value:null!==(m=e.multiple)&&void 0!==m&&m,onChange:t=>{o(Gs(Hs({},e),{multiple:t}))}}))),st(e,p.LINK)&&a().createElement(t.InlineFieldRow,null,a().createElement(t.InlineField,{grow:!0,label:"Link Text",labelWidth:14},a().createElement(t.Input,{value:e.linkText,onChange:t=>{o(Gs(Hs({},e),{linkText:t.currentTarget.value}))},placeholder:"Link address will be used","data-testid":z.formElementsEditor.fieldLinkText})),a().createElement(t.InlineField,{grow:!0,label:"Open in",labelWidth:14},a().createElement(t.RadioButtonGroup,{value:e.target,onChange:t=>{o(Gs(Hs({},e),{target:t}))},options:J}))),st(e,p.COLOR_PICKER)&&a().createElement(t.InlineField,{label:"Color format",labelWidth:12},a().createElement(t.RadioButtonGroup,{options:ae,value:e.colorFormat,onChange:t=>{o(Gs(Hs({},e),{colorFormat:t}))}})),(st(e,p.RADIO)||st(e,p.SELECT)||st(e,p.MULTISELECT)||st(e,p.DISABLED)||st(e,p.CHECKBOX_LIST))&&a().createElement(a().Fragment,null,!st(e,p.RADIO)&&!st(e,p.DISABLED)&&a().createElement(t.InlineField,{label:"Custom values",labelWidth:14},a().createElement(t.RadioButtonGroup,{options:re,value:!!e.allowCustomValue,onChange:t=>{o(Gs(Hs({},e),{allowCustomValue:t}))}})),a().createElement(t.InlineFieldRow,null,a().createElement(t.InlineField,{label:"Options Source",labelWidth:14},a().createElement(t.RadioButtonGroup,{options:Z,value:e.optionsSource||X.CUSTOM,onChange:t=>{o(Gs(Hs({},e),{optionsSource:t}))}}))),e.optionsSource===X.QUERY&&a().createElement(Us,{value:e.queryOptions,onChange:t=>{o(Gs(Hs({},e),{queryOptions:t}))},data:u}),e.optionsSource===X.CODE&&a().createElement(t.Field,{label:"Get Options Code",description:"Must return array with {label,value} objects. The code must be synchronous."},a().createElement(n.v4,{value:e.getOptions||"",language:c.JAVASCRIPT,onBlur:t=>{o(Gs(Hs({},e),{getOptions:t}))},monacoOptions:{formatOnPaste:!0,formatOnType:!0},showLineNumbers:!0,"aria-label":z.formElementsEditor.fieldGetOptions,getSuggestions:()=>R.elementGetOptions})),(e.optionsSource===X.CUSTOM||!e.optionsSource)&&a().createElement("div",{className:d.optionsContainer,"data-testid":z.formElementsEditor.options},a().createElement(Ns,{options:e.options,onChange:t=>o(Gs(Hs({},e),{options:t})),onChangeItem:(t,n,r)=>i(e,t,n,r),iconEnabled:e.type!==p.CHECKBOX_LIST}))),st(e,p.BUTTON)&&a().createElement(a().Fragment,null,a().createElement(t.InlineField,{label:"Text",grow:!0,labelWidth:8,tooltip:"The text on the button."},a().createElement(t.Input,{placeholder:"Text",onChange:t=>{o(Gs(Hs({},e),{buttonLabel:t.target.value}))},value:e.buttonLabel,"data-testid":z.formElementsEditor.fieldCustomButtonLabel})),a().createElement(t.InlineField,{label:"Icon",grow:!0},a().createElement(t.Select,{options:f,isClearable:!0,onChange:t=>{o(Gs(Hs({},e),{icon:null==t?void 0:t.value}))},value:e.icon,"aria-label":z.formElementsEditor.fieldCustomButtonIcon,"data-testid":z.formElementsEditor.fieldCustomButtonIcon})),a().createElement(t.InlineField,{grow:!0,label:"Button Size","data-testid":z.formElementsEditor.fieldCustomButtonSize},a().createElement(t.RadioButtonGroup,{options:te,value:e.size,onChange:t=>{o(Gs(Hs({},e),{size:t}))}})),a().createElement(t.InlineField,{grow:!0,label:"Button place",tooltip:"Positioning of the button among the form elements.","data-testid":z.formElementsEditor.fieldCustomButtonPlace},a().createElement(t.RadioButtonGroup,{options:ee,value:e.show,onChange:t=>{o(Gs(Hs({},e),{show:t}))}})),a().createElement(t.InlineField,{grow:!0,label:"Button variant","data-testid":z.formElementsEditor.fieldCustomButtonVariant},a().createElement(t.RadioButtonGroup,{options:ne,value:e.variant,onChange:t=>{o(Gs(Hs({},e),{variant:t}))}})),e.variant===s.CUSTOM&&a().createElement(t.InlineFieldRow,null,a().createElement(t.InlineField,{className:d.colorPickerContainer,label:"Foreground Color",tooltip:"Foreground color of the button.",grow:!0},a().createElement("div",{className:d.colorPickerButtons},a().createElement(t.ColorPicker,{"data-testid":z.formElementsEditor.fieldCustomButtonForeground,color:e.foregroundColor||"transparent",onChange:t=>{o(Gs(Hs({},e),{foregroundColor:t}))}}))),a().createElement(t.InlineField,{className:d.colorPickerContainer,label:"Background Color",tooltip:"Background color of the button.",grow:!0},a().createElement("div",{className:d.colorPickerButtons},a().createElement(t.ColorPicker,{"data-testid":z.formElementsEditor.fieldCustomButtonBackground,color:e.backgroundColor||"transparent",onChange:t=>{o(Gs(Hs({},e),{backgroundColor:t}))}})))),a().createElement(t.Field,{label:"Code to execute for button"},a().createElement(n.v4,{value:e.customCode||"",language:c.JAVASCRIPT,onBlur:t=>{o(Gs(Hs({},e),{customCode:t}))},monacoOptions:{formatOnPaste:!0,formatOnType:!0},showLineNumbers:!0,"aria-label":z.formElementsEditor.fieldCustomButtonCustomCode,getSuggestions:()=>R.request}))),a().createElement(t.Field,{label:"Show if returned value is true"},a().createElement(n.v4,{value:e.showIf||"",language:c.JAVASCRIPT,onBlur:t=>{o(Gs(Hs({},e),{showIf:t}))},monacoOptions:{formatOnPaste:!0,formatOnType:!0},showLineNumbers:!0,"aria-label":z.formElementsEditor.fieldShowIf,getSuggestions:()=>R.elementShowIf})),!st(e,p.DISABLED_TEXTAREA)&&!st(e,p.DISABLED)&&!st(e,p.LINK)&&a().createElement(t.Field,{label:"Disable if returned value is true"},a().createElement(n.v4,{value:e.disableIf||"",language:c.JAVASCRIPT,onBlur:t=>{o(Gs(Hs({},e),{disableIf:t}))},monacoOptions:{formatOnPaste:!0,formatOnType:!0},showLineNumbers:!0,"aria-label":z.formElementsEditor.fieldDisableIf,getSuggestions:()=>R.elementDisableIf})))},Qs=e=>({rootWithBackground:Fe.css`
      padding: ${e.spacing(.5,0,0,.5)};
      margin-bottom: ${e.spacing(.5)};
    `,hidden:Fe.css`
      display: none;
    `}),Ys=({element:e,elements:n,executeCustomCode:r,highlightClass:o,initial:i,onChange:s,replaceVariables:c,timeZone:u})=>{const d=(0,t.useStyles2)(Qs);return a().createElement(t.InlineFieldRow,{"data-testid":z.formElements.element(e.id,e.type),className:(0,Fe.cx)({[d.rootWithBackground]:!!e.background}),style:{backgroundColor:e.background||void 0}},(e=>{switch(e.type){case p.NUMBER:return a().createElement(Ht,{element:e,onChange:s,highlightClass:o});case p.STRING:return a().createElement($n,{element:e,onChange:s,highlightClass:o});case p.PASSWORD:return a().createElement(qt,{element:e,onChange:s,highlightClass:o});case p.DISABLED:return a().createElement(Bt,{element:e});case p.TEXTAREA:return a().createElement(zn,{element:e,onChange:s,highlightClass:o});case p.DISABLED_TEXTAREA:return a().createElement(jt,{element:e});case p.CODE:return a().createElement(Dt,{element:e,onChange:s});case p.BOOLEAN:return a().createElement(St,{element:e,onChange:s,highlightClass:o});case p.DATETIME:case p.DATE:return a().createElement(Mt,{element:e,onChange:s,timeZone:u});case p.TIME:return a().createElement(Hn,{element:e,onChange:s,timeZone:u});case p.SLIDER:return a().createElement(Nn,{element:e,onChange:s});case p.RADIO:return a().createElement(Yt,{element:e,onChange:s,highlightClass:o});case p.SELECT:case p.MULTISELECT:return a().createElement(Xt,{element:e,onChange:s,highlightClass:o});case p.FILE:return a().createElement($t,{element:e,onChange:s});case p.LINK:return a().createElement(zt,{element:e});case p.CHECKBOX_LIST:return a().createElement(At,{element:e,onChange:s});case p.BUTTON:return e.show===l.FORM?a().createElement(Tt,{element:e,executeCustomCode:r,replaceVariables:c,elements:n,initial:i}):a().createElement(a().Fragment,null);case p.COLOR_PICKER:return a().createElement(It,{element:e,onChange:s});default:return a().createElement(a().Fragment,null)}})(e),e.unit&&a().createElement(t.InlineLabel,{"data-testid":z.formElements.unit,transparent:!0,width:4},e.unit))};function Ks(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Xs=({options:e,elements:n,onChangeElement:o,section:i,initial:s,replaceVariables:l,data:c,executeCustomCode:u,timeZone:d})=>{const p=(0,t.useTheme2)(),f=p.visualization.getColorByName(e.initial.highlightColor||"red"),h=(0,r.useCallback)(t=>e.initial.highlight&&Object.keys(s).length&&s[t.id]!==t.value?Fe.css`
            -webkit-text-fill-color: ${f};
          `:Fe.css`
            -webkit-text-fill-color: ${p.colors.text.primary};
          `,[f,s,e.initial.highlight,p.colors.text.primary]),m=(0,r.useMemo)(()=>n.filter(e=>e.helpers.showIf({elements:n})).map(e=>{return t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Ks(e,t,n[t])})}return e}({},e),r=null!=(r={title:l(e.title),disabled:e.helpers.disableIf({elements:n}),options:e.helpers.getOptions({elements:n,data:c})})?r:{},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):function(e){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t.push.apply(t,n)}return t}(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}),t;var t,r}),[c,n,l]);return a().createElement("div",{"data-testid":z.formElements.root},m.map((e,t)=>{if(!i||e.section===i.id)return a().createElement(Ys,{key:t,element:e,onChange:o,highlightClass:h,replaceVariables:l,executeCustomCode:u,initial:s,elements:n,timeZone:d})}))},Zs=({options:e,elements:r,onChangeElement:o,initial:i,replaceVariables:s,data:l,sectionsExpandedState:c,onChangeSectionExpandedState:u,executeCustomCode:d,timeZone:p,sections:f})=>{const h=(m=(0,t.useTheme2)(),{root:Fe.css`
      display: flex;
      width: 100%;
      justify-content: stretch;
      &.vertical {
        flex-direction: column;
      }
    `,dragIcon:Fe.css`
      cursor: grab;
      color: ${m.colors.text.disabled};
      &:hover {
        color: ${m.colors.text};
      }
    `,section:Fe.css`
      padding: ${m.spacing(2.5)};
      flex: 1 0 auto;
      &.collapsable {
        padding: ${m.spacing(.5,2.5)};
      }
    `});var m;return a().createElement("div",{className:(0,Fe.cx)(h.root,{vertical:e.layout.orientation===_e.VERTICAL})},null==f?void 0:f.map((f,m)=>{const g=c[f.id];return a().createElement("div",{key:m,className:(0,Fe.cx)(h.section,{collapsable:e.layout.sectionVariant===Le.COLLAPSABLE}),"data-testid":z.panel.splitLayoutContent(f.name)},(b=a().createElement(Xs,{options:e,elements:r,onChangeElement:o,initial:i,section:f,replaceVariables:s,data:l,executeCustomCode:d,timeZone:p}),e.layout.sectionVariant===Le.COLLAPSABLE?a().createElement(n.MU,{headerDataTestId:z.formElementsSection.sectionHeader(f.id,f.name),contentDataTestId:z.formElementsSection.sectionContent(f.id,f.name),isOpen:g,onToggle:()=>u(f.id,!g),label:a().createElement(a().Fragment,null,s(f.name)," [",f.id,"]")},b):a().createElement(t.FieldSet,{label:s(f.name)},b)));var b}))},Js=e=>{const[t,n]=(0,r.useState)(e),a=(0,r.useRef)(t),o=(0,r.useCallback)(e=>{n(e),a.current=e},[]);return[t,o,a]};function el(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){el(e,t,n[t])})}return e}function nl(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t.push.apply(t,n)}return t}(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}const rl=({onChangeElementsOption:t,onChangeSectionsOption:n,value:a,isAutoSave:o=!0,layoutSections:i,replaceVariables:s})=>{const l=(0,r.useRef)(new e.EventBusSrv),[c,u,d]=Js(ot(a,s)),[p,f,h]=Js(i||[]),[m,g]=(0,r.useState)(!1),{startTimer:b,removeTimer:v}=(()=>{const e=(0,r.useRef)(null),t=(0,r.useCallback)(()=>{e.current&&(clearTimeout(e.current),e.current=null)},[]);return{startTimer:(0,r.useCallback)(n=>{t(),e.current=setTimeout(()=>{n(),e.current=null},1e3)},[t]),removeTimer:t}})(),[y,w]=(0,r.useState)(p.reduce((e,t)=>nl(tl({},e),{[t.id]:t.expanded}),{})),E=(0,r.useCallback)(e=>{f(e),g(!0)},[f]),S=(0,r.useCallback)((e,t)=>{w(n=>nl(tl({},n),{[e]:t}))},[]),O=(0,r.useCallback)(()=>{t&&t((e=>e.map(e=>{var{helpers:t}=e;return function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,["helpers"])}))(c)),n&&n(p),g(!1)},[c,t,n,p]),C=(0,r.useCallback)(e=>{u(e),g(!0)},[u]),A=(0,r.useCallback)((e,t=!1)=>{const n=d.current;if(t&&Ze(n,e))return void alert("Element with the same id and type exists.");let r=!1;const a=n.map(t=>t.uid===e.uid?(r=e.value!==t.value,e):t);C(a),r&&l.current.publish(new ct({elements:a,element:e}))},[d,C]),x=(0,r.useCallback)((e,t,{value:n=t.value}={},r=!1)=>{var a,o,i;return!(!("options"in e)||!e.options||(r&&(o=e.options,i=t,o.some(e=>e.value.toString()===i.value.toString()))?(alert("Option with the same value exists"),1):(A(nl(tl({},e),{options:null===(a=e.options)||void 0===a?void 0:a.map(e=>e.value===n?t:e)})),0)))},[A]),D=(0,r.useCallback)(e=>{const t=d.current.filter(t=>t.uid!==e);C(t)},[d,C]),P=(0,r.useCallback)(e=>C(((e,t)=>e.map(e=>{const n=t[e.id];return null!=n&&(e.value=lt(e,n).value),e}))(d.current,e)),[d,C]),I=(0,r.useCallback)(()=>(e=>e.reduce((e,t)=>(e[t.id]=t.value,e),{}))(d.current),[d]),R=(0,r.useCallback)(e=>{C(((e,t,n)=>e.map(e=>{const r=n[e.id];if(null!=r)e.value=lt(e,r).value;else{const n=t.find(t=>t.id===e.id);e.value=void 0!==(null==n?void 0:n.value)&&null!==(null==n?void 0:n.value)?lt(e,n.value).value:lt(e,"").value}return e}))(d.current,ot(a,s),e))},[d,C,s,a]);(0,r.useEffect)(()=>{u(ot(a,s)),g(!1)},[s,u,a]);const T=(0,r.useCallback)(({name:e,id:t,elements:n})=>{const r=h.current,a=d.current;r.some(e=>e.id===t)||E([...r,{name:e,id:t}]);const o=a.map(e=>n.some(t=>t===e.id)?nl(tl({},e),{section:t}):e);C(o)},[d,C,E,h]),k=(0,r.useCallback)(e=>{const t=h.current;E(t.filter(t=>t.id!==e))},[E,h]),_=(0,r.useCallback)((e,t)=>{const n=h.current.find(t=>t.id===e);if(!n)return;const r=d.current.map(e=>t.some(t=>t===e.id)?nl(tl({},e),{section:n.id}):e);C(r)},[d,C,h]),L=(0,r.useCallback)(e=>{const t=d.current.map(t=>e.some(e=>e===t.id)?nl(tl({},t),{section:""}):t);C(t)},[d,C]),M=(0,r.useCallback)(e=>{const t=h.current.find(t=>t.id===e);if(!t)return;const n=d.current.filter(e=>e.section===t.name);return nl(tl({},t),{elements:n})},[d,h]),B=(0,r.useCallback)(()=>h.current.map(e=>{const t=d.current.filter(t=>t.section===e.name);return nl(tl({},e),{elements:t})}),[d,h]);return(0,r.useEffect)(()=>{i&&(f(i),g(!1))},[f,i]),(0,r.useEffect)(()=>(o&&m?b(O):v(),()=>{v()}),[b,m,O,v,o]),{elements:c,isChanged:m,onSaveUpdates:O,onChangeElements:C,onChangeElement:A,onChangeElementOption:x,onElementRemove:D,eventBus:l.current,elementsRef:d,sectionsExpandedState:y,onChangeSectionExpandedState:S,patchFormValue:P,setFormValue:R,getFormValue:I,sections:p,addSection:T,removeSection:k,onChangeSections:E,assignToSection:_,unassignFromSection:L,getSection:M,getAllSections:B}};function al(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ol(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){al(e,t,n[t])})}return e}function il(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t.push.apply(t,n)}return t}(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}const sl=({onSave:e,elements:n,replaceVariables:o})=>{const[i,s]=(0,r.useState)(Pe),[l,c]=(0,r.useState)(null),u=(0,r.useCallback)(e=>{s(e),c(null)},[]),d=(0,r.useCallback)(()=>{Ze(n,i)?c("Element with the same Id and Type already exists"):(e(Xe(at(i,o),i.type)),s(Pe))},[n,i,e,o]);return a().createElement(t.CollapsableSection,{label:"New Element",isOpen:!0,headerDataTestId:z.formElementsEditor.sectionNewLabel,contentDataTestId:z.formElementsEditor.sectionNewContent},a().createElement(t.InlineField,{label:"Id",grow:!0,labelWidth:8,invalid:""===i.id},a().createElement(t.Input,{placeholder:"Id",onChange:e=>{u(il(ol({},i),{id:e.target.value}))},value:i.id,"data-testid":z.formElementsEditor.newElementId})),a().createElement(t.InlineField,{label:"Label",grow:!0,labelWidth:8,invalid:""===i.title},a().createElement(t.Input,{placeholder:"Label",onChange:e=>{u(il(ol({},i),{title:e.target.value}))},value:i.title,"data-testid":z.formElementsEditor.newElementLabel})),a().createElement(t.InlineField,{label:"Type",grow:!0,labelWidth:8},a().createElement(t.Select,{"aria-label":z.formElementsEditor.newElementType,options:W,onChange:e=>{u(il(ol({},i),{type:null==e?void 0:e.value}))},value:W.find(e=>e.value===i.type)})),!!l&&a().createElement(t.Alert,{"data-testid":z.formElementsEditor.addElementError,severity:"error",title:"Add Element"},l),a().createElement(t.Button,{variant:"secondary",onClick:d,disabled:!i.id||!i.type||!!l,icon:"plus","data-testid":z.formElementsEditor.buttonAddElement},"Add Element"))};function ll(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){ll(e,t,n[t])})}return e}function ul(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t.push.apply(t,n)}return t}(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}const dl=({value:e,onChange:o,context:i})=>{var s,l;const c=(O=(0,t.useTheme2)(),{item:Fe.css`
      margin-bottom: ${O.spacing(1)};
    `,dragHandle:Fe.css`
      display: flex;
      margin: ${O.spacing(0,.5)};
    `,dragIcon:Fe.css`
      cursor: grab;
      color: ${O.colors.text.disabled};
      &:hover {
        color: ${O.colors.text};
      }
    `,removeButton:Fe.css`
      margin-left: ${O.spacing(1)};
      color: ${O.colors.text.secondary};
    `,buttonWrap:Fe.css`
      min-height: 32px;
    `}),[u,d]=(0,r.useState)({}),{elements:p,isChanged:f,onSaveUpdates:h,onChangeElements:m,onChangeElement:g,onChangeElementOption:b,onElementRemove:v}=rl({replaceVariables:i.replaceVariables,onChangeElementsOption:o,value:e}),y=(0,r.useCallback)(e=>{m(p.concat([e]))},[p,m]),w=(0,r.useCallback)(e=>{e.destination&&m(Ke(p,e.source.index,e.destination.index))},[p,m]),E=(0,r.useMemo)(()=>{var e,t,n;return(null===(n=i.options)||void 0===n||null===(t=n.layout)||void 0===t||null===(e=t.sections)||void 0===e?void 0:e.map(e=>({value:e.id,label:e.id})))||[]},[null===(l=i.options)||void 0===l||null===(s=l.layout)||void 0===s?void 0:s.sections]),S=(0,r.useCallback)(e=>{d(t=>ul(cl({},t),{[e]:!t[e]}))},[]);var O;return a().createElement("div",{"data-testid":z.formElementsEditor.root},a().createElement(Qi,{onDragEnd:w},a().createElement(Is,{droppableId:"elements"},e=>a().createElement("div",ul(cl({},e.droppableProps),{ref:e.innerRef}),p.map((e,r)=>{const o=u[e.uid];return a().createElement(ls,{key:e.uid,draggableId:e.uid,index:r},(r,s)=>{return a().createElement("div",ul(cl({},r.draggableProps),{ref:r.innerRef,style:(s.isDragging,l=r.draggableProps.style,cl({},l)),className:c.item}),a().createElement(n.SD,{fill:"solid",headerTestId:z.formElementsEditor.sectionLabel(e.id,e.type),contentTestId:z.formElementsEditor.sectionContent(e.id,e.type),isOpen:o,onToggle:()=>S(e.uid),title:a().createElement(a().Fragment,null,e.title," [",e.id,"]"),actions:a().createElement(a().Fragment,null,a().createElement(t.IconButton,{name:"trash-alt",variant:"secondary",size:"sm",className:c.removeButton,"data-testid":z.formElementsEditor.buttonRemoveElement,onClick:()=>v(nt(e)),"aria-label":"Remove"}),a().createElement("div",cl({className:c.dragHandle},r.dragHandleProps),a().createElement(t.Icon,{title:"Drag and drop to reorder",name:"draggabledots",size:"lg",className:c.dragIcon})))},a().createElement(qs,{element:e,onChange:g,layoutSectionOptions:E,onChangeOption:b,data:i.data})));var l})}),e.placeholder))),a().createElement("div",{className:c.buttonWrap},f&&a().createElement(t.Button,{onClick:h,"data-testid":z.formElementsEditor.buttonSaveChanges},"Save changes")),a().createElement("hr",null),a().createElement(sl,{elements:p,onSave:y,replaceVariables:i.replaceVariables}))},pl=e=>({wrapper:Fe.css`
      position: relative;
      overflow-y: auto;
    `,loadingBar:Fe.css`
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      overflow: hidden;
    `,table:Fe.css`
      width: 100%;
    `,margin:Fe.css`
      margin: 5px;
    `,buttons:Fe.css`
      display: flex;
      align-items: center;
      justify-content: center;
      gap: ${e.spacing(.5)};
    `,buttonsPosition:{center:Fe.css`
        display: flex;
        align-items: center;
        justify-content: center;
      `,left:Fe.css`
        float: left;
      `,right:Fe.css`
        float: right;
      `},confirmTable:Fe.css`
      width: 100%;
      border: 1px solid;
      text-align: center;
    `,confirmTableTd:Fe.css`
      border: 1px solid;
    `,errorMessage:Fe.css`
      white-space: pre-wrap;
      margin: ${e.spacing(1,0,0)};
    `});function fl(e,t,n,r,a,o,i){try{var s=e[o](i),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,a)}function hl(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){fl(o,r,a,i,s,"next",e)}function s(e){fl(o,r,a,i,s,"throw",e)}i(void 0)})}}function ml(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){ml(e,t,n[t])})}return e}function bl(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t.push.apply(t,n)}return t}(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}const vl=({value:e,onChange:n})=>(e&&e.length||(e=[]),a().createElement("div",{"data-testid":z.headerParametersEditor.root},e.map((r,o)=>a().createElement(t.InlineFieldRow,{key:o,"data-testid":z.headerParametersEditor.parameter(r.name)},a().createElement(t.InlineField,{label:"Name",labelWidth:8,invalid:""===r.name},a().createElement(t.Input,{placeholder:"name",onChange:t=>{r.name=t.target.value,n(e)},value:r.name,"data-testid":z.headerParametersEditor.fieldName})),a().createElement(t.InlineField,{label:"Value",labelWidth:8,grow:!0},a().createElement(t.Input,{placeholder:"value",onChange:t=>{r.value=t.target.value,n(e)},type:"password",value:r.value,"data-testid":z.headerParametersEditor.fieldValue})),a().createElement(t.Button,{variant:"secondary",onClick:()=>{e=e.filter(e=>e.name!==r.name),n(e)},icon:"trash-alt","data-testid":z.headerParametersEditor.buttonRemove}))),a().createElement(t.Button,{variant:"secondary",onClick:()=>{e.push({name:"",value:""}),n(e)},icon:"plus","data-testid":z.headerParametersEditor.buttonAdd},"Add Parameter")));function yl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){yl(e,t,n[t])})}return e}function El(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t.push.apply(t,n)}return t}(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}const Sl=({value:n,onChange:o,context:i})=>{var s,l;const{elements:c,isChanged:u,onSaveUpdates:d,onChangeElement:p}=rl({replaceVariables:i.replaceVariables,onChangeElementsOption:o,value:n}),f=(({data:t,isEnabled:n})=>(0,r.useMemo)(()=>n&&t?t.reduce((n,r)=>{const{fields:a,refId:o}=r;return n.concat(a.map(n=>{const a=(0,e.getFieldDisplayName)(n,r,t);return{value:a,refId:o,label:`${o}:${a}`}}))},[]):[],[t,n]))({data:i.data,isEnabled:(null===(l=i.options)||void 0===l||null===(s=l.initial)||void 0===s?void 0:s.method)===oe.QUERY});return a().createElement("div",{"data-testid":z.initialFieldsEditor.root},c.map(e=>{var n,r,o;return a().createElement(t.InlineFieldRow,{key:e.uid},a().createElement(t.InlineField,{grow:!0,label:e.title,labelWidth:14},(null===(r=i.options)||void 0===r||null===(n=r.initial)||void 0===n?void 0:n.method)===oe.DATASOURCE?a().createElement(t.Input,{value:e.fieldName||"",onChange:t=>{p(El(wl({},e),{fieldName:t.target.value}))},"data-testid":z.initialFieldsEditor.fieldNamePicker}):a().createElement(t.Select,{value:null===(o=e.queryField)||void 0===o?void 0:o.value,options:f,onChange:t=>{p(El(wl({},e),{queryField:t}))},"data-testid":z.initialFieldsEditor.fieldFromQueryPicker,isClearable:!0})))}),u&&a().createElement(t.Button,{onClick:d,"data-testid":z.initialFieldsEditor.buttonSaveChanges},"Save changes"))},Ol=e=>({item:Fe.css`
      margin-bottom: ${e.spacing(1)};
      border: 1px solid ${e.colors.border.weak};
      padding: ${e.spacing(1)};
    `,checkbox:Fe.css`
      display: flex;
      align-items: center;
      height: auto;
      margin: ${e.spacing(0,1,.5,.5)};
    `});function Cl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Al(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Cl(e,t,n[t])})}return e}function xl(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t.push.apply(t,n)}return t}(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}const Dl=({value:e,onChange:n,context:o})=>{var i,s;const l=(0,t.useStyles2)(Ol),{sections:c,onChangeSections:u}=rl({replaceVariables:o.replaceVariables,onChangeSectionsOption:n,layoutSections:e}),d=(0,r.useCallback)((e,t=e.id)=>{u(c.map(n=>n.id===t?e:n))},[u,c]),p=(0,r.useCallback)(e=>{u(c.filter(t=>t.id!==e.id))},[u,c]),f=(0,r.useMemo)(()=>c.some(e=>""===e.id),[c]),h=(null===(i=o.options)||void 0===i?void 0:i.layout.orientation)===_e.VERTICAL&&(null===(s=o.options)||void 0===s?void 0:s.layout.sectionVariant)===Le.COLLAPSABLE;return a().createElement("div",{"data-testid":z.layoutSectionsEditor.root},c.map((e,n)=>a().createElement(t.InlineFieldRow,{key:n,"data-testid":z.layoutSectionsEditor.section(e.id),className:l.item},a().createElement(t.InlineField,{label:"Id",grow:!0,invalid:""===e.id},a().createElement(t.Input,{placeholder:"id",onChange:t=>{const n=xl(Al({},e),{id:t.target.value||""}),r=!((e,t)=>e.some(e=>e.id===t.id))(c,n);r&&d(n,e.id)},value:e.id,"data-testid":z.layoutSectionsEditor.fieldId})),a().createElement(t.InlineField,{label:"Name",grow:!0},a().createElement(t.Input,{placeholder:"name",onChange:t=>{d(xl(Al({},e),{name:t.target.value}))},value:e.name,"data-testid":z.layoutSectionsEditor.fieldName})),h&&a().createElement("div",{className:l.checkbox},a().createElement(t.Checkbox,{label:"Expanded",value:e.expanded,onClick:t=>{d(xl(Al({},e),{expanded:t.currentTarget.checked}))},"aria-label":z.layoutSectionsEditor.fieldExpanded})),a().createElement(t.Button,{variant:"secondary",onClick:()=>{p(e)},icon:"trash-alt","data-testid":z.layoutSectionsEditor.buttonRemove}))),a().createElement(t.Button,{variant:"secondary",onClick:()=>{u(c.concat({id:"",name:""}))},icon:"plus","data-testid":z.layoutSectionsEditor.buttonAdd,disabled:f},"Add Section"))};function Pl(e,t,n,r,a,o,i){try{var s=e[o](i),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,a)}function Il(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){Pl(o,r,a,i,s,"next",e)}function s(e){Pl(o,r,a,i,s,"throw",e)}i(void 0)})}}function Rl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Tl(){return Tl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Tl.apply(this,arguments)}function kl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Rl(e,t,n[t])})}return e}function _l(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t.push.apply(t,n)}return t}(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}function Ll(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}const Ml=e=>{var{updatedOnly:t,payloadMode:n}=e;return _l(kl({},Ll(e,["updatedOnly","payloadMode"])),{payloadMode:null!=n?n:t?ue.UPDATED:ue.ALL})},Bl=e=>{if(!e)return"";const t=/^(?!.*context\.)(?:.*)(options\.|data\.|response|elements\.|onChange\(|locationService|templateService|onOptionsChange\(|initialRequest\(|setInitial\(|initial\.|notifyError\(|notifySuccess\(|notifyWarning\(|toDataQueryResponse\(|replaceVariables\()/gm;return e.split(" ").map(e=>e.replace(t,(e,...t)=>{const n=t[0]||e;return e.replace(n,t=>{switch(t){case"options.":return"context.panel.options.";case"data.":return"context.panel.data.";case"response":return"context.panel.response";case"elements.":return"context.panel.elements.";case"onChange(":return"context.panel.onChangeElements(";case"locationService":return"context.grafana.locationService";case"templateService":return"context.grafana.templateService";case"onOptionsChange(":return"context.panel.onOptionsChange(";case"initialRequest(":return"context.panel.initialRequest(";case"setInitial(":return"context.panel.setInitial(";case"initial.":return"context.panel.initial.";case"notifyError(":return"context.grafana.notifyError(";case"notifySuccess(":return"context.grafana.notifySuccess(";case"notifyWarning(":return"context.grafana.notifyWarning(";case"toDataQueryResponse(":return"context.utils.toDataQueryResponse(";case"replaceVariables(":return"context.grafana.replaceVariables(";default:return e}})})).join(" ")},jl=e=>{if(!e)return"";const t=/context\.panel\.(toggleSection|collapseSection|expandSection|sectionsExpandedState)\s*\(?.*?\)?/g;return e.split(" ").map(e=>e.replace(t,(e,...t)=>{const n=t[0]||e;return e.replace(n,t=>{switch(t){case"toggleSection":return"sectionsUtils.toggle";case"collapseSection":return"sectionsUtils.collapse";case"expandSection":return"sectionsUtils.expand";case"sectionsExpandedState":return"sectionsUtils.expandedState";default:return e}})})).join(" ")},Nl=e=>{const t=/context\.grafana\.replaceVariables\('([^']*)'\)/g;return e.split(" ").map(e=>e.replace(t,(e,t)=>`'${t}'`)).join(" ")},Vl=e=>{if(!e||"object"!=typeof e)return e;const t={};for(const n in e){const r=e[n];(isNaN(Number(n))||"string"!=typeof r||1!==r.toString().length)&&(t[n]=r)}return t},Fl=(e,t)=>{const n=e.find(e=>e.name===t);return(null==n?void 0:n.uid)||""},$l=new e.PanelPlugin(({options:o,width:i,height:l,onOptionsChange:c,eventBus:u,replaceVariables:d,data:f,timeZone:g})=>{const[b,v]=(0,r.useState)(Y.INITIAL),[y,w]=(0,r.useState)(""),[E,S]=(0,r.useState)(""),[A,x,D]=Js({}),[P,I]=(0,r.useState)(!1),[R,T]=(0,r.useState)(!1),[k,_]=(0,r.useState)(!1),[L,M]=(0,r.useState)(!0),[B,j]=(0,r.useState)(!1),[N,V]=(0,r.useState)(!0),F=(0,n.ki)(),{canAddAnnotations:$}=(0,t.usePanelContext)(),U=(0,r.useMemo)(()=>!!$&&$(),[$]),W=(0,r.useCallback)(e=>{c(bl(gl({},o),{elements:e}))},[c,o]),H=(0,r.useCallback)(e=>{c(bl(gl({},o),{layout:bl(gl({},o.layout),{sections:e})}))},[c,o]),{elements:G,onChangeElement:q,onChangeElements:Q,onSaveUpdates:K,eventBus:X,elementsRef:Z,sectionsExpandedState:J,onChangeSectionExpandedState:ee,patchFormValue:te,setFormValue:ne,getFormValue:re,addSection:ae,removeSection:ie,onChangeSections:se,sections:ce,assignToSection:de,unassignFromSection:fe,getSection:he,getAllSections:ge}=rl({replaceVariables:d,onChangeElementsOption:W,value:o.elements,isAutoSave:!1,layoutSections:o.layout.sections,onChangeSectionsOption:H}),be=(0,t.useTheme2)(),ve=(0,t.useStyles2)(pl),ye=(0,Qn.getTemplateSrv)(),we=(0,Qn.getAppEvents)(),Ee=(0,r.useCallback)(t=>we.publish({type:e.AppEvents.alertSuccess.name,payload:t}),[we]),Se=(0,r.useCallback)(t=>we.publish({type:e.AppEvents.alertError.name,payload:t}),[we]),Oe=(0,r.useCallback)(t=>we.publish({type:e.AppEvents.alertWarning.name,payload:t}),[we]),Ce=(0,n.rC)(),Ae=(0,r.useCallback)((t,n)=>Z.current.map(r=>{const a=n===oe.QUERY?r.queryField:{value:r.fieldName},o=t.filter(e=>!(null==a?void 0:a.refId)||e.refId===a.refId).reduce((n,r)=>{const{fields:o}=r;return(null==o?void 0:o.find(n=>(0,e.getFieldDisplayName)(n,r,t)===(null==a?void 0:a.value)))||n},void 0);if(o){const e=Ge(o);return r.type===p.CHECKBOX_LIST||r.type===p.MULTISELECT?lt(r,e):lt(r,e[e.length-1])}return r}),[Z]),xe=(0,r.useCallback)(({code:e,initial:t,response:n,initialRequest:r,currentElements:a})=>hl(function*(){if(!e)return;const i=Ve("context",d(e));try{yield i(O.create({grafana:{locationService:Qn.locationService,templateService:ye,notifyError:Se,notifySuccess:Ee,notifyWarning:Oe,eventBus:u,appEvents:we,refresh:()=>Ce(),backendService:(0,Qn.getBackendSrv)()},panel:{options:o,data:f,onOptionsChange:c,elements:a||Z.current,onChangeElements:Q,patchFormValue:te,setFormValue:ne,formValue:re(),setInitial:x,initial:t,initialRequest:r,response:n,enableSubmit:()=>j(!0),disableSubmit:()=>j(!1),sectionsUtils:{add:ae,update:se,remove:ie,assign:de,unassign:fe,get:he,getAll:ge,collapse:e=>ee(e,!1),expand:e=>ee(e,!0),toggle:e=>ee(e,!J[e]),expandedState:J}},utils:{toDataQueryResponse:Qn.toDataQueryResponse,fileToBase64:gt}}))}catch(e){e instanceof Error&&w(e.toString())}})(),[d,ye,Se,Ee,Oe,u,we,o,f,c,Z,Q,te,ne,re,x,ae,se,ie,de,fe,he,ge,J,Ce,ee]),De=(0,r.useCallback)(()=>hl(function*(){w(""),v(Y.INITIAL);let t,n=Z.current;if(!Z.current.length||o.initial.method===oe.NONE||o.initial.method===oe.QUERY)return o.initial.method===oe.QUERY&&(n=Ae(f.series,oe.QUERY)),Q(n),x((e=>e.reduce((e,t)=>Ye(Qe({},e),{[t.id]:t.value}),{}))(n)),yield xe({code:o.initial.code,initial:D.current,currentElements:n}),void v(Y.NONE);let r={};if(o.initial.method===oe.DATASOURCE){if(!o.initial.datasource)return w("Please select Data Source for Initial Request."),void v(Y.NONE);const r=yield mt({request:bl(gl({},o.initial),{payloadMode:ue.CUSTOM}),elements:Z.current,initial:D.current,replaceVariables:d});t=yield F({query:o.initial.payload,datasource:o.initial.datasource,replaceVariables:d,payload:r}).catch(e=>{const t=`Initial Datasource Error: ${e.message?e.message:JSON.stringify(e)}`;return w(t),null}),!t||t.hasOwnProperty("state")&&t.state!==e.LoadingState.Done||(n=Ae(t.data,oe.DATASOURCE),Q(n),x(n.reduce((e,t)=>bl(gl({},e),{[t.id]:t.value}),{})))}else{var a;if(!o.initial.url)return w("Please select URL for Initial Request."),void v(Y.NONE);const e=new Headers;if(o.initial.method===oe.POST&&e.set("Content-Type",o.initial.contentType),null===(a=o.initial.header)||void 0===a||a.forEach(t=>{const n=d(t.name);n?e.set(n,d(t.value)):w("All request parameters should be defined. Remove empty parameters.")}),t=yield fetch(d(o.initial.url,void 0,encodeURIComponent),{method:o.initial.method,headers:e}).catch(e=>{const t=`Initial Error: ${e.message?e.message:e.toString()}`;return w(t),null}),"opaque"===(null==t?void 0:t.type)&&w("CORS prevents access to the response for Initial values."),null==t?void 0:t.ok){var i;r=yield t.json();const e=(null===(i=o.elements)||void 0===i?void 0:i.reduce((e,t)=>bl(gl({},e),{[t.id]:void 0!==r[t.id]?r[t.id]:t.value}),{}))||{};n=Z.current.map(t=>lt(t,e[t.id])),Q(n),x(gl({},r,e)),S("Values updated.")}}yield xe({code:o.initial.code,initial:r,response:t,currentElements:n}),v(Y.NONE)})(),[f.series,F,Z,xe,Ae,D,Q,o.elements,o.initial,d,x]),Pe=(0,r.useCallback)(()=>hl(function*(){if(w(""),o.resetAction.mode===pe.INITIAL)return void(yield De());if(o.resetAction.mode===pe.CUSTOM)return v(Y.RESET),yield xe({code:o.resetAction.code,initial:D.current}),void v(Y.NONE);if(v(Y.RESET),!o.resetAction.datasource)return w("Please select Data Source for Reset Request."),void v(Y.NONE);const t=yield mt({request:{datasource:o.resetAction.datasource,payloadMode:ue.CUSTOM,method:oe.NONE,url:"",header:[],getPayload:o.resetAction.getPayload,contentType:le.PLAIN,code:o.resetAction.code,highlight:!1,highlightColor:"",confirm:!1,payload:o.resetAction.payload},elements:Z.current,initial:D.current,replaceVariables:d}),n=yield F({query:o.resetAction.payload,datasource:o.resetAction.datasource,replaceVariables:d,payload:t}).catch(e=>{const t=`Reset Datasource Error: ${e.message?e.message:JSON.stringify(e)}`;return w(t),null});let r=Z.current;n&&n.state===e.LoadingState.Done&&(r=Ae(n.data,oe.DATASOURCE),Q(r)),yield xe({code:o.resetAction.code,initial:D.current,response:n,currentElements:r}),v(Y.NONE)})(),[F,Z,xe,Ae,D,De,Q,o.resetAction.code,o.resetAction.datasource,o.resetAction.getPayload,o.resetAction.mode,o.resetAction.payload,d]),Ie=(0,r.useCallback)(()=>hl(function*(){if(w(""),v(Y.UPDATE),o.update.method===oe.NONE)return yield xe({code:o.update.code,initial:D.current,initialRequest:De}),void v(Y.NONE);const e=yield mt({request:o.update,elements:G,initial:D.current,replaceVariables:d});let t;if(o.update.method===oe.DATASOURCE)t=yield F({query:o.update.payload,datasource:o.update.datasource,replaceVariables:d,payload:e}).catch(e=>{const t=`Update Datasource Error: ${e.message?e.message:JSON.stringify(e)}`;return w(t),null});else{var n;const r=new Headers;let a;o.update.contentType!==le.FORMDATA&&r.set("Content-Type",o.update.contentType),null===(n=o.update.header)||void 0===n||n.forEach(e=>{const t=d(e.name);t?r.set(t,d(e.value)):w("All request parameters should be defined. Remove empty parameters.")}),a=o.update.contentType===le.FORMDATA&&e instanceof Object?((e,t)=>{const n=new FormData;return Object.entries(e).forEach(([e,r])=>{Array.isArray(r)?r.forEach((r,a)=>{n.set(`${e}[${a}]`,bt(r,t))}):n.set(e,bt(r,t))}),n})(e,d):yield((e,t)=>ht(function*(){if("object"!=typeof e||Array.isArray(e)||null===e)return t(JSON.stringify(e));const n={};for(const[t,r]of Object.entries(e))Array.isArray(r)&&r[0]instanceof File?n[t]=yield Promise.all(r.map(e=>gt(e))):n[t]=r;return t(JSON.stringify(n))})())(e,d),t=yield fetch(d(o.update.url,void 0,encodeURIComponent),{method:o.update.method,headers:r,body:a}).catch(e=>(w(e.toString()),null)),(null==t?void 0:t.ok)&&S(t.toString())}yield xe({code:o.update.code,initial:D.current,response:t,initialRequest:De}),v(Y.NONE)})(),[F,G,xe,D,De,o.update,d]);(0,r.useEffect)(()=>{f.state!==e.LoadingState.Done&&f.state!==e.LoadingState.Streaming||!o.sync&&k||(De(),o.sync||_(!0));const t=u.getStream(Qn.RefreshEvent).subscribe(()=>{o.sync&&De()});return()=>{t.unsubscribe()}},[o.initial,o.sync,u,f.state,k,De]);const Re=(0,r.useMemo)(()=>{for(const e of G)if(!(0,Kn.isEqual)(A[e.id],e.value))return!0;return!1},[G,A]),Te=(0,r.useMemo)(()=>!!b||(o.updateEnabled===m.AUTO?!Re&&o.layout.variant!==ke.NONE:!B),[Re,b,o.layout.variant,o.updateEnabled,B]),_e=(0,r.useCallback)(({elements:e,element:t})=>{Ve("context",d(o.elementValueChanged))(C.create({element:t,grafana:{locationService:Qn.locationService,templateService:ye,notifyError:Se,notifySuccess:Ee,notifyWarning:Oe,eventBus:u,appEvents:we,refresh:()=>Ce()},panel:{options:o,data:f,onOptionsChange:c,elements:e,onChangeElements:Q,patchFormValue:te,setFormValue:ne,formValue:re,sectionsUtils:{add:ae,update:se,remove:ie,assign:de,unassign:fe,get:he,getAll:ge,collapse:e=>ee(e,!1),expand:e=>ee(e,!0),toggle:e=>ee(e,!J[e]),expandedState:J},initial:D.current,setError:w,enableReset:()=>M(!0),disableReset:()=>M(!1),enableSubmit:()=>j(!0),disableSubmit:()=>j(!1),enableSaveDefault:()=>V(!0),disableSaveDefault:()=>V(!1),initialRequest:De},utils:{toDataQueryResponse:Qn.toDataQueryResponse}}))},[d,o,ye,Se,Ee,Oe,u,we,f,c,Q,te,ne,re,ae,se,ie,de,fe,he,ge,J,D,De,Ce,ee]);return(0,r.useEffect)(()=>{const e=X.subscribe(ct,e=>{_e(e.payload)});return()=>{e.unsubscribe()}},[X,u,_e]),a().createElement("div",{"data-testid":z.panel.root,className:(0,Fe.cx)(ve.wrapper,Fe.css`
          width: ${i}px;
          height: ${l}px;
          padding: ${o.layout.padding}px;
        `)},b===Y.INITIAL&&a().createElement("div",{className:ve.loadingBar,"data-testid":z.panel.loadingBar},a().createElement(t.LoadingBar,{width:i})),!G.length&&o.layout.variant!==ke.NONE&&a().createElement(t.Alert,{"data-testid":z.panel.infoMessage,severity:"info",title:"Form Elements"},"Please add elements in Panel Options or Custom Code."),a().createElement("div",null,o.layout.variant===ke.SINGLE?a().createElement("div",{"data-testid":z.panel.singleLayoutContent},a().createElement(Xs,{data:f,options:o,elements:G,onChangeElement:q,initial:A,section:null,replaceVariables:d,executeCustomCode:xe,timeZone:g})):a().createElement(Zs,{data:f,options:o,elements:G,sections:ce,onChangeElement:q,initial:A,replaceVariables:d,sectionsExpandedState:J,onChangeSectionExpandedState:ee,executeCustomCode:xe,timeZone:g})),a().createElement("div",{className:(0,Fe.cx)(ve.buttons,ve.buttonsPosition[o.buttonGroup.orientation])},a().createElement(qn,{data:f,executeCustomCode:xe,initial:A,elements:G,replaceVariables:d}),o.updateEnabled!==m.DISABLED&&a().createElement(t.Button,{variant:it(o.submit.variant),icon:b===Y.UPDATE?"fa fa-spinner":o.submit.icon,title:E,style:o.submit.variant===s.CUSTOM?{background:"none",border:"none",backgroundColor:be.visualization.getColorByName(o.submit.backgroundColor),color:be.visualization.getColorByName(o.submit.foregroundColor)}:{},disabled:Te,onClick:o.update.confirm?()=>{I(!0)}:Ie,size:o.buttonGroup.size,"data-testid":z.panel.buttonSubmit},d(o.submit.text)),o.reset.variant!==s.HIDDEN&&a().createElement(t.Button,{variant:it(o.reset.variant),icon:b===Y.RESET?"fa fa-spinner":o.reset.icon,style:o.reset.variant===s.CUSTOM?{background:"none",border:"none",backgroundColor:be.visualization.getColorByName(o.reset.backgroundColor),color:be.visualization.getColorByName(o.reset.foregroundColor)}:{},disabled:!!b||!L,onClick:()=>{o.resetAction.confirm?T(!0):Pe()},size:o.buttonGroup.size,"data-testid":z.panel.buttonReset},d(o.reset.text)),o.saveDefault.variant!==s.HIDDEN&&U&&a().createElement(t.Button,{variant:it(o.saveDefault.variant),icon:o.saveDefault.icon,disabled:!!b||!N,onClick:K,size:o.buttonGroup.size,"data-testid":z.panel.buttonSaveDefault,title:"Save values in the dashboard. Requires to Save dashboard."},d(o.saveDefault.text))),y&&a().createElement(t.Alert,{"data-testid":z.panel.errorMessage,severity:"error",title:"Request",className:ve.errorMessage},y),a().createElement(t.ConfirmModal,{isOpen:P,title:o.confirmModal.title,body:a().createElement("div",{"data-testid":z.panel.confirmModalContent},a().createElement("h4",null,o.confirmModal.body),o.layout.variant!==ke.NONE&&o.confirmModal.columns.include.length>0&&a().createElement("table",{className:ve.confirmTable},a().createElement("thead",null,a().createElement("tr",{className:ve.confirmTable},o.confirmModal.columns.include.includes(h.NAME)&&a().createElement("td",{className:ve.confirmTableTd},a().createElement("b",null,o.confirmModal.columns.name)),o.confirmModal.columns.include.includes(h.OLD_VALUE)&&a().createElement("td",{className:ve.confirmTableTd},a().createElement("b",null,o.confirmModal.columns.oldValue)),o.confirmModal.columns.include.includes(h.NEW_VALUE)&&a().createElement("td",{className:ve.confirmTableTd},a().createElement("b",null,o.confirmModal.columns.newValue)))),a().createElement("tbody",null,G.map(e=>{if((e.value!==A[e.id]||o.confirmModal.elementDisplayMode===me.ALL)&&e.type!==p.DISABLED&&e.type!==p.DISABLED_TEXTAREA&&!("hidden"in e&&e.hidden||!e.helpers.showIf({elements:G})))return a().createElement("tr",{className:ve.confirmTable,key:e.id,"data-testid":z.panel.confirmModalField(e.id)},o.confirmModal.columns.include.includes(h.NAME)&&a().createElement("td",{className:ve.confirmTableTd,"data-testid":z.panel.confirmModalFieldTitle},e.title||e.tooltip),o.confirmModal.columns.include.includes(h.OLD_VALUE)&&a().createElement("td",{className:ve.confirmTableTd,"data-testid":z.panel.confirmModalFieldPreviousValue},dt(e,A[e.id])),o.confirmModal.columns.include.includes(h.NEW_VALUE)&&a().createElement("td",{className:ve.confirmTableTd,"data-testid":z.panel.confirmModalFieldValue},dt(e,e.value)))})))),confirmText:d(o.confirmModal.confirm),onConfirm:()=>{Ie(),I(!1)},onDismiss:()=>I(!1),dismissText:d(o.confirmModal.cancel)}),a().createElement(t.ConfirmModal,{isOpen:R,title:"Confirm reset values",body:a().createElement("div",{"data-testid":z.panel.resetConfirmModal},"Please confirm to reset values"),confirmText:"Confirm",onConfirm:()=>{Pe(),T(!1)},onDismiss:()=>T(!1)}))}).setNoPadding().setMigrationHandler(e=>Il(function*(){var t,n,r,a;const o=Tl({},function(e){if(null==e)throw new TypeError("Cannot destructure "+e);return e}(e.options));var i,s,l,c,u,d,f,h,m;if(o.elements&&o.elements.length>0&&o.elements.forEach(t=>{t.type!==p.SELECT&&t.type!==p.MULTISELECT||t.hasOwnProperty("allowCustomValue")||(t.allowCustomValue=!1),e.pluginVersion&&L().lt(e.pluginVersion,"5.0.0")&&(t.showIf&&(t.showIf=Bl(t.showIf),t.showIf=Nl(t.showIf)),t.disableIf&&(t.disableIf=Bl(t.disableIf),t.disableIf=Nl(t.disableIf)),t.type!==p.DISABLED&&t.type!==p.SELECT&&t.type!==p.MULTISELECT&&t.type!==p.RADIO&&t.type!==p.CHECKBOX_LIST||!t.getOptions||t.optionsSource!==X.CODE||(t.getOptions=Bl(t.getOptions),t.getOptions=Nl(t.getOptions))),t.type!==p.CODE&&t.type!==p.TEXTAREA||t.hasOwnProperty("isEscaping")||(t.isEscaping=!0)}),e.pluginVersion&&L().lt(e.pluginVersion,"4.0.0")&&((0,Kn.set)(o,"initial.code",Bl(null===(i=o.initial)||void 0===i?void 0:i.code)),(0,Kn.set)(o,"resetAction.code",Bl(null===(s=o.resetAction)||void 0===s?void 0:s.code)),(0,Kn.set)(o,"update.code",Bl(null===(l=o.update)||void 0===l?void 0:l.code)),(0,Kn.set)(o,"initial.getPayload",Bl(null===(c=o.initial)||void 0===c?void 0:c.getPayload)),(0,Kn.set)(o,"resetAction.getPayload",Bl(null===(u=o.resetAction)||void 0===u?void 0:u.getPayload)),(0,Kn.set)(o,"update.getPayload",Bl(null===(d=o.update)||void 0===d?void 0:d.getPayload))),"string"==typeof(null===(t=o.initial)||void 0===t?void 0:t.payload)&&(o.initial.payload={}),"string"==typeof(null===(n=o.update)||void 0===n?void 0:n.payload)&&(o.update.payload={}),"string"==typeof(null===(r=o.resetAction)||void 0===r?void 0:r.payload)&&(o.resetAction.payload={}),o.initial&&"updatedOnly"in o.initial&&(o.initial=Ml(o.initial)),o.update&&"updatedOnly"in o.update&&(o.update=Ml(o.update)),(null===(a=o.layout)||void 0===a?void 0:a.sections)&&(o.layout=_l(kl({},o.layout),{sections:o.layout.sections.map(e=>{var{id:t}=e,n=Ll(e,["id"]);return _l(kl({},n),{id:null!=t?t:n.name})})})),e.pluginVersion&&L().lt(e.pluginVersion,"4.3.0")&&((0,Kn.set)(o,"initial.payload",Vl(null===(f=o.initial)||void 0===f?void 0:f.payload)),(0,Kn.set)(o,"update.payload",Vl(null===(h=o.update)||void 0===h?void 0:h.payload)),(0,Kn.set)(o,"resetAction.payload",Vl(null===(m=o.resetAction)||void 0===m?void 0:m.payload))),e.pluginVersion&&L().lt(e.pluginVersion,"4.9.0")){var g,b,v,y,w,E;const e=yield Il(function*(){return yield(0,Qn.getBackendSrv)().get("/api/datasources")})();var S,O,C;o.initial&&(null===(g=o.initial)||void 0===g?void 0:g.datasource)&&(o.initial=_l(kl({},o.initial),{datasource:Fl(e,null===(S=o.initial)||void 0===S?void 0:S.datasource)})),o.update&&(null===(b=o.update)||void 0===b?void 0:b.datasource)&&(o.update=_l(kl({},o.update),{datasource:Fl(e,null===(O=o.update)||void 0===O?void 0:O.datasource)})),o.resetAction&&(null===(v=o.resetAction)||void 0===v?void 0:v.datasource)&&(o.resetAction=_l(kl({},o.resetAction),{datasource:Fl(e,null===(C=o.resetAction)||void 0===C?void 0:C.datasource)})),(0,Kn.set)(o,"initial.code",jl(null===(y=o.initial)||void 0===y?void 0:y.code)),(0,Kn.set)(o,"resetAction.code",jl(null===(w=o.resetAction)||void 0===w?void 0:w.code)),(0,Kn.set)(o,"update.code",jl(null===(E=o.update)||void 0===E?void 0:E.code)),(0,Kn.set)(o,"elementValueChanged",jl(o.elementValueChanged))}return o})()).setPanelOptions(e=>{const r=e=>e.method!==oe.NONE,a=e=>e.method!==oe.NONE&&e.method!==oe.DATASOURCE&&e.method!==oe.QUERY;return e.addRadio({path:"layout.variant",name:"Layout",category:["Layout"],settings:{options:Me},defaultValue:ke.SINGLE}).addSliderInput({path:"layout.padding",name:"Padding",category:["Layout"],defaultValue:10,settings:{min:0,max:20}}),e.addRadio({path:"layout.orientation",name:"Orientation",category:["Sections"],settings:{options:Be},defaultValue:_e.HORIZONTAL,showIf:e=>e.layout.variant===ke.SPLIT}).addRadio({path:"layout.sectionVariant",name:"Variant",category:["Sections"],settings:{options:je},defaultValue:Le.DEFAULT,showIf:e=>e.layout.variant===ke.SPLIT&&e.layout.orientation===_e.VERTICAL}).addCustomEditor({id:"layout.sections",path:"layout.sections",name:"Sections",category:["Sections"],editor:Dl,showIf:e=>e.layout.variant===ke.SPLIT}),e.addCustomEditor({id:"elements",path:"elements",name:"Form Elements",category:["Form Elements"],description:"Form Elements",editor:dl,showIf:e=>e.layout.variant!==ke.NONE}),e.addCustomEditor({id:"elementValueChanged",path:"elementValueChanged",name:"Element Value Changed",category:["Form Events"],description:"Code to run when element value changed",editor:Yn,settings:{type:u.ELEMENT_VALUE_CHANGED,variablesSuggestions:!0},showIf:e=>e.layout.variant!==ke.NONE,defaultValue:""}),e.addRadio({path:"sync",name:"Synchronize with data",description:"Keeps the panel synched with the dashboard updates.",category:["Initial Request"],settings:{options:k},defaultValue:!0}).addRadio({path:"initial.method",name:"Initial Action",category:["Initial Request"],settings:{options:ie},defaultValue:oe.NONE}).addTextInput({path:"initial.url",name:"URL",category:["Initial Request"],description:"The URL to call. Leave empty to skip Initial Request.",settings:{placeholder:"http://"},showIf:e=>a(e.initial)}).addCustomEditor({id:"initial.header",path:"initial.header",name:"Header Parameters",category:["Initial Request"],editor:vl,showIf:e=>a(e.initial)}).addCustomEditor({id:"initial.datasource",path:"initial.datasource",name:"Data Source",category:["Initial Request"],editor:n.dy,showIf:e=>e.initial.method===oe.DATASOURCE}).addSelect({path:"initial.contentType",name:"Content-Type",category:["Initial Request"],description:"Content-Type of the payload.",defaultValue:le.JSON,settings:{allowCustomValue:!0,options:ce},showIf:e=>e.initial.method===oe.POST}).addCustomEditor({id:"initial.code",path:"initial.code",name:"Custom Code",description:"Custom code to execute initial request.",editor:Yn,category:["Initial Request"],settings:{type:u.REQUEST,variablesSuggestions:!0},defaultValue:be,showIf:e=>!r(e.initial)}).addCustomEditor({id:"initial.code",path:"initial.code",name:"Custom Code",description:"Custom code to execute after initial request.",editor:Yn,category:["Initial Request"],settings:{type:u.REQUEST,variablesSuggestions:!0},defaultValue:be,showIf:e=>r(e.initial)}),e.addCustomEditor({id:"elements",path:"elements",name:"Field Names",description:"Specify fields for appropriate form elements.",category:["Initial Fields"],editor:Sl,showIf:e=>e.layout.variant!==ke.NONE&&e.initial.method===oe.DATASOURCE}).addCustomEditor({id:"elements",path:"elements",name:"Query Fields",description:"Specify fields for appropriate form elements.",category:["Initial Fields"],editor:Sl,showIf:e=>e.layout.variant!==ke.NONE&&e.initial.method===oe.QUERY}),e.addCustomEditor({id:"initial.getPayload",path:"initial.getPayload",name:"Create Payload",description:"Custom code to create payload for the initial data source request.",editor:Yn,category:["Initial Request Payload"],settings:{type:u.GET_PAYLOAD,variablesSuggestions:!0},defaultValue:ye,showIf:e=>e.initial.method===oe.DATASOURCE&&!!e.initial.datasource}).addCustomEditor({id:"initial.payload",path:"initial.payload",name:"Query Editor",description:"Configure query for the selected data source. ${payload} variable contains all passed values.",editor:Xn,category:["Initial Request Payload"],settings:{datasourceKey:"initial.datasource"},defaultValue:{},showIf:e=>e.initial.method===oe.DATASOURCE&&!!e.initial.datasource}),e.addRadio({path:"initial.highlight",name:"Highlight Changes",description:"Some elements are not supporting highlighting.",category:["Highlight Changes"],settings:{options:Ne},defaultValue:!1,showIf:e=>e.layout.variant!==ke.NONE}).addColorPicker({path:"initial.highlightColor",name:"Color",category:["Highlight Changes"],defaultValue:"red",settings:{disableNamedColors:!0},showIf:e=>e.initial.highlight&&e.layout.variant!==ke.NONE}),e.addRadio({path:"updateEnabled",name:"Enable Update",category:["Update Request"],settings:{options:he},defaultValue:m.AUTO}).addRadio({path:"update.method",name:"Update Action",category:["Update Request"],settings:{options:se},defaultValue:oe.NONE}).addTextInput({path:"update.url",name:"URL",category:["Update Request"],description:"The URL to call.",settings:{placeholder:"http://"},showIf:e=>r(e.update)&&a(e.update)}).addCustomEditor({id:"update.datasource",path:"update.datasource",name:"Data Source",category:["Update Request"],editor:n.dy,showIf:e=>e.update.method===oe.DATASOURCE}).addCustomEditor({id:"update.header",path:"update.header",name:"Header Parameters",category:["Update Request"],editor:vl,showIf:e=>r(e.update)&&a(e.update)}).addSelect({path:"update.contentType",name:"Content-Type",category:["Update Request"],description:"Content-Type of the payload.",defaultValue:le.JSON,settings:{allowCustomValue:!0,options:ce},showIf:e=>r(e.update)&&a(e.update)}).addCustomEditor({id:"update.code",path:"update.code",name:"Custom Code",description:"Custom code to execute after update request.",editor:Yn,category:["Update Request"],settings:{type:u.REQUEST,variablesSuggestions:!0},defaultValue:ve,showIf:e=>r(e.update)}).addCustomEditor({id:"update.code",path:"update.code",name:"Custom Code",description:"Custom code to execute update request.",editor:Yn,category:["Update Request"],settings:{type:u.REQUEST,variablesSuggestions:!0},defaultValue:ve,showIf:e=>!r(e.update)}),e.addRadio({path:"update.payloadMode",name:"Request Payload",description:"Choose what values will be included in payload.",category:["Update Request Payload"],settings:{options:de},defaultValue:ue.ALL,showIf:e=>r(e.update)&&e.layout.variant!==ke.NONE}).addCustomEditor({id:"update.getPayload",path:"update.getPayload",name:"Create Payload",description:"Custom code to create payload for the update request.",editor:Yn,category:["Update Request Payload"],settings:{type:u.GET_PAYLOAD,variablesSuggestions:!0},defaultValue:"const payload = {};\ncontext.panel.elements.forEach((element) => {\n  if (!element.value) {\n    return;\n  }\n  payload[element.id] = element.value;\n})\nreturn payload;",showIf:e=>r(e.update)&&e.update.payloadMode===ue.CUSTOM}).addCustomEditor({id:"update.payload",path:"update.payload",name:"Query Editor",description:"Configure query for the selected data source. ${payload} variable contains all passed values.",editor:Xn,category:["Update Request Payload"],settings:{datasourceKey:"update.datasource"},defaultValue:{},showIf:e=>r(e.update)&&e.update.method===oe.DATASOURCE&&!!e.update.datasource}),e.addRadio({path:"update.confirm",name:"Confirmation Window",description:"Ask to confirm updated values.",category:["Update Confirmation Window"],settings:{options:Ne},defaultValue:!1}).addTextInput({path:"confirmModal.title",name:"Title",category:["Update Confirmation Window"],defaultValue:Re.title,showIf:e=>e.update.confirm}).addRadio({path:"confirmModal.elementDisplayMode",name:"Display Values",description:"Which elements should be shown.",category:["Update Confirmation Window"],settings:{options:ge},defaultValue:me.MODIFIED,showIf:e=>e.update.confirm}).addTextInput({path:"confirmModal.body",name:"Text",category:["Update Confirmation Window"],defaultValue:Re.body,showIf:e=>e.update.confirm}).addMultiSelect({path:"confirmModal.columns.include",name:"Include columns",category:["Update Confirmation Window"],defaultValue:Re.columns.include,showIf:e=>e.update.confirm,settings:{options:T}}).addTextInput({path:"confirmModal.columns.name",name:"Name (Label) column",category:["Update Confirmation Window"],defaultValue:Re.columns.name,showIf:e=>e.update.confirm&&e.confirmModal.columns.include.includes(h.NAME)}).addTextInput({path:"confirmModal.columns.oldValue",name:"Old value column",category:["Update Confirmation Window"],defaultValue:Re.columns.oldValue,showIf:e=>e.update.confirm&&e.confirmModal.columns.include.includes(h.OLD_VALUE)}).addTextInput({path:"confirmModal.columns.newValue",name:"New value column",category:["Update Confirmation Window"],defaultValue:Re.columns.newValue,showIf:e=>e.update.confirm&&e.confirmModal.columns.include.includes(h.NEW_VALUE)}).addTextInput({path:"confirmModal.confirm",name:"Confirm button",category:["Update Confirmation Window"],description:"The text on the confirm button.",defaultValue:Re.confirm,showIf:e=>e.update.confirm}).addTextInput({path:"confirmModal.cancel",name:"Cancel button",category:["Update Confirmation Window"],description:"The text on the cancel button.",defaultValue:Re.cancel,showIf:e=>e.update.confirm}),e.addRadio({path:"buttonGroup.orientation",name:"Orientation",category:["Buttons"],description:"Buttons orientation on the form.",settings:{options:w},defaultValue:o.CENTER}).addRadio({path:"buttonGroup.size",name:"Size",category:["Buttons"],description:"Buttons size on the form.",settings:{options:E},defaultValue:i.MEDIUM}),e.addRadio({path:"submit.variant",name:"Submit Button",category:["Submit Button"],description:"Button variant.",settings:{options:y},defaultValue:we.variant}).addColorPicker({path:"submit.foregroundColor",name:"Foreground Color",category:["Submit Button"],description:"Foreground color of the button.",defaultValue:we.foregroundColor,settings:{disableNamedColors:!0},showIf:e=>e.submit.variant===s.CUSTOM}).addColorPicker({path:"submit.backgroundColor",name:"Background Color",category:["Submit Button"],description:"Background color of the button.",defaultValue:we.backgroundColor,settings:{disableNamedColors:!0},showIf:e=>e.submit.variant===s.CUSTOM}).addSelect({path:"submit.icon",name:"Icon",category:["Submit Button"],settings:{options:(0,t.getAvailableIcons)().map(e=>({value:e,label:e}))},defaultValue:we.icon}).addTextInput({path:"submit.text",name:"Text",category:["Submit Button"],description:"The text on the button.",defaultValue:we.text}),e.addRadio({path:"reset.variant",name:"Reset Button",category:["Reset Button"],description:"Button variant.",settings:{options:[...v,...y]},defaultValue:Ee.variant}).addColorPicker({path:"reset.foregroundColor",name:"Foreground Color",category:["Reset Button"],description:"Foreground color of the button.",defaultValue:Ee.foregroundColor,settings:{disableNamedColors:!0},showIf:e=>e.reset.variant===s.CUSTOM}).addColorPicker({path:"reset.backgroundColor",name:"Background Color",category:["Reset Button"],description:"Background color of the button.",defaultValue:Ee.backgroundColor,settings:{disableNamedColors:!0},showIf:e=>e.reset.variant===s.CUSTOM}).addSelect({path:"reset.icon",name:"Icon",category:["Reset Button"],settings:{options:(0,t.getAvailableIcons)().map(e=>({value:e,label:e}))},defaultValue:Ee.icon,showIf:e=>e.reset.variant!==s.HIDDEN}).addTextInput({path:"reset.text",name:"Text",category:["Reset Button"],description:"The text on the button.",defaultValue:Ee.text,showIf:e=>e.reset.variant!==s.HIDDEN}),e.addRadio({path:"resetAction.mode",name:"Reset Action",category:["Reset Request"],description:"What action should be called by clicking on reset button.",settings:{options:fe},defaultValue:pe.INITIAL,showIf:e=>e.reset.variant!==s.HIDDEN}).addCustomEditor({id:"resetAction.code",path:"resetAction.code",name:"Custom Code",description:"Custom code to execute reset request.",editor:Yn,category:["Reset Request"],settings:{type:u.REQUEST,variablesSuggestions:!0},defaultValue:"console.log(context.panel.data, context.panel.response, context.panel.initial, context.panel.elements);",showIf:e=>e.reset.variant!==s.HIDDEN&&e.resetAction.mode===pe.CUSTOM}).addCustomEditor({id:"resetAction.datasource",path:"resetAction.datasource",name:"Data Source",category:["Reset Request"],editor:n.dy,showIf:e=>e.reset.variant!==s.HIDDEN&&e.resetAction.mode===pe.DATASOURCE}).addCustomEditor({id:"resetAction.code",path:"resetAction.code",name:"Custom Code",description:"Custom code to execute after reset request.",editor:Yn,category:["Reset Request"],settings:{type:u.REQUEST,variablesSuggestions:!0},defaultValue:ve,showIf:e=>e.reset.variant!==s.HIDDEN&&e.resetAction.mode===pe.DATASOURCE}).addRadio({path:"resetAction.confirm",name:"Confirmation Window",description:"Ask to reset values.",category:["Reset Request"],settings:{options:Ne},defaultValue:!1}),e.addCustomEditor({id:"resetAction.getPayload",path:"resetAction.getPayload",name:"Create Payload",description:"Custom code to create payload for the reset data source request.",editor:Yn,category:["Reset Request Payload"],settings:{type:u.GET_PAYLOAD,variablesSuggestions:!0},defaultValue:ye,showIf:e=>e.reset.variant!==s.HIDDEN&&e.resetAction.mode===pe.DATASOURCE&&!!e.resetAction.datasource}).addCustomEditor({id:"resetAction.payload",path:"resetAction.payload",name:"Query Editor",description:"Configure query for the selected data source. ${payload} variable contains all passed values.",editor:Xn,category:["Reset Request Payload"],settings:{datasourceKey:"resetAction.datasource"},defaultValue:{},showIf:e=>e.reset.variant!==s.HIDDEN&&e.resetAction.mode===pe.DATASOURCE&&!!e.resetAction.datasource}),e.addRadio({path:"saveDefault.variant",name:"Save Default Button",category:["Save Default Button"],description:"Button variant.",settings:{options:[...v,{value:s.SECONDARY,label:"Auto"}]},defaultValue:Se.variant}).addSelect({path:"saveDefault.icon",name:"Icon",category:["Save Default Button"],settings:{options:(0,t.getAvailableIcons)().map(e=>({value:e,label:e}))},defaultValue:Se.icon,showIf:e=>e.saveDefault.variant!==s.HIDDEN}).addTextInput({path:"saveDefault.text",name:"Text",category:["Save Default Button"],description:"The text on the button.",defaultValue:Se.text,showIf:e=>e.saveDefault.variant!==s.HIDDEN}),e})})(),b})());
//# sourceMappingURL=module.js.map