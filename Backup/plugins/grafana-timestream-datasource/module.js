define(["@grafana/data","react","@grafana/ui","@grafana/runtime","lodash","@emotion/css","rxjs"],((e,t,n,r,s,l,o)=>(()=>{var a={358:(e,t,n)=>{"use strict";var r=n(545),s=(n(177),n(305),n(589));n(650),n(388);function l(e){return"function"==typeof e}var o,a=((o=function(e){return function(t){e(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map((function(e,t){return t+1+") "+e.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t}}((function(e){Error.call(e),e.stack=(new Error).stack}))).prototype=Object.create(Error.prototype),o.prototype.constructor=o,o);function i(e,t){if(e){var n=e.indexOf(t);0<=n&&e.splice(n,1)}}var u=function(){function e(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}var t;return e.prototype.unsubscribe=function(){var e,t,n,r,o;if(!this.closed){this.closed=!0;var i=this._parentage;if(i)if(this._parentage=null,Array.isArray(i))try{for(var u=s.__values(i),p=u.next();!p.done;p=u.next())p.value.remove(this)}catch(t){e={error:t}}finally{try{p&&!p.done&&(t=u.return)&&t.call(u)}finally{if(e)throw e.error}}else i.remove(this);var c=this.initialTeardown;if(l(c))try{c()}catch(e){o=e instanceof a?e.errors:[e]}var g=this._finalizers;if(g){this._finalizers=null;try{for(var d=s.__values(g),y=d.next();!y.done;y=d.next()){var E=y.value;try{f(E)}catch(e){o=null!=o?o:[],e instanceof a?o=s.__spreadArray(s.__spreadArray([],s.__read(o)),s.__read(e.errors)):o.push(e)}}}catch(e){n={error:e}}finally{try{y&&!y.done&&(r=d.return)&&r.call(d)}finally{if(n)throw n.error}}}if(o)throw new a(o)}},e.prototype.add=function(t){var n;if(t&&t!==this)if(this.closed)f(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(t)}},e.prototype._hasParent=function(e){var t=this._parentage;return t===e||Array.isArray(t)&&t.includes(e)},e.prototype._addParent=function(e){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e},e.prototype._removeParent=function(e){var t=this._parentage;t===e?this._parentage=null:Array.isArray(t)&&i(t,e)},e.prototype.remove=function(t){var n=this._finalizers;n&&i(n,t),t instanceof e&&t._removeParent(this)},e.EMPTY=((t=new e).closed=!0,t),e}();function f(e){l(e)?e():e.unsubscribe()}u.EMPTY;function p(){}var c=function(e){function t(t){var n,r=e.call(this)||this;return r.isStopped=!1,t?(r.destination=t,((n=t)instanceof u||n&&"closed"in n&&l(n.remove)&&l(n.add)&&l(n.unsubscribe))&&t.add(r)):r.destination=E,r}return s.__extends(t,e),t.create=function(e,t,n){return new d(e,t,n)},t.prototype.next=function(e){this.isStopped||this._next(e)},t.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){try{this.destination.error(e)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(u);Function.prototype.bind;var g=function(){function e(e){this.partialObserver=e}return e.prototype.next=function(e){var t=this.partialObserver;if(t.next)try{t.next(e)}catch(e){y(e)}},e.prototype.error=function(e){var t=this.partialObserver;if(t.error)try{t.error(e)}catch(e){y(e)}else y(e)},e.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(e){y(e)}},e}(),d=function(e){function t(t,n,r){var s,o=e.call(this)||this;return s=l(t)||!t?{next:null!=t?t:void 0,error:null!=n?n:void 0,complete:null!=r?r:void 0}:t,o.destination=new g(s),o}return s.__extends(t,e),t}(c);function y(e){var t;t=e,function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];setTimeout.apply(void 0,s.__spreadArray([e,t],s.__read(n)))}((function(){throw t}))}var E={closed:!0,next:p,error:function(e){throw e},complete:p};!function(e){function t(t,n,r,s,l,o){var a=e.call(this,t)||this;return a.onFinalize=l,a.shouldUnsubscribe=o,a._next=n?function(e){try{n(e)}catch(e){t.error(e)}}:e.prototype._next,a._error=s?function(e){try{s(e)}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._error,a._complete=r?function(){try{r()}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._complete,a}s.__extends(t,e),t.prototype.unsubscribe=function(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var n=this.closed;e.prototype.unsubscribe.call(this),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}(c);Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable,Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;class q extends r.DataSourceWithBackend{constructor(e,t=!1){super(e),this.runningQueries={},this.requestCounter=100,this.cancel=e=>{this.storeQuery(e,{shouldCancel:!0})},this.asyncQueryDataSupport=t}query(e){if(this.asyncQueryDataSupport){const t=this.filterQuery?e.targets.filter(this.filterQuery):e.targets;if(!t.length)return rxjs.of({data:[]});const n=[];for(let r of t)r.hide||n.push(this.doSingle(r,e));return rxjs.merge(...n)}return super.query(e)}storeQuery(e,t){const n=JSON.stringify(e),r=this.runningQueries[n]||{};this.runningQueries[n]=__spreadValues(__spreadValues({},r),t)}getQuery(e){const t=JSON.stringify(e);return this.runningQueries[t]||{}}removeQuery(e){const t=JSON.stringify(e);delete this.runningQueries[t]}doSingle(e,t){return __spreadProps(__spreadValues({},t),{targets:[e],requestId:"aws_ts_"+this.requestCounter++}),new rxjs.Observable((e=>{let t=data.LoadingState.Loading;const s={next:s=>{s.state;if(t!==data.LoadingState.Error){r.getNextQuery(s);r.shouldCancel()}const l=r.process(s.data);e.next(__spreadProps$1(__spreadValues$1({},s),{data:l,state:t,key:n.requestId}))},error:t=>{e.error(t)},complete:()=>{e.complete()}};return r.query(n).subscribe(s),function(){s.complete()}}));var n,r}}},556:(e,t,n)=>{var r,s,l,o,a,i,u,f,p,c,g=n(388),d=n(650),y=(r=d)&&"object"==typeof r&&"default"in r?r.default:r,E=(n(305),n(545),n(644));function q(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,s,l=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=l.next()).done;)o.push(r.value)}catch(e){s={error:e}}finally{try{r&&!r.done&&(n=l.return)&&n.call(l)}finally{if(s)throw s.error}}return o}function m(e,t,n){if(n||2===arguments.length)for(var r,s=0,l=t.length;s<l;s++)!r&&s in t||(r||(r=Array.prototype.slice.call(t,0,s)),r[s]=t[s]);return e.concat(r||Array.prototype.slice.call(t))}(s=t.$M||(t.$M={}))[s.Comparison=0]="Comparison",s[s.Logical=1]="Logical",(l=t.mB||(t.mB={}))[l.Value=0]="Value",l[l.Filter=1]="Filter",l[l.Group=2]="Group",l[l.Column=3]="Column",l[l.Table=4]="Table",(o=t.iv||(t.iv={})).Parenthesis="delimiter.parenthesis.sql",o.Whitespace="white.sql",o.Keyword="keyword.sql",o.Delimiter="delimiter.sql",o.Operator="operator.sql",o.Identifier="identifier.sql",o.IdentifierQuote="identifier.quote.sql",o.Type="type.sql",o.Function="predefined.sql",o.Number="number.sql",o.String="string.sql",o.Variable="variable.sql",(a=t.fC||(t.fC={})).Unknown="unknown",a.SelectKeyword="selectKeyword",a.WithKeyword="withKeyword",a.AfterSelectKeyword="afterSelectKeyword",a.AfterSelectArguments="afterSelectArguments",a.AfterSelectFuncFirstArgument="afterSelectFuncFirstArgument",a.SelectAlias="selectAlias",a.AfterFromKeyword="afterFromKeyword",a.AfterTable="afterTable",a.SchemaFuncFirstArgument="schemaFuncFirstArgument",a.SchemaFuncExtraArgument="schemaFuncExtraArgument",a.FromKeyword="fromKeyword",a.AfterFrom="afterFrom",a.WhereKeyword="whereKeyword",a.WhereComparisonOperator="whereComparisonOperator",a.WhereValue="whereValue",a.AfterWhereFunctionArgument="afterWhereFunctionArgument",a.AfterGroupByFunctionArgument="afterGroupByFunctionArgument",a.AfterWhereValue="afterWhereValue",a.AfterGroupByKeywords="afterGroupByKeywords",a.AfterGroupBy="afterGroupBy",a.AfterOrderByKeywords="afterOrderByKeywords",a.AfterOrderByFunction="afterOrderByFunction",a.AfterOrderByDirection="afterOrderByDirection",a.AfterIsOperator="afterIsOperator",a.AfterIsNotOperator="afterIsNotOperator",a.AfterSchema="afterSchema",(i=t.is||(t.is={})).Schemas="schemas",i.Tables="tables",i.Columns="columns",i.SelectKeyword="selectKeyword",i.WithKeyword="withKeyword",i.FunctionsWithArguments="functionsWithArguments",i.FromKeyword="fromKeyword",i.WhereKeyword="whereKeyword",i.GroupByKeywords="groupByKeywords",i.OrderByKeywords="orderByKeywords",i.FunctionsWithoutArguments="functionsWithoutArguments",i.LimitKeyword="limitKeyword",i.SortOrderDirectionKeyword="sortOrderDirectionKeyword",i.ComparisonOperators="comparisonOperators",i.LogicalOperators="logicalOperators",i.SelectMacro="selectMacro",i.TableMacro="tableMacro",i.FilterMacro="filterMacro",i.GroupMacro="groupMacro",i.BoolValues="boolValues",i.NullValue="nullValue",i.NotKeyword="notKeyword",i.TemplateVariables="templateVariables",i.StarWildCard="starWildCard",(u=t.G8||(t.G8={})).High="a",u.MediumHigh="d",u.Medium="g",u.MediumLow="k",u.Low="q",(f=t.cm||(t.cm={}))[f.Method=0]="Method",f[f.Function=1]="Function",f[f.Constructor=2]="Constructor",f[f.Field=3]="Field",f[f.Variable=4]="Variable",f[f.Class=5]="Class",f[f.Struct=6]="Struct",f[f.Interface=7]="Interface",f[f.Module=8]="Module",f[f.Property=9]="Property",f[f.Event=10]="Event",f[f.Operator=11]="Operator",f[f.Unit=12]="Unit",f[f.Value=13]="Value",f[f.Constant=14]="Constant",f[f.Enum=15]="Enum",f[f.EnumMember=16]="EnumMember",f[f.Keyword=17]="Keyword",f[f.Text=18]="Text",f[f.Color=19]="Color",f[f.File=20]="File",f[f.Reference=21]="Reference",f[f.Customcolor=22]="Customcolor",f[f.Folder=23]="Folder",f[f.TypeParameter=24]="TypeParameter",f[f.User=25]="User",f[f.Issue=26]="Issue",f[f.Snippet=27]="Snippet",(p=t.a7||(t.a7={}))[p.KeepWhitespace=1]="KeepWhitespace",p[p.InsertAsSnippet=4]="InsertAsSnippet",(c=t.je||(t.je={})).Builder="builder",c.Code="code";!function(){function e(e,t,n,r,s){this.type=e,this.value=t,this.range=n,this.previous=r,this.next=s}e.prototype.isKeyword=function(){return this.type===t.iv.Keyword},e.prototype.isWhiteSpace=function(){return this.type===t.iv.Whitespace},e.prototype.isParenthesis=function(){return this.type===t.iv.Parenthesis},e.prototype.isIdentifier=function(){return this.type===t.iv.Identifier},e.prototype.isString=function(){return this.type===t.iv.String},e.prototype.isNumber=function(){return this.type===t.iv.Number},e.prototype.isDoubleQuotedString=function(){return this.type===t.iv.Type},e.prototype.isVariable=function(){return this.type===t.iv.Variable},e.prototype.isFunction=function(){return this.type===t.iv.Function},e.prototype.isOperator=function(){return this.type===t.iv.Operator},e.prototype.isTemplateVariable=function(){return this.type===t.iv.Variable},e.prototype.is=function(e,t){var n=this.type===e;return void 0!==t?n&&h(e,this,t):n},e.prototype.getPreviousNonWhiteSpaceToken=function(){for(var e=this.previous;null!=e;){if(!e.isWhiteSpace())return e;e=e.previous}return null},e.prototype.getPreviousOfType=function(e,t){for(var n=this.previous;null!=n;){var r=n.type===e;if(void 0!==t?r&&h(e,n,t):r)return n;n=n.previous}return null},e.prototype.getPreviousUntil=function(e,t,n){for(var r=[],s=this.previous;null!=s;)if(t.some((function(e){return e===(null==s?void 0:s.type)})))s=s.previous;else{var l=s.type===e;if(void 0!==n?l&&h(e,s,n):l)return r;s.isWhiteSpace()||r.push(s),s=s.previous}return r},e.prototype.getNextUntil=function(e,t,n){for(var r=[],s=this.next;null!=s;)if(t.some((function(e){return e===(null==s?void 0:s.type)})))s=s.next;else{var l=s.type===e;if(void 0!==n?l&&h(e,s,n):l)return r;s.isWhiteSpace()||r.push(s),s=s.next}return r},e.prototype.getPreviousKeyword=function(){for(var e=this.previous;null!=e;){if(e.isKeyword())return e;e=e.previous}return null},e.prototype.getNextNonWhiteSpaceToken=function(){for(var e=this.next;null!=e;){if(!e.isWhiteSpace())return e;e=e.next}return null},e.prototype.getNextOfType=function(e,t){for(var n=this.next;null!=n;){var r=n.type===e;if(void 0!==t?r&&h(e,n,t):r)return n;n=n.next}return null}}();function h(e,n,r){return e===t.iv.Keyword||e===t.iv.Operator?n.value.toLowerCase()===r.toString().toLowerCase():n.value===r}var T="select",O="from",w="by",R="desc",S="asc",v=["=","!="],A=m([],q(v),!1);Object.freeze({__proto__:null,SELECT:T,FROM:O,WHERE:"where",GROUP:"group",ORDER:"order",BY:w,DESC:R,ASC:S,LIMIT:"limit",WITH:"with",AS:"as",SCHEMA:"schema",AND:"AND",OR:"OR",LOGICAL_OPERATORS:["AND","OR"],EQUALS:"=",NOT_EQUALS:"!=",COMPARISON_OPERATORS:v,STD_OPERATORS:A,conf:{comments:{lineComment:"--",blockComment:["/*","*/"]},brackets:[["{","}"],["[","]"],["(",")"]],autoClosingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"}],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"}]},language:{defaultToken:"",tokenPostfix:".sql",ignoreCase:!0,brackets:[{open:"[",close:"]",token:"delimiter.square"},{open:"(",close:")",token:"delimiter.parenthesis"}],keywords:["ABORT","ABSOLUTE","ACTION","ADA","ADD","AFTER","ALL","ALLOCATE","ALTER","ALWAYS","ANALYZE","AND","ANY","ARE","AS","ASC","ASSERTION","AT","ATTACH","AUTHORIZATION","AUTOINCREMENT","AVG","BACKUP","BEFORE","BEGIN","BETWEEN","BIT","BIT_LENGTH","BOTH","BREAK","BROWSE","BULK","BY","CASCADE","CASCADED","CASE","CAST","CATALOG","CHAR","CHARACTER","CHARACTER_LENGTH","CHAR_LENGTH","CHECK","CHECKPOINT","CLOSE","CLUSTERED","COALESCE","COLLATE","COLLATION","COLUMN","COMMIT","COMPUTE","CONFLICT","CONNECT","CONNECTION","CONSTRAINT","CONSTRAINTS","CONTAINS","CONTAINSTABLE","CONTINUE","CONVERT","CORRESPONDING","COUNT","CREATE","CROSS","CURRENT","CURRENT_DATE","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_USER","CURSOR","DATABASE","DATE","DAY","DBCC","DEALLOCATE","DEC","DECIMAL","DECLARE","DEFAULT","DEFERRABLE","DEFERRED","DELETE","DENY","DESC","DESCRIBE","DESCRIPTOR","DETACH","DIAGNOSTICS","DISCONNECT","DISK","DISTINCT","DISTRIBUTED","DO","DOMAIN","DOUBLE","DROP","DUMP","EACH","ELSE","END","END-EXEC","ERRLVL","ESCAPE","EXCEPT","EXCEPTION","EXCLUDE","EXCLUSIVE","EXEC","EXECUTE","EXISTS","EXIT","EXPLAIN","EXTERNAL","EXTRACT","FAIL","FALSE","FETCH","FILE","FILLFACTOR","FILTER","FIRST","FLOAT","FOLLOWING","FOR","FOREIGN","FORTRAN","FOUND","FREETEXT","FREETEXTTABLE","FROM","FULL","FUNCTION","GENERATED","GET","GLOB","GLOBAL","GO","GOTO","GRANT","GROUP","GROUPS","HAVING","HOLDLOCK","HOUR","IDENTITY","IDENTITYCOL","IDENTITY_INSERT","IF","IGNORE","IMMEDIATE","IN","INCLUDE","INDEX","INDEXED","INDICATOR","INITIALLY","INNER","INPUT","INSENSITIVE","INSERT","INSTEAD","INT","INTEGER","INTERSECT","INTERVAL","INTO","IS","ISNULL","ISOLATION","JOIN","KEY","KILL","LANGUAGE","LAST","LEADING","LEFT","LEVEL","LIKE","LIMIT","LINENO","LOAD","LOCAL","LOWER","MATCH","MATERIALIZED","MAX","MERGE","MIN","MINUTE","MODULE","MONTH","NAMES","NATIONAL","NATURAL","NCHAR","NEXT","NO","NOCHECK","NONCLUSTERED","NONE","NOT","NOTHING","NOTNULL","NULL","NULLIF","NULLS","NUMERIC","OCTET_LENGTH","OF","OFF","OFFSET","OFFSETS","ON","ONLY","OPEN","OPENDATASOURCE","OPENQUERY","OPENROWSET","OPENXML","OPTION","OR","ORDER","OTHERS","OUTER","OUTPUT","OVER","OVERLAPS","PAD","PARTIAL","PARTITION","PASCAL","PERCENT","PIVOT","PLAN","POSITION","PRAGMA","PRECEDING","PRECISION","PREPARE","PRESERVE","PRIMARY","PRINT","PRIOR","PRIVILEGES","PROC","PROCEDURE","PUBLIC","QUERY","RAISE","RAISERROR","RANGE","READ","READTEXT","REAL","RECONFIGURE","RECURSIVE","REFERENCES","REGEXP","REINDEX","RELATIVE","RELEASE","RENAME","REPLACE","REPLICATION","RESTORE","RESTRICT","RETURN","RETURNING","REVERT","REVOKE","RIGHT","ROLLBACK","ROW","ROWCOUNT","ROWGUIDCOL","ROWS","RULE","SAVE","SAVEPOINT","SCHEMA","SCROLL","SECOND","SECTION","SECURITYAUDIT","SELECT","SEMANTICKEYPHRASETABLE","SEMANTICSIMILARITYDETAILSTABLE","SEMANTICSIMILARITYTABLE","SESSION","SESSION_USER","SET","SETUSER","SHUTDOWN","SIZE","SMALLINT","SOME","SPACE","SQL","SQLCA","SQLCODE","SQLERROR","SQLSTATE","SQLWARNING","STATISTICS","SUBSTRING","SUM","SYSTEM_USER","TABLE","TABLESAMPLE","TEMP","TEMPORARY","TEXTSIZE","THEN","TIES","TIME","TIMESTAMP","TIMEZONE_HOUR","TIMEZONE_MINUTE","TO","TOP","TRAILING","TRAN","TRANSACTION","TRANSLATE","TRANSLATION","TRIGGER","TRIM","TRUE","TRUNCATE","TRY_CONVERT","TSEQUAL","UNBOUNDED","UNION","UNIQUE","UNKNOWN","UNPIVOT","UPDATE","UPDATETEXT","UPPER","USAGE","USE","USER","USING","VACUUM","VALUE","VALUES","VARCHAR","VARYING","VIEW","VIRTUAL","WAITFOR","WHEN","WHENEVER","WHERE","WHILE","WINDOW","WITH","WITHIN GROUP","WITHOUT","WORK","WRITE","WRITETEXT","YEAR","ZONE"],operators:["EXCEPT","INTERSECT","UNION","APPLY","CROSS","FULL","INNER","JOIN","LEFT","OUTER","RIGHT","CONTAINS","FREETEXT","IS","NULL","PIVOT","UNPIVOT","MATCHED"],logicalOperators:["ALL","AND","ANY","BETWEEN","EXISTS","IN","LIKE","NOT","OR","SOME"],comparisonOperators:["<>",">","<",">=","<=","=","!=","&","~","^","%"],builtinFunctions:["AVG","CHECKSUM_AGG","COUNT","COUNT_BIG","GROUPING","GROUPING_ID","MAX","MIN","SUM","STDEV","STDEVP","VAR","VARP","CUME_DIST","FIRST_VALUE","LAG","LAST_VALUE","LEAD","PERCENTILE_CONT","PERCENTILE_DISC","PERCENT_RANK","COLLATE","COLLATIONPROPERTY","TERTIARY_WEIGHTS","FEDERATION_FILTERING_VALUE","CAST","CONVERT","PARSE","TRY_CAST","TRY_CONVERT","TRY_PARSE","ASYMKEY_ID","ASYMKEYPROPERTY","CERTPROPERTY","CERT_ID","CRYPT_GEN_RANDOM","DECRYPTBYASYMKEY","DECRYPTBYCERT","DECRYPTBYKEY","DECRYPTBYKEYAUTOASYMKEY","DECRYPTBYKEYAUTOCERT","DECRYPTBYPASSPHRASE","ENCRYPTBYASYMKEY","ENCRYPTBYCERT","ENCRYPTBYKEY","ENCRYPTBYPASSPHRASE","HASHBYTES","IS_OBJECTSIGNED","KEY_GUID","KEY_ID","KEY_NAME","SIGNBYASYMKEY","SIGNBYCERT","SYMKEYPROPERTY","VERIFYSIGNEDBYCERT","VERIFYSIGNEDBYASYMKEY","CURSOR_STATUS","DATALENGTH","IDENT_CURRENT","IDENT_INCR","IDENT_SEED","IDENTITY","SQL_VARIANT_PROPERTY","CURRENT_TIMESTAMP","DATEADD","DATEDIFF","DATEFROMPARTS","DATENAME","DATEPART","DATETIME2FROMPARTS","DATETIMEFROMPARTS","DATETIMEOFFSETFROMPARTS","DAY","EOMONTH","GETDATE","GETUTCDATE","ISDATE","MONTH","SMALLDATETIMEFROMPARTS","SWITCHOFFSET","SYSDATETIME","SYSDATETIMEOFFSET","SYSUTCDATETIME","TIMEFROMPARTS","TODATETIMEOFFSET","YEAR","CHOOSE","COALESCE","IIF","NULLIF","ABS","ACOS","ASIN","ATAN","ATN2","CEILING","COS","COT","DEGREES","EXP","FLOOR","LOG","LOG10","PI","POWER","RADIANS","RAND","ROUND","SIGN","SIN","SQRT","SQUARE","TAN","APP_NAME","APPLOCK_MODE","APPLOCK_TEST","ASSEMBLYPROPERTY","COL_LENGTH","COL_NAME","COLUMNPROPERTY","DATABASE_PRINCIPAL_ID","DATABASEPROPERTYEX","DB_ID","DB_NAME","FILE_ID","FILE_IDEX","FILE_NAME","FILEGROUP_ID","FILEGROUP_NAME","FILEGROUPPROPERTY","FILEPROPERTY","FULLTEXTCATALOGPROPERTY","FULLTEXTSERVICEPROPERTY","INDEX_COL","INDEXKEY_PROPERTY","INDEXPROPERTY","OBJECT_DEFINITION","OBJECT_ID","OBJECT_NAME","OBJECT_SCHEMA_NAME","OBJECTPROPERTY","OBJECTPROPERTYEX","ORIGINAL_DB_NAME","PARSENAME","SCHEMA_ID","SCHEMA_NAME","SCOPE_IDENTITY","SERVERPROPERTY","STATS_DATE","TYPE_ID","TYPE_NAME","TYPEPROPERTY","DENSE_RANK","NTILE","RANK","ROW_NUMBER","PUBLISHINGSERVERNAME","OPENDATASOURCE","OPENQUERY","OPENROWSET","OPENXML","CERTENCODED","CERTPRIVATEKEY","CURRENT_USER","HAS_DBACCESS","HAS_PERMS_BY_NAME","IS_MEMBER","IS_ROLEMEMBER","IS_SRVROLEMEMBER","LOGINPROPERTY","ORIGINAL_LOGIN","PERMISSIONS","PWDENCRYPT","PWDCOMPARE","SESSION_USER","SESSIONPROPERTY","SUSER_ID","SUSER_NAME","SUSER_SID","SUSER_SNAME","SYSTEM_USER","USER","USER_ID","USER_NAME","ASCII","CHAR","CHARINDEX","CONCAT","DIFFERENCE","FORMAT","LEFT","LEN","LOWER","LTRIM","NCHAR","PATINDEX","QUOTENAME","REPLACE","REPLICATE","REVERSE","RIGHT","RTRIM","SOUNDEX","SPACE","STR","STUFF","SUBSTRING","UNICODE","UPPER","BINARY_CHECKSUM","CHECKSUM","CONNECTIONPROPERTY","CONTEXT_INFO","CURRENT_REQUEST_ID","ERROR_LINE","ERROR_NUMBER","ERROR_MESSAGE","ERROR_PROCEDURE","ERROR_SEVERITY","ERROR_STATE","FORMATMESSAGE","GETANSINULL","GET_FILESTREAM_TRANSACTION_CONTEXT","HOST_ID","HOST_NAME","ISNULL","ISNUMERIC","MIN_ACTIVE_ROWVERSION","NEWID","NEWSEQUENTIALID","ROWCOUNT_BIG","XACT_STATE","TEXTPTR","TEXTVALID","COLUMNS_UPDATED","EVENTDATA","TRIGGER_NESTLEVEL","UPDATE","CHANGETABLE","CHANGE_TRACKING_CONTEXT","CHANGE_TRACKING_CURRENT_VERSION","CHANGE_TRACKING_IS_COLUMN_IN_MASK","CHANGE_TRACKING_MIN_VALID_VERSION","CONTAINSTABLE","FREETEXTTABLE","SEMANTICKEYPHRASETABLE","SEMANTICSIMILARITYDETAILSTABLE","SEMANTICSIMILARITYTABLE","FILETABLEROOTPATH","GETFILENAMESPACEPATH","GETPATHLOCATOR","PATHNAME","GET_TRANSMISSION_STATUS"],builtinVariables:["@@DATEFIRST","@@DBTS","@@LANGID","@@LANGUAGE","@@LOCK_TIMEOUT","@@MAX_CONNECTIONS","@@MAX_PRECISION","@@NESTLEVEL","@@OPTIONS","@@REMSERVER","@@SERVERNAME","@@SERVICENAME","@@SPID","@@TEXTSIZE","@@VERSION","@@CURSOR_ROWS","@@FETCH_STATUS","@@DATEFIRST","@@PROCID","@@ERROR","@@IDENTITY","@@ROWCOUNT","@@TRANCOUNT","@@CONNECTIONS","@@CPU_BUSY","@@IDLE","@@IO_BUSY","@@PACKET_ERRORS","@@PACK_RECEIVED","@@PACK_SENT","@@TIMETICKS","@@TOTAL_ERRORS","@@TOTAL_READ","@@TOTAL_WRITE"],pseudoColumns:["$ACTION","$IDENTITY","$ROWGUID","$PARTITION"],tokenizer:{root:[{include:"@templateVariables"},{include:"@macros"},{include:"@comments"},{include:"@whitespace"},{include:"@pseudoColumns"},{include:"@numbers"},{include:"@strings"},{include:"@complexIdentifiers"},{include:"@scopes"},{include:"@schemaTable"},[/[;,.]/,"delimiter"],[/[()]/,"@brackets"],[/[\w@#$|<|>|=|!|%|&|+|\|-|*|/|~|^]+/,{cases:{"@operators":"operator","@comparisonOperators":"operator","@logicalOperators":"operator","@builtinVariables":"predefined","@builtinFunctions":"predefined","@keywords":"keyword","@default":"identifier"}}]],templateVariables:[[/\$[a-zA-Z0-9]+/,"variable"]],macros:[[/\$__[a-zA-Z0-9-_]+/,"type"]],schemaTable:[[/(\w+)\./,"identifier"],[/(\w+\.\w+)/,"identifier"]],whitespace:[[/\s+/,"white"]],comments:[[/--+.*/,"comment"],[/\/\*/,{token:"comment.quote",next:"@comment"}]],comment:[[/[^*/]+/,"comment"],[/\*\//,{token:"comment.quote",next:"@pop"}],[/./,"comment"]],pseudoColumns:[[/[$][A-Za-z_][\w@#$]*/,{cases:{"@pseudoColumns":"predefined","@default":"identifier"}}]],numbers:[[/0[xX][0-9a-fA-F]*/,"number"],[/[$][+-]*\d*(\.\d*)?/,"number"],[/((\d+(\.\d*)?)|(\.\d+))([eE][\-+]?\d+)?/,"number"]],strings:[[/N'/,{token:"string",next:"@string"}],[/'/,{token:"string",next:"@string"}]],string:[[/[^']+/,"string"],[/''/,"string"],[/'/,{token:"string",next:"@pop"}]],complexIdentifiers:[[/\[/,{token:"identifier.quote",next:"@bracketedIdentifier"}],[/"/,{token:"identifier.quote",next:"@quotedIdentifier"}]],bracketedIdentifier:[[/[^\]]+/,"identifier"],[/]]/,"identifier"],[/]/,{token:"identifier.quote",next:"@pop"}]],quotedIdentifier:[[/[^"]+/,"identifier"],[/""/,"identifier"],[/"/,{token:"identifier.quote",next:"@pop"}]],scopes:[[/BEGIN\s+(DISTRIBUTED\s+)?TRAN(SACTION)?\b/i,"keyword"],[/BEGIN\s+TRY\b/i,{token:"keyword.try"}],[/END\s+TRY\b/i,{token:"keyword.try"}],[/BEGIN\s+CATCH\b/i,{token:"keyword.catch"}],[/END\s+CATCH\b/i,{token:"keyword.catch"}],[/(BEGIN|CASE)\b/i,{token:"keyword.block"}],[/END\b/i,{token:"keyword.block"}],[/WHEN\b/i,{token:"keyword.choice"}],[/THEN\b/i,{token:"keyword.choice"}]]}}}),new Uint8Array(16);for(var b=[],I=0;I<256;++I)b.push((I+256).toString(16).substr(1));var C={logger:function(){}};g.attachDebugger&&g.createLogger&&(C=g.createLogger("SQLEditor"),C.logger,g.attachDebugger("sqleditor",void 0,C));t.mB.Filter,t.mB.Filter,t.mB.Filter,t.mB.Value,t.mB.Table,t.mB.Column;new Map,new Map,Object.freeze({__proto__:null,singleLineFullQuery:{query:'SELECT column1, FROM table1 WHERE column1 = "value1" GROUP BY column1 ORDER BY column1 DESC LIMIT 10',tokens:[[{offset:0,type:"keyword.sql",language:"sql"},{offset:6,type:"white.sql",language:"sql"},{offset:7,type:"identifier.sql",language:"sql"},{offset:14,type:"delimiter.sql",language:"sql"},{offset:15,type:"white.sql",language:"sql"},{offset:16,type:"keyword.sql",language:"sql"},{offset:20,type:"white.sql",language:"sql"},{offset:21,type:"identifier.sql",language:"sql"},{offset:27,type:"white.sql",language:"sql"},{offset:28,type:"keyword.sql",language:"sql"},{offset:33,type:"white.sql",language:"sql"},{offset:34,type:"identifier.sql",language:"sql"},{offset:41,type:"white.sql",language:"sql"},{offset:42,type:"operator.sql",language:"sql"},{offset:43,type:"white.sql",language:"sql"},{offset:44,type:"identifier.quote.sql",language:"sql"},{offset:45,type:"identifier.sql",language:"sql"},{offset:51,type:"identifier.quote.sql",language:"sql"},{offset:52,type:"white.sql",language:"sql"},{offset:53,type:"keyword.sql",language:"sql"},{offset:58,type:"white.sql",language:"sql"},{offset:59,type:"keyword.sql",language:"sql"},{offset:61,type:"white.sql",language:"sql"},{offset:62,type:"identifier.sql",language:"sql"},{offset:69,type:"white.sql",language:"sql"},{offset:70,type:"keyword.sql",language:"sql"},{offset:75,type:"white.sql",language:"sql"},{offset:76,type:"keyword.sql",language:"sql"},{offset:78,type:"white.sql",language:"sql"},{offset:79,type:"identifier.sql",language:"sql"},{offset:86,type:"white.sql",language:"sql"},{offset:87,type:"keyword.sql",language:"sql"},{offset:91,type:"white.sql",language:"sql"},{offset:92,type:"keyword.sql",language:"sql"},{offset:97,type:"white.sql",language:"sql"},{offset:98,type:"number.sql",language:"sql"},{offset:100,type:"delimiter.sql",language:"sql"}]]},singleLineFullQueryWithAggregation:{query:'SELECT count(column1), FROM table1 WHERE column1 = "value1" GROUP BY column1 ORDER BY column1 DESC LIMIT 10;',tokens:[[{offset:0,type:"keyword.sql",language:"sql"},{offset:6,type:"white.sql",language:"sql"},{offset:7,type:"predefined.sql",language:"sql"},{offset:12,type:"delimiter.parenthesis.sql",language:"sql"},{offset:13,type:"identifier.sql",language:"sql"},{offset:20,type:"delimiter.parenthesis.sql",language:"sql"},{offset:21,type:"delimiter.sql",language:"sql"},{offset:22,type:"white.sql",language:"sql"},{offset:23,type:"keyword.sql",language:"sql"},{offset:27,type:"white.sql",language:"sql"},{offset:28,type:"identifier.sql",language:"sql"},{offset:34,type:"white.sql",language:"sql"},{offset:35,type:"keyword.sql",language:"sql"},{offset:40,type:"white.sql",language:"sql"},{offset:41,type:"identifier.sql",language:"sql"},{offset:48,type:"white.sql",language:"sql"},{offset:49,type:"operator.sql",language:"sql"},{offset:50,type:"white.sql",language:"sql"},{offset:51,type:"identifier.quote.sql",language:"sql"},{offset:52,type:"identifier.sql",language:"sql"},{offset:58,type:"identifier.quote.sql",language:"sql"},{offset:59,type:"white.sql",language:"sql"},{offset:60,type:"keyword.sql",language:"sql"},{offset:65,type:"white.sql",language:"sql"},{offset:66,type:"keyword.sql",language:"sql"},{offset:68,type:"white.sql",language:"sql"},{offset:69,type:"identifier.sql",language:"sql"},{offset:76,type:"white.sql",language:"sql"},{offset:77,type:"keyword.sql",language:"sql"},{offset:82,type:"white.sql",language:"sql"},{offset:83,type:"keyword.sql",language:"sql"},{offset:85,type:"white.sql",language:"sql"},{offset:86,type:"identifier.sql",language:"sql"},{offset:93,type:"white.sql",language:"sql"},{offset:94,type:"keyword.sql",language:"sql"},{offset:98,type:"white.sql",language:"sql"},{offset:99,type:"keyword.sql",language:"sql"},{offset:104,type:"white.sql",language:"sql"},{offset:105,type:"number.sql",language:"sql"},{offset:107,type:"delimiter.sql",language:"sql"}]]},multiLineFullQuery:{query:'SELECT column1,  \n  FROM table1 \n  \n  WHERE column1 = "value1" \n  GROUP BY column1 ORDER BY column1 DESC \n  LIMIT 10;',tokens:[[{offset:0,type:"keyword.sql",language:"sql"},{offset:6,type:"white.sql",language:"sql"},{offset:7,type:"identifier.sql",language:"sql"},{offset:14,type:"delimiter.sql",language:"sql"},{offset:15,type:"white.sql",language:"sql"}],[{offset:0,type:"keyword.sql",language:"sql"},{offset:4,type:"white.sql",language:"sql"},{offset:5,type:"identifier.sql",language:"sql"},{offset:11,type:"white.sql",language:"sql"}],[{offset:0,type:"white.sql",language:"sql"}],[{offset:0,type:"keyword.sql",language:"sql"},{offset:5,type:"white.sql",language:"sql"},{offset:6,type:"identifier.sql",language:"sql"},{offset:13,type:"white.sql",language:"sql"},{offset:14,type:"operator.sql",language:"sql"},{offset:15,type:"white.sql",language:"sql"},{offset:16,type:"identifier.quote.sql",language:"sql"},{offset:17,type:"identifier.sql",language:"sql"},{offset:23,type:"identifier.quote.sql",language:"sql"},{offset:24,type:"white.sql",language:"sql"}],[{offset:0,type:"keyword.sql",language:"sql"},{offset:5,type:"white.sql",language:"sql"},{offset:6,type:"keyword.sql",language:"sql"},{offset:8,type:"white.sql",language:"sql"},{offset:9,type:"identifier.sql",language:"sql"},{offset:16,type:"white.sql",language:"sql"},{offset:17,type:"keyword.sql",language:"sql"},{offset:22,type:"white.sql",language:"sql"},{offset:23,type:"keyword.sql",language:"sql"},{offset:25,type:"white.sql",language:"sql"},{offset:26,type:"identifier.sql",language:"sql"},{offset:33,type:"white.sql",language:"sql"},{offset:34,type:"keyword.sql",language:"sql"},{offset:38,type:"white.sql",language:"sql"}],[{offset:0,type:"keyword.sql",language:"sql"},{offset:5,type:"white.sql",language:"sql"},{offset:6,type:"number.sql",language:"sql"},{offset:8,type:"delimiter.sql",language:"sql"}]]},multiLineFullQueryWithAggregation:{query:'SELECT count(column1),  \n  FROM table1 \n  \n  WHERE column1 = "value1" \n  GROUP BY column1 ORDER BY column1 DESC \n  LIMIT 10;',tokens:[[{offset:0,type:"keyword.sql",language:"sql"},{offset:6,type:"white.sql",language:"sql"},{offset:7,type:"predefined.sql",language:"sql"},{offset:12,type:"delimiter.parenthesis.sql",language:"sql"},{offset:13,type:"identifier.sql",language:"sql"},{offset:20,type:"delimiter.parenthesis.sql",language:"sql"},{offset:21,type:"delimiter.sql",language:"sql"},{offset:22,type:"white.sql",language:"sql"}],[{offset:0,type:"keyword.sql",language:"sql"},{offset:4,type:"white.sql",language:"sql"},{offset:5,type:"identifier.sql",language:"sql"},{offset:11,type:"white.sql",language:"sql"}],[{offset:0,type:"white.sql",language:"sql"}],[{offset:0,type:"keyword.sql",language:"sql"},{offset:5,type:"white.sql",language:"sql"},{offset:6,type:"identifier.sql",language:"sql"},{offset:13,type:"white.sql",language:"sql"},{offset:14,type:"operator.sql",language:"sql"},{offset:15,type:"white.sql",language:"sql"},{offset:16,type:"identifier.quote.sql",language:"sql"},{offset:17,type:"identifier.sql",language:"sql"},{offset:23,type:"identifier.quote.sql",language:"sql"},{offset:24,type:"white.sql",language:"sql"}],[{offset:0,type:"keyword.sql",language:"sql"},{offset:5,type:"white.sql",language:"sql"},{offset:6,type:"keyword.sql",language:"sql"},{offset:8,type:"white.sql",language:"sql"},{offset:9,type:"identifier.sql",language:"sql"},{offset:16,type:"white.sql",language:"sql"},{offset:17,type:"keyword.sql",language:"sql"},{offset:22,type:"white.sql",language:"sql"},{offset:23,type:"keyword.sql",language:"sql"},{offset:25,type:"white.sql",language:"sql"},{offset:26,type:"identifier.sql",language:"sql"},{offset:33,type:"white.sql",language:"sql"},{offset:34,type:"keyword.sql",language:"sql"},{offset:38,type:"white.sql",language:"sql"}],[{offset:0,type:"keyword.sql",language:"sql"},{offset:5,type:"white.sql",language:"sql"},{offset:6,type:"number.sql",language:"sql"},{offset:8,type:"delimiter.sql",language:"sql"}]]},singleLineEmptyQuery:{query:"",tokens:[]},singleLineTwoQueries:{query:'SELECT column1, FROM table1 WHERE column1 = "value1" GROUP BY column1 ORDER BY column1 DESC LIMIT 10; SELECT column2, FROM table2 WHERE column2 = "value2" GROUP BY column1 ORDER BY column2 DESC LIMIT 10;',tokens:[[{offset:0,type:"keyword.sql",language:"sql"},{offset:6,type:"white.sql",language:"sql"},{offset:7,type:"identifier.sql",language:"sql"},{offset:14,type:"delimiter.sql",language:"sql"},{offset:15,type:"white.sql",language:"sql"},{offset:16,type:"keyword.sql",language:"sql"},{offset:20,type:"white.sql",language:"sql"},{offset:21,type:"identifier.sql",language:"sql"},{offset:27,type:"white.sql",language:"sql"},{offset:28,type:"keyword.sql",language:"sql"},{offset:33,type:"white.sql",language:"sql"},{offset:34,type:"identifier.sql",language:"sql"},{offset:41,type:"white.sql",language:"sql"},{offset:42,type:"operator.sql",language:"sql"},{offset:43,type:"white.sql",language:"sql"},{offset:44,type:"identifier.quote.sql",language:"sql"},{offset:45,type:"identifier.sql",language:"sql"},{offset:51,type:"identifier.quote.sql",language:"sql"},{offset:52,type:"white.sql",language:"sql"},{offset:53,type:"keyword.sql",language:"sql"},{offset:58,type:"white.sql",language:"sql"},{offset:59,type:"keyword.sql",language:"sql"},{offset:61,type:"white.sql",language:"sql"},{offset:62,type:"identifier.sql",language:"sql"},{offset:69,type:"white.sql",language:"sql"},{offset:70,type:"keyword.sql",language:"sql"},{offset:75,type:"white.sql",language:"sql"},{offset:76,type:"keyword.sql",language:"sql"},{offset:78,type:"white.sql",language:"sql"},{offset:79,type:"identifier.sql",language:"sql"},{offset:86,type:"white.sql",language:"sql"},{offset:87,type:"keyword.sql",language:"sql"},{offset:91,type:"white.sql",language:"sql"},{offset:92,type:"keyword.sql",language:"sql"},{offset:97,type:"white.sql",language:"sql"},{offset:98,type:"number.sql",language:"sql"},{offset:100,type:"delimiter.sql",language:"sql"},{offset:101,type:"white.sql",language:"sql"},{offset:102,type:"keyword.sql",language:"sql"},{offset:108,type:"white.sql",language:"sql"},{offset:109,type:"identifier.sql",language:"sql"},{offset:116,type:"delimiter.sql",language:"sql"},{offset:117,type:"white.sql",language:"sql"},{offset:118,type:"keyword.sql",language:"sql"},{offset:122,type:"white.sql",language:"sql"},{offset:123,type:"identifier.sql",language:"sql"},{offset:129,type:"white.sql",language:"sql"},{offset:130,type:"keyword.sql",language:"sql"},{offset:135,type:"white.sql",language:"sql"},{offset:136,type:"identifier.sql",language:"sql"},{offset:143,type:"white.sql",language:"sql"},{offset:144,type:"operator.sql",language:"sql"},{offset:145,type:"white.sql",language:"sql"},{offset:146,type:"identifier.quote.sql",language:"sql"},{offset:147,type:"identifier.sql",language:"sql"},{offset:153,type:"identifier.quote.sql",language:"sql"},{offset:154,type:"white.sql",language:"sql"},{offset:155,type:"keyword.sql",language:"sql"},{offset:160,type:"white.sql",language:"sql"},{offset:161,type:"keyword.sql",language:"sql"},{offset:163,type:"white.sql",language:"sql"},{offset:164,type:"identifier.sql",language:"sql"},{offset:171,type:"white.sql",language:"sql"},{offset:172,type:"keyword.sql",language:"sql"},{offset:177,type:"white.sql",language:"sql"},{offset:178,type:"keyword.sql",language:"sql"},{offset:180,type:"white.sql",language:"sql"},{offset:181,type:"identifier.sql",language:"sql"},{offset:188,type:"white.sql",language:"sql"},{offset:189,type:"keyword.sql",language:"sql"},{offset:193,type:"white.sql",language:"sql"},{offset:194,type:"keyword.sql",language:"sql"},{offset:199,type:"white.sql",language:"sql"},{offset:200,type:"number.sql",language:"sql"},{offset:202,type:"delimiter.sql",language:"sql"}]]},singleLineTwoQueriesWithAggregation:{query:'SELECT count(column1), FROM table1 WHERE column1 = "value1" GROUP BY column1 ORDER BY column1 DESC LIMIT 10; SELECT count(column2), FROM table2 WHERE column2 = "value2" GROUP BY column1 ORDER BY column2 DESC LIMIT 10;',tokens:[[{offset:0,type:"keyword.sql",language:"sql"},{offset:6,type:"white.sql",language:"sql"},{offset:7,type:"predefined.sql",language:"sql"},{offset:12,type:"delimiter.parenthesis.sql",language:"sql"},{offset:13,type:"identifier.sql",language:"sql"},{offset:20,type:"delimiter.parenthesis.sql",language:"sql"},{offset:21,type:"delimiter.sql",language:"sql"},{offset:22,type:"white.sql",language:"sql"},{offset:23,type:"keyword.sql",language:"sql"},{offset:27,type:"white.sql",language:"sql"},{offset:28,type:"identifier.sql",language:"sql"},{offset:34,type:"white.sql",language:"sql"},{offset:35,type:"keyword.sql",language:"sql"},{offset:40,type:"white.sql",language:"sql"},{offset:41,type:"identifier.sql",language:"sql"},{offset:48,type:"white.sql",language:"sql"},{offset:49,type:"operator.sql",language:"sql"},{offset:50,type:"white.sql",language:"sql"},{offset:51,type:"identifier.quote.sql",language:"sql"},{offset:52,type:"identifier.sql",language:"sql"},{offset:58,type:"identifier.quote.sql",language:"sql"},{offset:59,type:"white.sql",language:"sql"},{offset:60,type:"keyword.sql",language:"sql"},{offset:65,type:"white.sql",language:"sql"},{offset:66,type:"keyword.sql",language:"sql"},{offset:68,type:"white.sql",language:"sql"},{offset:69,type:"identifier.sql",language:"sql"},{offset:76,type:"white.sql",language:"sql"},{offset:77,type:"keyword.sql",language:"sql"},{offset:82,type:"white.sql",language:"sql"},{offset:83,type:"keyword.sql",language:"sql"},{offset:85,type:"white.sql",language:"sql"},{offset:86,type:"identifier.sql",language:"sql"},{offset:93,type:"white.sql",language:"sql"},{offset:94,type:"keyword.sql",language:"sql"},{offset:98,type:"white.sql",language:"sql"},{offset:99,type:"keyword.sql",language:"sql"},{offset:104,type:"white.sql",language:"sql"},{offset:105,type:"number.sql",language:"sql"},{offset:107,type:"delimiter.sql",language:"sql"},{offset:108,type:"white.sql",language:"sql"},{offset:109,type:"keyword.sql",language:"sql"},{offset:115,type:"white.sql",language:"sql"},{offset:116,type:"predefined.sql",language:"sql"},{offset:121,type:"delimiter.parenthesis.sql",language:"sql"},{offset:122,type:"identifier.sql",language:"sql"},{offset:129,type:"delimiter.parenthesis.sql",language:"sql"},{offset:130,type:"delimiter.sql",language:"sql"},{offset:131,type:"white.sql",language:"sql"},{offset:132,type:"keyword.sql",language:"sql"},{offset:136,type:"white.sql",language:"sql"},{offset:137,type:"identifier.sql",language:"sql"},{offset:143,type:"white.sql",language:"sql"},{offset:144,type:"keyword.sql",language:"sql"},{offset:149,type:"white.sql",language:"sql"},{offset:150,type:"identifier.sql",language:"sql"},{offset:157,type:"white.sql",language:"sql"},{offset:158,type:"operator.sql",language:"sql"},{offset:159,type:"white.sql",language:"sql"},{offset:160,type:"identifier.quote.sql",language:"sql"},{offset:161,type:"identifier.sql",language:"sql"},{offset:167,type:"identifier.quote.sql",language:"sql"},{offset:168,type:"white.sql",language:"sql"},{offset:169,type:"keyword.sql",language:"sql"},{offset:174,type:"white.sql",language:"sql"},{offset:175,type:"keyword.sql",language:"sql"},{offset:177,type:"white.sql",language:"sql"},{offset:178,type:"identifier.sql",language:"sql"},{offset:185,type:"white.sql",language:"sql"},{offset:186,type:"keyword.sql",language:"sql"},{offset:191,type:"white.sql",language:"sql"},{offset:192,type:"keyword.sql",language:"sql"},{offset:194,type:"white.sql",language:"sql"},{offset:195,type:"identifier.sql",language:"sql"},{offset:202,type:"white.sql",language:"sql"},{offset:203,type:"keyword.sql",language:"sql"},{offset:207,type:"white.sql",language:"sql"},{offset:208,type:"keyword.sql",language:"sql"},{offset:213,type:"white.sql",language:"sql"},{offset:214,type:"number.sql",language:"sql"},{offset:216,type:"delimiter.sql",language:"sql"}]]},singleLineMultipleColumns:{query:'SELECT count(column1), column2 FROM table1 WHERE column1 = "value1" GROUP BY column1 ORDER BY column1, avg(column2) DESC LIMIT 10;',tokens:[[{offset:0,type:"keyword.sql",language:"sql"},{offset:6,type:"white.sql",language:"sql"},{offset:7,type:"predefined.sql",language:"sql"},{offset:12,type:"delimiter.parenthesis.sql",language:"sql"},{offset:13,type:"identifier.sql",language:"sql"},{offset:20,type:"delimiter.parenthesis.sql",language:"sql"},{offset:21,type:"delimiter.sql",language:"sql"},{offset:22,type:"white.sql",language:"sql"},{offset:23,type:"identifier.sql",language:"sql"},{offset:30,type:"white.sql",language:"sql"},{offset:31,type:"keyword.sql",language:"sql"},{offset:35,type:"white.sql",language:"sql"},{offset:36,type:"identifier.sql",language:"sql"},{offset:42,type:"white.sql",language:"sql"},{offset:43,type:"keyword.sql",language:"sql"},{offset:48,type:"white.sql",language:"sql"},{offset:49,type:"identifier.sql",language:"sql"},{offset:56,type:"white.sql",language:"sql"},{offset:57,type:"operator.sql",language:"sql"},{offset:58,type:"white.sql",language:"sql"},{offset:59,type:"identifier.quote.sql",language:"sql"},{offset:60,type:"identifier.sql",language:"sql"},{offset:66,type:"identifier.quote.sql",language:"sql"},{offset:67,type:"white.sql",language:"sql"},{offset:68,type:"keyword.sql",language:"sql"},{offset:73,type:"white.sql",language:"sql"},{offset:74,type:"keyword.sql",language:"sql"},{offset:76,type:"white.sql",language:"sql"},{offset:77,type:"identifier.sql",language:"sql"},{offset:84,type:"white.sql",language:"sql"},{offset:85,type:"keyword.sql",language:"sql"},{offset:90,type:"white.sql",language:"sql"},{offset:91,type:"keyword.sql",language:"sql"},{offset:93,type:"white.sql",language:"sql"},{offset:94,type:"identifier.sql",language:"sql"},{offset:101,type:"delimiter.sql",language:"sql"},{offset:102,type:"white.sql",language:"sql"},{offset:103,type:"predefined.sql",language:"sql"},{offset:106,type:"delimiter.parenthesis.sql",language:"sql"},{offset:107,type:"identifier.sql",language:"sql"},{offset:114,type:"delimiter.parenthesis.sql",language:"sql"},{offset:115,type:"white.sql",language:"sql"},{offset:116,type:"keyword.sql",language:"sql"},{offset:120,type:"white.sql",language:"sql"},{offset:121,type:"keyword.sql",language:"sql"},{offset:126,type:"white.sql",language:"sql"},{offset:127,type:"number.sql",language:"sql"},{offset:129,type:"delimiter.sql",language:"sql"}]]},multiLineMultipleColumns:{query:'SELECT count(column1), column2 \n  FROM table1 \n  \n  WHERE column1 = "value1" \n  GROUP BY column1 ORDER BY column1, avg(column2) DESC \n  LIMIT 10;',tokens:[[{offset:0,type:"keyword.sql",language:"sql"},{offset:6,type:"white.sql",language:"sql"},{offset:7,type:"predefined.sql",language:"sql"},{offset:12,type:"delimiter.parenthesis.sql",language:"sql"},{offset:13,type:"identifier.sql",language:"sql"},{offset:20,type:"delimiter.parenthesis.sql",language:"sql"},{offset:21,type:"delimiter.sql",language:"sql"},{offset:22,type:"white.sql",language:"sql"},{offset:23,type:"identifier.sql",language:"sql"},{offset:30,type:"white.sql",language:"sql"}],[{offset:0,type:"keyword.sql",language:"sql"},{offset:4,type:"white.sql",language:"sql"},{offset:5,type:"identifier.sql",language:"sql"},{offset:11,type:"white.sql",language:"sql"}],[{offset:0,type:"white.sql",language:"sql"}],[{offset:0,type:"keyword.sql",language:"sql"},{offset:5,type:"white.sql",language:"sql"},{offset:6,type:"identifier.sql",language:"sql"},{offset:13,type:"white.sql",language:"sql"},{offset:14,type:"operator.sql",language:"sql"},{offset:15,type:"white.sql",language:"sql"},{offset:16,type:"identifier.quote.sql",language:"sql"},{offset:17,type:"identifier.sql",language:"sql"},{offset:23,type:"identifier.quote.sql",language:"sql"},{offset:24,type:"white.sql",language:"sql"}],[{offset:0,type:"keyword.sql",language:"sql"},{offset:5,type:"white.sql",language:"sql"},{offset:6,type:"keyword.sql",language:"sql"},{offset:8,type:"white.sql",language:"sql"},{offset:9,type:"identifier.sql",language:"sql"},{offset:16,type:"white.sql",language:"sql"},{offset:17,type:"keyword.sql",language:"sql"},{offset:22,type:"white.sql",language:"sql"},{offset:23,type:"keyword.sql",language:"sql"},{offset:25,type:"white.sql",language:"sql"},{offset:26,type:"identifier.sql",language:"sql"},{offset:33,type:"delimiter.sql",language:"sql"},{offset:34,type:"white.sql",language:"sql"},{offset:35,type:"predefined.sql",language:"sql"},{offset:38,type:"delimiter.parenthesis.sql",language:"sql"},{offset:39,type:"identifier.sql",language:"sql"},{offset:46,type:"delimiter.parenthesis.sql",language:"sql"},{offset:47,type:"white.sql",language:"sql"},{offset:48,type:"keyword.sql",language:"sql"},{offset:52,type:"white.sql",language:"sql"}],[{offset:0,type:"keyword.sql",language:"sql"},{offset:5,type:"white.sql",language:"sql"},{offset:6,type:"number.sql",language:"sql"},{offset:8,type:"delimiter.sql",language:"sql"}]]}});var N=function(e){var t=e.children,n=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n}(e,["children"]),r=g.useStyles2(d.useCallback((function(e){return P(e,n)}),[n]));return y.createElement("div",{className:r.root},t)},P=function(e,t){var n,r,s;return{root:E.css({display:"flex",flexDirection:null!==(n=t.direction)&&void 0!==n?n:"row",flexWrap:null===(r=t.wrap)||void 0===r||r?"wrap":void 0,alignItems:t.alignItems,gap:e.spacing(null!==(s=t.gap)&&void 0!==s?s:2),flexGrow:t.flexGrow})}};y.forwardRef((function(e,t){var n=e.items,r=e.renderItem,s=e.onChange;return y.createElement(N,null,n.map((function(e,t){return y.createElement("div",{key:t},r(e,(function(e){return function(e,t){var r=m([],q(n),!1);r[e]=t,s(r)}(t,e)}),(function(){return e=t,(r=m([],q(n),!1)).splice(e,1),void s(r);var e,r})))})),y.createElement(g.Button,{ref:t,onClick:function(){var e=m(m([],q(n),!1),[{}],!1);s(e)},variant:"secondary",size:"md",icon:"plus","aria-label":"Add",type:"button"}))}))},573:(e,t,n)=>{"use strict";n(556)},853:(e,t,n)=>{var r,s,l,o,a,i,u,f,p,c=n(388),g=n(650),d=(r=g)&&"object"==typeof r&&"default"in r?r.default:r,y=n(305),E=n(545),q=function(){return(q=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var s in t=arguments[n])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e}).apply(this,arguments)};function m(e,t,n,r){return new(n||(n=Promise))((function(s,l){function o(e){try{i(r.next(e))}catch(e){l(e)}}function a(e){try{i(r.throw(e))}catch(e){l(e)}}function i(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}i((r=r.apply(e,t||[])).next())}))}function h(e,t){var n,r,s,l,o={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return l={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function a(l){return function(a){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(s=2&l[0]?r.return:l[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,l[1])).done)return s;switch(r=0,s&&(l=[2&l[0],s.value]),l[0]){case 0:case 1:s=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,r=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!((s=(s=o.trys).length>0&&s[s.length-1])||6!==l[0]&&2!==l[0])){o=0;continue}if(3===l[0]&&(!s||l[1]>s[0]&&l[1]<s[3])){o.label=l[1];break}if(6===l[0]&&o.label<s[1]){o.label=s[1],s=l;break}if(s&&o.label<s[2]){o.label=s[2],o.ops.push(l);break}s[2]&&o.ops.pop(),o.trys.pop();continue}l=t.call(e,o)}catch(e){l=[6,e],r=0}finally{n=s=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,a])}}}function T(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function O(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,s,l=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=l.next()).done;)o.push(r.value)}catch(e){s={error:e}}finally{try{r&&!r.done&&(n=l.return)&&n.call(l)}finally{if(s)throw s.error}}return o}function w(e,t,n){if(n||2===arguments.length)for(var r,s=0,l=t.length;s<l;s++)!r&&s in t||(r||(r=Array.prototype.slice.call(t,0,s)),r[s]=t[s]);return e.concat(r||Array.prototype.slice.call(t))}function R(e,n){var r,s,l,o=null==e?void 0:e.getPreviousNonWhiteSpaceToken(),a=null==e?void 0:e.getPreviousKeyword(),i=null===(l=null==e?void 0:e.getPreviousNonWhiteSpaceToken())||void 0===l?void 0:l.is(t.iv.Operator,"/"),u=n.list(),f=[];try{for(var p=T(u),c=p.next();!c.done;c=p.next()){var g=c.value;g.resolve(e,null!=a?a:null,null!=o?o:null,Boolean(i))&&f.push(g.id)}}catch(e){r={error:e}}finally{try{c&&!c.done&&(s=p.return)&&s.call(p)}finally{if(r)throw r.error}}return 0===f.length?[t.fC.Unknown]:f}(s=t.$M||(t.$M={}))[s.Comparison=0]="Comparison",s[s.Logical=1]="Logical",(l=t.MacroType||(t.MacroType={}))[l.Value=0]="Value",l[l.Filter=1]="Filter",l[l.Group=2]="Group",l[l.Column=3]="Column",l[l.Table=4]="Table",(o=t.iv||(t.iv={})).Parenthesis="delimiter.parenthesis.sql",o.Whitespace="white.sql",o.Keyword="keyword.sql",o.Delimiter="delimiter.sql",o.Operator="operator.sql",o.Identifier="identifier.sql",o.IdentifierQuote="identifier.quote.sql",o.Type="type.sql",o.Function="predefined.sql",o.Number="number.sql",o.String="string.sql",o.Variable="variable.sql",(a=t.fC||(t.fC={})).Unknown="unknown",a.SelectKeyword="selectKeyword",a.WithKeyword="withKeyword",a.AfterSelectKeyword="afterSelectKeyword",a.AfterSelectArguments="afterSelectArguments",a.AfterSelectFuncFirstArgument="afterSelectFuncFirstArgument",a.SelectAlias="selectAlias",a.AfterFromKeyword="afterFromKeyword",a.AfterTable="afterTable",a.SchemaFuncFirstArgument="schemaFuncFirstArgument",a.SchemaFuncExtraArgument="schemaFuncExtraArgument",a.FromKeyword="fromKeyword",a.AfterFrom="afterFrom",a.WhereKeyword="whereKeyword",a.WhereComparisonOperator="whereComparisonOperator",a.WhereValue="whereValue",a.AfterWhereFunctionArgument="afterWhereFunctionArgument",a.AfterGroupByFunctionArgument="afterGroupByFunctionArgument",a.AfterWhereValue="afterWhereValue",a.AfterGroupByKeywords="afterGroupByKeywords",a.AfterGroupBy="afterGroupBy",a.AfterOrderByKeywords="afterOrderByKeywords",a.AfterOrderByFunction="afterOrderByFunction",a.AfterOrderByDirection="afterOrderByDirection",a.AfterIsOperator="afterIsOperator",a.AfterIsNotOperator="afterIsNotOperator",a.AfterSchema="afterSchema",(i=t.is||(t.is={})).Schemas="schemas",i.Tables="tables",i.Columns="columns",i.SelectKeyword="selectKeyword",i.WithKeyword="withKeyword",i.FunctionsWithArguments="functionsWithArguments",i.FromKeyword="fromKeyword",i.WhereKeyword="whereKeyword",i.GroupByKeywords="groupByKeywords",i.OrderByKeywords="orderByKeywords",i.FunctionsWithoutArguments="functionsWithoutArguments",i.LimitKeyword="limitKeyword",i.SortOrderDirectionKeyword="sortOrderDirectionKeyword",i.ComparisonOperators="comparisonOperators",i.LogicalOperators="logicalOperators",i.SelectMacro="selectMacro",i.TableMacro="tableMacro",i.FilterMacro="filterMacro",i.GroupMacro="groupMacro",i.BoolValues="boolValues",i.NullValue="nullValue",i.NotKeyword="notKeyword",i.TemplateVariables="templateVariables",i.StarWildCard="starWildCard",(u=t.G8||(t.G8={})).High="a",u.MediumHigh="d",u.Medium="g",u.MediumLow="k",u.Low="q",(f=t.cm||(t.cm={}))[f.Method=0]="Method",f[f.Function=1]="Function",f[f.Constructor=2]="Constructor",f[f.Field=3]="Field",f[f.Variable=4]="Variable",f[f.Class=5]="Class",f[f.Struct=6]="Struct",f[f.Interface=7]="Interface",f[f.Module=8]="Module",f[f.Property=9]="Property",f[f.Event=10]="Event",f[f.Operator=11]="Operator",f[f.Unit=12]="Unit",f[f.Value=13]="Value",f[f.Constant=14]="Constant",f[f.Enum=15]="Enum",f[f.EnumMember=16]="EnumMember",f[f.Keyword=17]="Keyword",f[f.Text=18]="Text",f[f.Color=19]="Color",f[f.File=20]="File",f[f.Reference=21]="Reference",f[f.Customcolor=22]="Customcolor",f[f.Folder=23]="Folder",f[f.TypeParameter=24]="TypeParameter",f[f.User=25]="User",f[f.Issue=26]="Issue",f[f.Snippet=27]="Snippet",(p=t.a7||(t.a7={}))[p.KeepWhitespace=1]="KeepWhitespace",p[p.InsertAsSnippet=4]="InsertAsSnippet";var S=function(e,n,r,s,l){return m(void 0,void 0,void 0,(function(){var o,a,i,u,f,p,c,g,d,y,E;return h(this,(function(m){switch(m.label){case 0:o=[],a=(null==n?void 0:n.isWhiteSpace())||(null==n?void 0:n.isParenthesis())||(null==n?void 0:n.isIdentifier())&&n.value.endsWith("."),i=a||!(null==n?void 0:n.range)?e.Range.fromPositions(s.position):null==n?void 0:n.range,m.label=1;case 1:m.trys.push([1,6,7,8]),u=T(w([],O(new Set(r)),!1)),f=u.next(),m.label=2;case 2:return f.done?[3,5]:(p=f.value,(c=l.getIfExists(p))?[4,c.suggestions(q(q({},s),{range:i}),e)]:[3,4]);case 3:g=m.sent(),o=w(w([],O(o),!1),O(g.map((function(e){return function(e,n,r){return void 0===r&&(r={}),q({label:e,insertText:e,kind:t.cm.Field,sortText:t.G8.Medium,range:n},r)}(e.label,i,q({kind:e.kind},e))}))),!1),m.label=4;case 4:return f=u.next(),[3,2];case 5:return[3,8];case 6:return d=m.sent(),y={error:d},[3,8];case 7:try{f&&!f.done&&(E=u.return)&&E.call(u)}finally{if(y)throw y.error}return[7];case 8:return[2,Promise.resolve(o)]}}))}))},v=function(){return[{id:t.fC.SelectKeyword,name:t.fC.SelectKeyword,kind:[t.is.SelectKeyword]},{id:t.fC.WithKeyword,name:t.fC.WithKeyword,kind:[t.is.WithKeyword]},{id:t.fC.AfterSelectKeyword,name:t.fC.AfterSelectKeyword,kind:[t.is.StarWildCard,t.is.FunctionsWithArguments,t.is.Columns,t.is.SelectMacro]},{id:t.fC.AfterSelectFuncFirstArgument,name:t.fC.AfterSelectFuncFirstArgument,kind:[t.is.Columns]},{id:t.fC.AfterGroupByFunctionArgument,name:t.fC.AfterGroupByFunctionArgument,kind:[t.is.Columns]},{id:t.fC.AfterWhereFunctionArgument,name:t.fC.AfterWhereFunctionArgument,kind:[t.is.Columns]},{id:t.fC.AfterSelectArguments,name:t.fC.AfterSelectArguments,kind:[t.is.Columns]},{id:t.fC.AfterFromKeyword,name:t.fC.AfterFromKeyword,kind:[t.is.Schemas,t.is.Tables,t.is.TableMacro]},{id:t.fC.AfterSchema,name:t.fC.AfterSchema,kind:[t.is.Tables,t.is.TableMacro]},{id:t.fC.SelectAlias,name:t.fC.SelectAlias,kind:[t.is.Columns,t.is.FunctionsWithArguments]},{id:t.fC.FromKeyword,name:t.fC.FromKeyword,kind:[t.is.FromKeyword]},{id:t.fC.AfterFrom,name:t.fC.AfterFrom,kind:[t.is.WhereKeyword,t.is.GroupByKeywords,t.is.OrderByKeywords,t.is.LimitKeyword]},{id:t.fC.AfterTable,name:t.fC.AfterTable,kind:[t.is.WhereKeyword,t.is.GroupByKeywords,t.is.OrderByKeywords,t.is.LimitKeyword]},{id:t.fC.WhereKeyword,name:t.fC.WhereKeyword,kind:[t.is.Columns,t.is.FilterMacro,t.is.TemplateVariables]},{id:t.fC.WhereComparisonOperator,name:t.fC.WhereComparisonOperator,kind:[t.is.ComparisonOperators]},{id:t.fC.WhereValue,name:t.fC.WhereValue,kind:[t.is.FilterMacro,t.is.TemplateVariables]},{id:t.fC.AfterWhereValue,name:t.fC.AfterWhereValue,kind:[t.is.LogicalOperators,t.is.GroupByKeywords,t.is.OrderByKeywords,t.is.LimitKeyword,t.is.Columns,t.is.TemplateVariables]},{id:t.fC.AfterGroupByKeywords,name:t.fC.AfterGroupByKeywords,kind:[t.is.GroupMacro,t.is.Columns]},{id:t.fC.AfterGroupBy,name:t.fC.AfterGroupBy,kind:[t.is.OrderByKeywords,t.is.LimitKeyword]},{id:t.fC.AfterOrderByKeywords,name:t.fC.AfterOrderByKeywords,kind:[t.is.Columns]},{id:t.fC.AfterOrderByFunction,name:t.fC.AfterOrderByFunction,kind:[t.is.SortOrderDirectionKeyword,t.is.LimitKeyword]},{id:t.fC.AfterOrderByDirection,name:t.fC.AfterOrderByDirection,kind:[t.is.LimitKeyword]},{id:t.fC.AfterIsOperator,name:t.fC.AfterOrderByDirection,kind:[t.is.NotKeyword,t.is.NullValue,t.is.BoolValues]},{id:t.fC.AfterIsNotOperator,name:t.fC.AfterOrderByDirection,kind:[t.is.NullValue,t.is.BoolValues]}]},A=function(){function e(e,t,n,r,s){this.type=e,this.value=t,this.range=n,this.previous=r,this.next=s}return e.prototype.isKeyword=function(){return this.type===t.iv.Keyword},e.prototype.isWhiteSpace=function(){return this.type===t.iv.Whitespace},e.prototype.isParenthesis=function(){return this.type===t.iv.Parenthesis},e.prototype.isIdentifier=function(){return this.type===t.iv.Identifier},e.prototype.isString=function(){return this.type===t.iv.String},e.prototype.isNumber=function(){return this.type===t.iv.Number},e.prototype.isDoubleQuotedString=function(){return this.type===t.iv.Type},e.prototype.isVariable=function(){return this.type===t.iv.Variable},e.prototype.isFunction=function(){return this.type===t.iv.Function},e.prototype.isOperator=function(){return this.type===t.iv.Operator},e.prototype.isTemplateVariable=function(){return this.type===t.iv.Variable},e.prototype.is=function(e,t){var n=this.type===e;return void 0!==t?n&&b(e,this,t):n},e.prototype.getPreviousNonWhiteSpaceToken=function(){for(var e=this.previous;null!=e;){if(!e.isWhiteSpace())return e;e=e.previous}return null},e.prototype.getPreviousOfType=function(e,t){for(var n=this.previous;null!=n;){var r=n.type===e;if(void 0!==t?r&&b(e,n,t):r)return n;n=n.previous}return null},e.prototype.getPreviousUntil=function(e,t,n){for(var r=[],s=this.previous;null!=s;)if(t.some((function(e){return e===(null==s?void 0:s.type)})))s=s.previous;else{var l=s.type===e;if(void 0!==n?l&&b(e,s,n):l)return r;s.isWhiteSpace()||r.push(s),s=s.previous}return r},e.prototype.getNextUntil=function(e,t,n){for(var r=[],s=this.next;null!=s;)if(t.some((function(e){return e===(null==s?void 0:s.type)})))s=s.next;else{var l=s.type===e;if(void 0!==n?l&&b(e,s,n):l)return r;s.isWhiteSpace()||r.push(s),s=s.next}return r},e.prototype.getPreviousKeyword=function(){for(var e=this.previous;null!=e;){if(e.isKeyword())return e;e=e.previous}return null},e.prototype.getNextNonWhiteSpaceToken=function(){for(var e=this.next;null!=e;){if(!e.isWhiteSpace())return e;e=e.next}return null},e.prototype.getNextOfType=function(e,t){for(var n=this.next;null!=n;){var r=n.type===e;if(void 0!==t?r&&b(e,n,t):r)return n;n=n.next}return null},e}();function b(e,n,r){return e===t.iv.Keyword||e===t.iv.Operator?n.value.toLowerCase()===r.toString().toLowerCase():n.value===r}function I(e,n,r,s){var l;void 0===s&&(s="sql");for(var o=null,a=null,i=e.editor.tokenize(null!==(l=n.getValue())&&void 0!==l?l:"",s),u=0;u<i.length;u++){var f=i[u];if(!f.length&&a){var p={offset:0,type:t.iv.Whitespace,language:s,_tokenBrand:void 0};f.push(p)}for(var c=0;c<f.length;c++){p=f[c];var g=f.length>c+1?f[c+1].offset+1:n.getLineLength(u+1)+1,d={startLineNumber:u+1,startColumn:0===p.offset?0:p.offset+1,endLineNumber:u+1,endColumn:g},y=n.getValueInRange(d),E=new A(p.type,y,d,a,null);e.Range.containsPosition(d,r)&&(o=E),a&&(a.next=E),a=E}}return o}var C,N="select",P="from",_="by",L="desc",D="asc",M=["=","!="],k=w([],O(M),!1),F={comments:{lineComment:"--",blockComment:["/*","*/"]},brackets:[["{","}"],["[","]"],["(",")"]],autoClosingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"}],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"}]},U={defaultToken:"",tokenPostfix:".sql",ignoreCase:!0,brackets:[{open:"[",close:"]",token:"delimiter.square"},{open:"(",close:")",token:"delimiter.parenthesis"}],keywords:["ABORT","ABSOLUTE","ACTION","ADA","ADD","AFTER","ALL","ALLOCATE","ALTER","ALWAYS","ANALYZE","AND","ANY","ARE","AS","ASC","ASSERTION","AT","ATTACH","AUTHORIZATION","AUTOINCREMENT","AVG","BACKUP","BEFORE","BEGIN","BETWEEN","BIT","BIT_LENGTH","BOTH","BREAK","BROWSE","BULK","BY","CASCADE","CASCADED","CASE","CAST","CATALOG","CHAR","CHARACTER","CHARACTER_LENGTH","CHAR_LENGTH","CHECK","CHECKPOINT","CLOSE","CLUSTERED","COALESCE","COLLATE","COLLATION","COLUMN","COMMIT","COMPUTE","CONFLICT","CONNECT","CONNECTION","CONSTRAINT","CONSTRAINTS","CONTAINS","CONTAINSTABLE","CONTINUE","CONVERT","CORRESPONDING","COUNT","CREATE","CROSS","CURRENT","CURRENT_DATE","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_USER","CURSOR","DATABASE","DATE","DAY","DBCC","DEALLOCATE","DEC","DECIMAL","DECLARE","DEFAULT","DEFERRABLE","DEFERRED","DELETE","DENY","DESC","DESCRIBE","DESCRIPTOR","DETACH","DIAGNOSTICS","DISCONNECT","DISK","DISTINCT","DISTRIBUTED","DO","DOMAIN","DOUBLE","DROP","DUMP","EACH","ELSE","END","END-EXEC","ERRLVL","ESCAPE","EXCEPT","EXCEPTION","EXCLUDE","EXCLUSIVE","EXEC","EXECUTE","EXISTS","EXIT","EXPLAIN","EXTERNAL","EXTRACT","FAIL","FALSE","FETCH","FILE","FILLFACTOR","FILTER","FIRST","FLOAT","FOLLOWING","FOR","FOREIGN","FORTRAN","FOUND","FREETEXT","FREETEXTTABLE","FROM","FULL","FUNCTION","GENERATED","GET","GLOB","GLOBAL","GO","GOTO","GRANT","GROUP","GROUPS","HAVING","HOLDLOCK","HOUR","IDENTITY","IDENTITYCOL","IDENTITY_INSERT","IF","IGNORE","IMMEDIATE","IN","INCLUDE","INDEX","INDEXED","INDICATOR","INITIALLY","INNER","INPUT","INSENSITIVE","INSERT","INSTEAD","INT","INTEGER","INTERSECT","INTERVAL","INTO","IS","ISNULL","ISOLATION","JOIN","KEY","KILL","LANGUAGE","LAST","LEADING","LEFT","LEVEL","LIKE","LIMIT","LINENO","LOAD","LOCAL","LOWER","MATCH","MATERIALIZED","MAX","MERGE","MIN","MINUTE","MODULE","MONTH","NAMES","NATIONAL","NATURAL","NCHAR","NEXT","NO","NOCHECK","NONCLUSTERED","NONE","NOT","NOTHING","NOTNULL","NULL","NULLIF","NULLS","NUMERIC","OCTET_LENGTH","OF","OFF","OFFSET","OFFSETS","ON","ONLY","OPEN","OPENDATASOURCE","OPENQUERY","OPENROWSET","OPENXML","OPTION","OR","ORDER","OTHERS","OUTER","OUTPUT","OVER","OVERLAPS","PAD","PARTIAL","PARTITION","PASCAL","PERCENT","PIVOT","PLAN","POSITION","PRAGMA","PRECEDING","PRECISION","PREPARE","PRESERVE","PRIMARY","PRINT","PRIOR","PRIVILEGES","PROC","PROCEDURE","PUBLIC","QUERY","RAISE","RAISERROR","RANGE","READ","READTEXT","REAL","RECONFIGURE","RECURSIVE","REFERENCES","REGEXP","REINDEX","RELATIVE","RELEASE","RENAME","REPLACE","REPLICATION","RESTORE","RESTRICT","RETURN","RETURNING","REVERT","REVOKE","RIGHT","ROLLBACK","ROW","ROWCOUNT","ROWGUIDCOL","ROWS","RULE","SAVE","SAVEPOINT","SCHEMA","SCROLL","SECOND","SECTION","SECURITYAUDIT","SELECT","SEMANTICKEYPHRASETABLE","SEMANTICSIMILARITYDETAILSTABLE","SEMANTICSIMILARITYTABLE","SESSION","SESSION_USER","SET","SETUSER","SHUTDOWN","SIZE","SMALLINT","SOME","SPACE","SQL","SQLCA","SQLCODE","SQLERROR","SQLSTATE","SQLWARNING","STATISTICS","SUBSTRING","SUM","SYSTEM_USER","TABLE","TABLESAMPLE","TEMP","TEMPORARY","TEXTSIZE","THEN","TIES","TIME","TIMESTAMP","TIMEZONE_HOUR","TIMEZONE_MINUTE","TO","TOP","TRAILING","TRAN","TRANSACTION","TRANSLATE","TRANSLATION","TRIGGER","TRIM","TRUE","TRUNCATE","TRY_CONVERT","TSEQUAL","UNBOUNDED","UNION","UNIQUE","UNKNOWN","UNPIVOT","UPDATE","UPDATETEXT","UPPER","USAGE","USE","USER","USING","VACUUM","VALUE","VALUES","VARCHAR","VARYING","VIEW","VIRTUAL","WAITFOR","WHEN","WHENEVER","WHERE","WHILE","WINDOW","WITH","WITHIN GROUP","WITHOUT","WORK","WRITE","WRITETEXT","YEAR","ZONE"],operators:["EXCEPT","INTERSECT","UNION","APPLY","CROSS","FULL","INNER","JOIN","LEFT","OUTER","RIGHT","CONTAINS","FREETEXT","IS","NULL","PIVOT","UNPIVOT","MATCHED"],logicalOperators:["ALL","AND","ANY","BETWEEN","EXISTS","IN","LIKE","NOT","OR","SOME"],comparisonOperators:["<>",">","<",">=","<=","=","!=","&","~","^","%"],builtinFunctions:["AVG","CHECKSUM_AGG","COUNT","COUNT_BIG","GROUPING","GROUPING_ID","MAX","MIN","SUM","STDEV","STDEVP","VAR","VARP","CUME_DIST","FIRST_VALUE","LAG","LAST_VALUE","LEAD","PERCENTILE_CONT","PERCENTILE_DISC","PERCENT_RANK","COLLATE","COLLATIONPROPERTY","TERTIARY_WEIGHTS","FEDERATION_FILTERING_VALUE","CAST","CONVERT","PARSE","TRY_CAST","TRY_CONVERT","TRY_PARSE","ASYMKEY_ID","ASYMKEYPROPERTY","CERTPROPERTY","CERT_ID","CRYPT_GEN_RANDOM","DECRYPTBYASYMKEY","DECRYPTBYCERT","DECRYPTBYKEY","DECRYPTBYKEYAUTOASYMKEY","DECRYPTBYKEYAUTOCERT","DECRYPTBYPASSPHRASE","ENCRYPTBYASYMKEY","ENCRYPTBYCERT","ENCRYPTBYKEY","ENCRYPTBYPASSPHRASE","HASHBYTES","IS_OBJECTSIGNED","KEY_GUID","KEY_ID","KEY_NAME","SIGNBYASYMKEY","SIGNBYCERT","SYMKEYPROPERTY","VERIFYSIGNEDBYCERT","VERIFYSIGNEDBYASYMKEY","CURSOR_STATUS","DATALENGTH","IDENT_CURRENT","IDENT_INCR","IDENT_SEED","IDENTITY","SQL_VARIANT_PROPERTY","CURRENT_TIMESTAMP","DATEADD","DATEDIFF","DATEFROMPARTS","DATENAME","DATEPART","DATETIME2FROMPARTS","DATETIMEFROMPARTS","DATETIMEOFFSETFROMPARTS","DAY","EOMONTH","GETDATE","GETUTCDATE","ISDATE","MONTH","SMALLDATETIMEFROMPARTS","SWITCHOFFSET","SYSDATETIME","SYSDATETIMEOFFSET","SYSUTCDATETIME","TIMEFROMPARTS","TODATETIMEOFFSET","YEAR","CHOOSE","COALESCE","IIF","NULLIF","ABS","ACOS","ASIN","ATAN","ATN2","CEILING","COS","COT","DEGREES","EXP","FLOOR","LOG","LOG10","PI","POWER","RADIANS","RAND","ROUND","SIGN","SIN","SQRT","SQUARE","TAN","APP_NAME","APPLOCK_MODE","APPLOCK_TEST","ASSEMBLYPROPERTY","COL_LENGTH","COL_NAME","COLUMNPROPERTY","DATABASE_PRINCIPAL_ID","DATABASEPROPERTYEX","DB_ID","DB_NAME","FILE_ID","FILE_IDEX","FILE_NAME","FILEGROUP_ID","FILEGROUP_NAME","FILEGROUPPROPERTY","FILEPROPERTY","FULLTEXTCATALOGPROPERTY","FULLTEXTSERVICEPROPERTY","INDEX_COL","INDEXKEY_PROPERTY","INDEXPROPERTY","OBJECT_DEFINITION","OBJECT_ID","OBJECT_NAME","OBJECT_SCHEMA_NAME","OBJECTPROPERTY","OBJECTPROPERTYEX","ORIGINAL_DB_NAME","PARSENAME","SCHEMA_ID","SCHEMA_NAME","SCOPE_IDENTITY","SERVERPROPERTY","STATS_DATE","TYPE_ID","TYPE_NAME","TYPEPROPERTY","DENSE_RANK","NTILE","RANK","ROW_NUMBER","PUBLISHINGSERVERNAME","OPENDATASOURCE","OPENQUERY","OPENROWSET","OPENXML","CERTENCODED","CERTPRIVATEKEY","CURRENT_USER","HAS_DBACCESS","HAS_PERMS_BY_NAME","IS_MEMBER","IS_ROLEMEMBER","IS_SRVROLEMEMBER","LOGINPROPERTY","ORIGINAL_LOGIN","PERMISSIONS","PWDENCRYPT","PWDCOMPARE","SESSION_USER","SESSIONPROPERTY","SUSER_ID","SUSER_NAME","SUSER_SID","SUSER_SNAME","SYSTEM_USER","USER","USER_ID","USER_NAME","ASCII","CHAR","CHARINDEX","CONCAT","DIFFERENCE","FORMAT","LEFT","LEN","LOWER","LTRIM","NCHAR","PATINDEX","QUOTENAME","REPLACE","REPLICATE","REVERSE","RIGHT","RTRIM","SOUNDEX","SPACE","STR","STUFF","SUBSTRING","UNICODE","UPPER","BINARY_CHECKSUM","CHECKSUM","CONNECTIONPROPERTY","CONTEXT_INFO","CURRENT_REQUEST_ID","ERROR_LINE","ERROR_NUMBER","ERROR_MESSAGE","ERROR_PROCEDURE","ERROR_SEVERITY","ERROR_STATE","FORMATMESSAGE","GETANSINULL","GET_FILESTREAM_TRANSACTION_CONTEXT","HOST_ID","HOST_NAME","ISNULL","ISNUMERIC","MIN_ACTIVE_ROWVERSION","NEWID","NEWSEQUENTIALID","ROWCOUNT_BIG","XACT_STATE","TEXTPTR","TEXTVALID","COLUMNS_UPDATED","EVENTDATA","TRIGGER_NESTLEVEL","UPDATE","CHANGETABLE","CHANGE_TRACKING_CONTEXT","CHANGE_TRACKING_CURRENT_VERSION","CHANGE_TRACKING_IS_COLUMN_IN_MASK","CHANGE_TRACKING_MIN_VALID_VERSION","CONTAINSTABLE","FREETEXTTABLE","SEMANTICKEYPHRASETABLE","SEMANTICSIMILARITYDETAILSTABLE","SEMANTICSIMILARITYTABLE","FILETABLEROOTPATH","GETFILENAMESPACEPATH","GETPATHLOCATOR","PATHNAME","GET_TRANSMISSION_STATUS"],builtinVariables:["@@DATEFIRST","@@DBTS","@@LANGID","@@LANGUAGE","@@LOCK_TIMEOUT","@@MAX_CONNECTIONS","@@MAX_PRECISION","@@NESTLEVEL","@@OPTIONS","@@REMSERVER","@@SERVERNAME","@@SERVICENAME","@@SPID","@@TEXTSIZE","@@VERSION","@@CURSOR_ROWS","@@FETCH_STATUS","@@DATEFIRST","@@PROCID","@@ERROR","@@IDENTITY","@@ROWCOUNT","@@TRANCOUNT","@@CONNECTIONS","@@CPU_BUSY","@@IDLE","@@IO_BUSY","@@PACKET_ERRORS","@@PACK_RECEIVED","@@PACK_SENT","@@TIMETICKS","@@TOTAL_ERRORS","@@TOTAL_READ","@@TOTAL_WRITE"],pseudoColumns:["$ACTION","$IDENTITY","$ROWGUID","$PARTITION"],tokenizer:{root:[{include:"@templateVariables"},{include:"@macros"},{include:"@comments"},{include:"@whitespace"},{include:"@pseudoColumns"},{include:"@numbers"},{include:"@strings"},{include:"@complexIdentifiers"},{include:"@scopes"},{include:"@schemaTable"},[/[;,.]/,"delimiter"],[/[()]/,"@brackets"],[/[\w@#$|<|>|=|!|%|&|+|\|-|*|/|~|^]+/,{cases:{"@operators":"operator","@comparisonOperators":"operator","@logicalOperators":"operator","@builtinVariables":"predefined","@builtinFunctions":"predefined","@keywords":"keyword","@default":"identifier"}}]],templateVariables:[[/\$[a-zA-Z0-9]+/,"variable"]],macros:[[/\$__[a-zA-Z0-9-_]+/,"type"]],schemaTable:[[/(\w+)\./,"identifier"],[/(\w+\.\w+)/,"identifier"]],whitespace:[[/\s+/,"white"]],comments:[[/--+.*/,"comment"],[/\/\*/,{token:"comment.quote",next:"@comment"}]],comment:[[/[^*/]+/,"comment"],[/\*\//,{token:"comment.quote",next:"@pop"}],[/./,"comment"]],pseudoColumns:[[/[$][A-Za-z_][\w@#$]*/,{cases:{"@pseudoColumns":"predefined","@default":"identifier"}}]],numbers:[[/0[xX][0-9a-fA-F]*/,"number"],[/[$][+-]*\d*(\.\d*)?/,"number"],[/((\d+(\.\d*)?)|(\.\d+))([eE][\-+]?\d+)?/,"number"]],strings:[[/N'/,{token:"string",next:"@string"}],[/'/,{token:"string",next:"@string"}]],string:[[/[^']+/,"string"],[/''/,"string"],[/'/,{token:"string",next:"@pop"}]],complexIdentifiers:[[/\[/,{token:"identifier.quote",next:"@bracketedIdentifier"}],[/"/,{token:"identifier.quote",next:"@quotedIdentifier"}]],bracketedIdentifier:[[/[^\]]+/,"identifier"],[/]]/,"identifier"],[/]/,{token:"identifier.quote",next:"@pop"}]],quotedIdentifier:[[/[^"]+/,"identifier"],[/""/,"identifier"],[/"/,{token:"identifier.quote",next:"@pop"}]],scopes:[[/BEGIN\s+(DISTRIBUTED\s+)?TRAN(SACTION)?\b/i,"keyword"],[/BEGIN\s+TRY\b/i,{token:"keyword.try"}],[/END\s+TRY\b/i,{token:"keyword.try"}],[/BEGIN\s+CATCH\b/i,{token:"keyword.catch"}],[/END\s+CATCH\b/i,{token:"keyword.catch"}],[/(BEGIN|CASE)\b/i,{token:"keyword.block"}],[/END\b/i,{token:"keyword.block"}],[/WHEN\b/i,{token:"keyword.choice"}],[/THEN\b/i,{token:"keyword.choice"}]]}},B=Object.freeze({__proto__:null,SELECT:N,FROM:P,WHERE:"where",GROUP:"group",ORDER:"order",BY:_,DESC:L,ASC:D,LIMIT:"limit",WITH:"with",AS:"as",SCHEMA:"schema",AND:"AND",OR:"OR",LOGICAL_OPERATORS:["AND","OR"],EQUALS:"=",NOT_EQUALS:"!=",COMPARISON_OPERATORS:M,STD_OPERATORS:k,conf:F,language:U}),G=function(e){var n,r=function(e){var n=function(e){var n;return null!==(n=null==e?void 0:e.getPreviousOfType(t.iv.Keyword,N))&&void 0!==n?n:null}(e);return null==n?void 0:n.getNextOfType(t.iv.Keyword,P)}(e),s=null==r?void 0:r.getNextNonWhiteSpaceToken();return(null==s?void 0:s.isVariable())||(null==s?void 0:s.isKeyword())&&(null===(n=s.next)||void 0===n?void 0:n.is(t.iv.Parenthesis,"("))?null:s},K=function(e){var t=null==e?void 0:e.value.split(".");return 1===(null==t?void 0:t.length)?{table:t[0]}:2===(null==t?void 0:t.length)?{schema:t[0],table:t[1]}:null},x={id:"editor.action.triggerSuggest",title:""},Y=new Uint8Array(16);function W(){if(!C&&!(C="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return C(Y)}var j=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function V(e){return"string"==typeof e&&j.test(e)}for(var H=[],Q=0;Q<256;++Q)H.push((Q+256).toString(16).substr(1));function X(e,t,n){var r=(e=e||{}).random||(e.rng||W)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var s=0;s<16;++s)t[n+s]=r[s];return t}return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(H[e[t+0]]+H[e[t+1]]+H[e[t+2]]+H[e[t+3]]+"-"+H[e[t+4]]+H[e[t+5]]+"-"+H[e[t+6]]+H[e[t+7]]+"-"+H[e[t+8]]+H[e[t+9]]+"-"+H[e[t+10]]+H[e[t+11]]+H[e[t+12]]+H[e[t+13]]+H[e[t+14]]+H[e[t+15]]).toLowerCase();if(!V(n))throw TypeError("Stringified UUID is invalid");return n}(r)}function $(e){return{label:e.name,insertText:"".concat("\\"+e.text).concat(z(e.args)," "),insertTextRules:t.a7.InsertAsSnippet,kind:t.cm.Snippet,documentation:e.description,command:x}}function z(e){return e?"(".concat(e.map((function(e,t){return"${".concat(t,":").concat(e,"}")})).join(", ")).concat(")"):"()"}function J(){return[{id:t.fC.SelectKeyword,name:t.fC.SelectKeyword,resolve:function(e,n,r,s){return Boolean(null===e||e.isWhiteSpace()&&null===e.previous||e.is(t.iv.Keyword,N)||e.is(t.iv.Keyword,N)&&null===e.previous||s||e.isIdentifier()&&(s||null===(null==e?void 0:e.previous))||e.isIdentifier()&&N.startsWith(e.value.toLowerCase()))}},{id:t.fC.WithKeyword,name:t.fC.WithKeyword,resolve:function(e,n,r,s){return Boolean(null===e||e.isWhiteSpace()&&null===e.previous||e.is(t.iv.Keyword,"with")&&null===e.previous||e.isIdentifier()&&"with".toLowerCase().startsWith(e.value.toLowerCase()))}},{id:t.fC.AfterSelectKeyword,name:t.fC.AfterSelectKeyword,resolve:function(e,t,n,r){return Boolean((null==n?void 0:n.value.toLowerCase())===N)}},{id:t.fC.AfterSelectArguments,name:t.fC.AfterSelectArguments,resolve:function(e,t,n,r){return Boolean((null==t?void 0:t.value.toLowerCase())===N&&","===(null==n?void 0:n.value))}},{id:t.fC.AfterSelectFuncFirstArgument,name:t.fC.AfterSelectFuncFirstArgument,resolve:function(e,n,r,s){return Boolean(((null==n?void 0:n.value.toLowerCase())===N||"as"===(null==n?void 0:n.value.toLowerCase()))&&((null==r?void 0:r.is(t.iv.Parenthesis,"("))||(null==e?void 0:e.is(t.iv.Parenthesis,"()"))))}},{id:t.fC.AfterWhereFunctionArgument,name:t.fC.AfterWhereFunctionArgument,resolve:function(e,n,r,s){return Boolean((null==n?void 0:n.is(t.iv.Keyword,"where"))&&((null==r?void 0:r.is(t.iv.Parenthesis,"("))||(null==e?void 0:e.is(t.iv.Parenthesis,"()"))))}},{id:t.fC.AfterGroupBy,name:t.fC.AfterGroupBy,resolve:function(e,n,r,s){var l;return Boolean((null==n?void 0:n.is(t.iv.Keyword,_))&&(null===(l=null==n?void 0:n.getPreviousKeyword())||void 0===l?void 0:l.is(t.iv.Keyword,"group"))&&((null==r?void 0:r.isIdentifier())||(null==r?void 0:r.isDoubleQuotedString())||(null==r?void 0:r.is(t.iv.Parenthesis,")"))||(null==r?void 0:r.is(t.iv.Parenthesis,"()"))))}},{id:t.fC.SelectAlias,name:t.fC.SelectAlias,resolve:function(e,t,n,r){return","===(null==n?void 0:n.value)&&"as"===(null==t?void 0:t.value.toLowerCase())}},{id:t.fC.FromKeyword,name:t.fC.FromKeyword,resolve:function(e,t,n,r){return Boolean((null==t?void 0:t.value.toLowerCase())===N&&","!==(null==n?void 0:n.value)||((null==e?void 0:e.isKeyword())||(null==e?void 0:e.isIdentifier()))&&P.toLowerCase().startsWith(e.value.toLowerCase()))}},{id:t.fC.AfterFromKeyword,name:t.fC.AfterFromKeyword,resolve:function(e,t,n,r){return Boolean(!(null==e?void 0:e.value.includes("."))&&(null==n?void 0:n.value.toLowerCase())===P)}},{id:t.fC.AfterSchema,name:t.fC.AfterSchema,resolve:function(e,t,n,r){return(null==e?void 0:e.isWhiteSpace())&&(null==e?void 0:e.next)&&(n=null==(e=null==e?void 0:e.previous)?void 0:e.getPreviousNonWhiteSpaceToken()),Boolean((null==e?void 0:e.isIdentifier())&&(null==e?void 0:e.value.endsWith("."))&&(null==n?void 0:n.value.toLowerCase())===P)}},{id:t.fC.AfterFrom,name:t.fC.AfterFrom,resolve:function(e,t,n,r){return Boolean((null==t?void 0:t.value.toLowerCase())===P&&(null==n?void 0:n.isDoubleQuotedString())||(null==t?void 0:t.value.toLowerCase())===P&&(null==n?void 0:n.isIdentifier())||(null==t?void 0:t.value.toLowerCase())===P&&(null==n?void 0:n.isVariable()))}},{id:t.fC.AfterTable,name:t.fC.AfterTable,resolve:function(e,t,n,r){return Boolean((null==t?void 0:t.value.toLowerCase())===P&&((null==n?void 0:n.isVariable())||""!==(null==n?void 0:n.value)&&(null==n?void 0:n.value.toLowerCase())!==P))}},{id:t.fC.WhereKeyword,name:t.fC.WhereKeyword,resolve:function(e,n,r,s){return Boolean("where"===(null==n?void 0:n.value.toLowerCase())&&((null==r?void 0:r.isKeyword())||(null==r?void 0:r.is(t.iv.Parenthesis,"("))||(null==r?void 0:r.is(t.iv.Operator,"AND"))))}},{id:t.fC.WhereComparisonOperator,name:t.fC.WhereComparisonOperator,resolve:function(e,n,r,s){return Boolean("where"===(null==n?void 0:n.value.toLowerCase())&&!(null==r?void 0:r.getPreviousNonWhiteSpaceToken().isOperator())&&!e.is(t.iv.Delimiter,".")&&!e.isParenthesis()&&((null==r?void 0:r.isIdentifier())||(null==r?void 0:r.isDoubleQuotedString())))}},{id:t.fC.WhereValue,name:t.fC.WhereValue,resolve:function(e,t,n,r){return Boolean("where"===(null==t?void 0:t.value.toLowerCase())&&(null==n?void 0:n.isOperator()))}},{id:t.fC.AfterWhereValue,name:t.fC.AfterWhereValue,resolve:function(e,n,r,s){var l,o,a;return Boolean("where"===(null==n?void 0:n.value.toLowerCase())&&(r.is(t.iv.Operator,"and")||r.is(t.iv.Operator,"or")||(null==r?void 0:r.isString())||(null==r?void 0:r.isNumber())||(null==r?void 0:r.is(t.iv.Parenthesis,")"))||(null==r?void 0:r.is(t.iv.Parenthesis,"()"))||(null==r?void 0:r.isTemplateVariable())||(null==r?void 0:r.is(t.iv.IdentifierQuote))&&(null===(l=r.getPreviousNonWhiteSpaceToken())||void 0===l?void 0:l.is(t.iv.Identifier))&&(null===(a=null===(o=null==r?void 0:r.getPreviousNonWhiteSpaceToken())||void 0===o?void 0:o.getPreviousNonWhiteSpaceToken())||void 0===a?void 0:a.is(t.iv.IdentifierQuote))))}},{id:t.fC.AfterGroupByKeywords,name:t.fC.AfterGroupByKeywords,resolve:function(e,n,r,s){var l;return Boolean((null==n?void 0:n.is(t.iv.Keyword,_))&&(null===(l=null==n?void 0:n.getPreviousKeyword())||void 0===l?void 0:l.is(t.iv.Keyword,"group"))&&((null==r?void 0:r.is(t.iv.Keyword,_))||(null==r?void 0:r.is(t.iv.Delimiter,","))))}},{id:t.fC.AfterGroupByFunctionArgument,name:t.fC.AfterGroupByFunctionArgument,resolve:function(e,n,r,s){var l;return Boolean((null==n?void 0:n.is(t.iv.Keyword,_))&&(null===(l=null==n?void 0:n.getPreviousKeyword())||void 0===l?void 0:l.is(t.iv.Keyword,"group"))&&((null==r?void 0:r.is(t.iv.Parenthesis,"("))||(null==e?void 0:e.is(t.iv.Parenthesis,"()"))))}},{id:t.fC.AfterOrderByKeywords,name:t.fC.AfterOrderByKeywords,resolve:function(e,n,r,s){var l;return Boolean((null==r?void 0:r.is(t.iv.Keyword,_))&&(null===(l=null==r?void 0:r.getPreviousKeyword())||void 0===l?void 0:l.is(t.iv.Keyword,"order")))}},{id:t.fC.AfterOrderByFunction,name:t.fC.AfterOrderByFunction,resolve:function(e,n,r,s){var l,o;return Boolean((null==n?void 0:n.is(t.iv.Keyword,_))&&(null===(l=null==n?void 0:n.getPreviousKeyword())||void 0===l?void 0:l.is(t.iv.Keyword,"order"))&&(null==r?void 0:r.is(t.iv.Parenthesis))&&(null===(o=null==r?void 0:r.getPreviousNonWhiteSpaceToken())||void 0===o?void 0:o.is(t.iv.Function)))}},{id:t.fC.AfterOrderByDirection,name:t.fC.AfterOrderByDirection,resolve:function(e,n,r,s){return Boolean((null==n?void 0:n.is(t.iv.Keyword,L))||(null==n?void 0:n.is(t.iv.Keyword,D)))}},{id:t.fC.AfterIsOperator,name:t.fC.AfterIsOperator,resolve:function(e,n,r,s){return Boolean(null==r?void 0:r.is(t.iv.Operator,"IS"))}},{id:t.fC.AfterIsNotOperator,name:t.fC.AfterIsNotOperator,resolve:function(e,n,r,s){var l;return Boolean((null==r?void 0:r.is(t.iv.Operator,"NOT"))&&(null===(l=r.getPreviousNonWhiteSpaceToken())||void 0===l?void 0:l.is(t.iv.Operator,"IS")))}}]}var Z={logger:function(){}},ee=function(){};c.attachDebugger&&c.createLogger&&(Z=c.createLogger("SQLEditor"),ee=Z.logger,c.attachDebugger("sqleditor",void 0,Z));var te=[{id:"$__timeFilter(dateColumn)",name:"$__timeFilter(dateColumn)",text:"$__timeFilter",args:["column"],type:t.MacroType.Filter,description:"Will be replaced by a time range filter using the specified column name. For example, dateColumn BETWEEN FROM_UNIXTIME(1494410783) AND FROM_UNIXTIME(1494410983)"},{id:"$__timeFrom()",name:"$__timeFrom()",text:"$__timeFrom",args:[],type:t.MacroType.Filter,description:"Will be replaced by the start of the currently active time selection. For example, FROM_UNIXTIME(1494410783)"},{id:"$__timeTo()",name:"$__timeTo()",text:"$__timeTo",args:[],type:t.MacroType.Filter,description:"Will be replaced by the end of the currently active time selection. For example, FROM_UNIXTIME(1494410983)"},{id:"$__timeGroup(dateColumn, '5m')",name:"$__timeGroup(dateColumn, '5m')",text:"$__timeGroup",args:["column","'5m'"],type:t.MacroType.Value,description:"Will be replaced by an expression usable in GROUP BY clause. For example, *cast(cast(UNIX_TIMESTAMP(dateColumn)/(300) as signed)*300 as signed),*"},{id:"$__table",name:"$__table",text:"$__table",args:[],type:t.MacroType.Table,description:"Will be replaced by the query table."},{id:"$__column",name:"$__column",text:"$__column",args:[],type:t.MacroType.Column,description:"Will be replaced by the query column."}];function ne(e,n){var r,s,l,o={triggerCharacters:["."," ","$",",","(","'"]};(null==n?void 0:n.builtinFunctions.length)&&(o.supportedFunctions=function(){return n.builtinFunctions.map((function(e){return{id:e,name:e}}))});var a=[];return(null===(r=null==n?void 0:n.comparisonOperators)||void 0===r?void 0:r.length)&&a.push.apply(a,w([],O(n.comparisonOperators.map((function(e){return{id:e.toLocaleLowerCase(),operator:e,type:t.$M.Comparison}}))),!1)),n.logicalOperators=null!==(s=n.logicalOperators)&&void 0!==s?s:n.operators,(null===(l=null==n?void 0:n.logicalOperators)||void 0===l?void 0:l.length)&&a.push.apply(a,w([],O(n.logicalOperators.map((function(e){return{id:e.toLocaleLowerCase(),operator:e,type:t.$M.Logical}}))),!1)),o.supportedOperators=function(){return a},o.supportedMacros=function(){return te},o}var re={id:"standardSql",extensions:[".sql"],aliases:["sql"],mimetypes:[],loader:function(){return Promise.resolve().then((function(){return B}))},completionProvider:ne},se=new Map,le=new Map,oe=function(e,n,r){return m(void 0,void 0,void 0,(function(){var s,l,o,a,i,u,f,p;return h(this,(function(c){switch(c.label){case 0:return[4,(s=function(e,t){if("sql"!==(null==t?void 0:t.id)&&!t.loader){ee("Loading language '".concat(null==t?void 0:t.id,"' from Monaco registry"),!1);var n=e.languages.getLanguages().find((function(e){return e.id===(null==t?void 0:t.id)}));if(!n)throw Error("Unknown Monaco language ".concat(null==t?void 0:t.id));return q(q({completionProvider:ne},n),t)}return q(q({},re),t)}(e,n)).loader(e)];case 1:return l=c.sent(),o=l.language,a=l.conf,e.languages.register({id:r}),e.languages.setMonarchTokensProvider(r,q({},o)),e.languages.setLanguageConfiguration(r,q({},a)),s.formatter&&e.languages.registerDocumentFormattingEditProvider(r,{provideDocumentFormattingEdits:function(e){var t=n.formatter(e.getValue());return[{range:e.getFullModelRange(),text:t}]}}),s.completionProvider&&(i=s.completionProvider(e,o),function(e,n,r){var s,l,o,a,i,u,f,p,c,g,d,R=this;se.has(e)||function(e){se.has(e)||se.set(e,{functions:new y.Registry,operators:new y.Registry,suggestionKinds:new y.Registry(v),positionResolvers:new y.Registry(J),macros:new y.Registry}),se.get(e)}(e);var S,A,b,I=se.get(e);le.has(n)||le.set(n,new y.Registry((S=I.functions,A=I.operators,b=I.macros,function(){return[{id:t.is.SelectKeyword,name:t.is.SelectKeyword,suggestions:function(e,n){return Promise.resolve([{label:"SELECT <column>",insertText:"SELECT $0",insertTextRules:t.a7.InsertAsSnippet,kind:t.cm.Snippet,command:x,sortText:t.G8.Medium},{label:"SELECT <column> FROM <table>",insertText:"SELECT $2 FROM $1",insertTextRules:t.a7.InsertAsSnippet,kind:t.cm.Snippet,command:x,sortText:t.G8.Medium}])}},{id:t.is.TemplateVariables,name:t.is.TemplateVariables,suggestions:function(e,n){var r=E.getTemplateSrv();return r?Promise.resolve(r.getVariables().map((function(e){var n="$".concat(e.name),s=r.replace(n);return{label:n,detail:"(Template Variable) ".concat(s),kind:t.cm.Snippet,documentation:"(Template Variable) ".concat(s),insertText:"\\$".concat(e.name," "),insertTextRules:t.a7.InsertAsSnippet,command:x,sortText:t.G8.Low}}))):Promise.resolve([])}},{id:t.is.SelectMacro,name:t.is.SelectMacro,suggestions:function(e,n){return Promise.resolve(w([],O(b.list().filter((function(e){return e.type===t.MacroType.Value||e.type===t.MacroType.Column})).map($)),!1))}},{id:t.is.TableMacro,name:t.is.TableMacro,suggestions:function(e,n){return Promise.resolve(w([],O(b.list().filter((function(e){return e.type===t.MacroType.Table})).map($)),!1))}},{id:t.is.GroupMacro,name:t.is.GroupMacro,suggestions:function(e,n){return Promise.resolve(w([],O(b.list().filter((function(e){return e.type===t.MacroType.Group})).map($)),!1))}},{id:t.is.FilterMacro,name:t.is.FilterMacro,suggestions:function(e,n){return Promise.resolve(w([],O(b.list().filter((function(e){return e.type===t.MacroType.Filter})).map($)),!1))}},{id:t.is.WithKeyword,name:t.is.WithKeyword,suggestions:function(e,n){return Promise.resolve([{label:"WITH <alias> AS ( ... )",insertText:"WITH $1  AS ( $2 )",insertTextRules:t.a7.InsertAsSnippet,kind:t.cm.Snippet,command:x,sortText:t.G8.Medium}])}},{id:t.is.StarWildCard,name:t.is.StarWildCard,suggestions:function(e,n){return Promise.resolve([{label:"*",insertText:"* $0",insertTextRules:t.a7.InsertAsSnippet,kind:t.cm.Field,command:x,sortText:t.G8.High}])}},{id:t.is.FunctionsWithArguments,name:t.is.FunctionsWithArguments,suggestions:function(e,n){return Promise.resolve(w([],O(S.list().map((function(e){return{label:e.name,insertText:"".concat(e.name,"($0)"),documentation:e.description,insertTextRules:t.a7.InsertAsSnippet,kind:t.cm.Function,command:x,sortText:t.G8.MediumLow}}))),!1))}},{id:t.is.FunctionsWithoutArguments,name:t.is.FunctionsWithoutArguments,suggestions:function(e,n){return Promise.resolve(w([],O(S.list().map((function(e){return{label:e.name,insertText:"".concat(e.name,"()"),documentation:e.description,insertTextRules:t.a7.InsertAsSnippet,kind:t.cm.Function,command:x,sortText:t.G8.MediumHigh}}))),!1))}},{id:t.is.FromKeyword,name:t.is.FromKeyword,suggestions:function(e,n){return Promise.resolve([{label:"FROM",insertText:"FROM $0",command:x,insertTextRules:t.a7.InsertAsSnippet,kind:t.cm.Keyword}])}},{id:t.is.Schemas,name:t.is.Schemas,suggestions:function(e,t){return Promise.resolve([])}},{id:t.is.Tables,name:t.is.Tables,suggestions:function(e,t){return Promise.resolve([])}},{id:t.is.Columns,name:t.is.Columns,suggestions:function(e,t){return Promise.resolve([])}},{id:t.is.LogicalOperators,name:t.is.LogicalOperators,suggestions:function(e,n){return Promise.resolve(A.list().filter((function(e){return e.type===t.$M.Logical})).map((function(e){return{label:e.operator,insertText:"".concat(e.operator," "),documentation:e.description,command:x,sortText:t.G8.MediumHigh,kind:t.cm.Operator}})))}},{id:t.is.WhereKeyword,name:t.is.WhereKeyword,suggestions:function(e,n){return Promise.resolve([{label:"WHERE",insertText:"WHERE ",command:x,sortText:t.G8.MediumHigh,kind:t.cm.Keyword}])}},{id:t.is.ComparisonOperators,name:t.is.ComparisonOperators,suggestions:function(e,n){return Promise.resolve(w(w([],O(A.list().filter((function(e){return e.type===t.$M.Comparison})).map((function(e){return{label:e.operator,insertText:"".concat(e.operator," "),documentation:e.description,command:x,sortText:t.G8.MediumHigh,kind:t.cm.Operator}}))),!1),[{label:"IN (...)",insertText:"IN ( $0 )",command:x,sortText:t.G8.Medium,kind:t.cm.Operator,insertTextRules:t.a7.InsertAsSnippet},{label:"NOT IN (...)",insertText:"NOT IN ( $0 )",command:x,sortText:t.G8.Medium,kind:t.cm.Operator,insertTextRules:t.a7.InsertAsSnippet},{label:"IS",insertText:"IS",command:x,sortText:t.G8.Medium,kind:t.cm.Operator},{label:"IS NOT",insertText:"IS NOT",command:x,sortText:t.G8.Medium,kind:t.cm.Operator}],!1))}},{id:t.is.GroupByKeywords,name:t.is.GroupByKeywords,suggestions:function(e,n){return Promise.resolve([{label:"GROUP BY",insertText:"GROUP BY ",command:x,sortText:t.G8.MediumHigh,kind:t.cm.Keyword}])}},{id:t.is.OrderByKeywords,name:t.is.OrderByKeywords,suggestions:function(e,n){return Promise.resolve([{label:"ORDER BY",insertText:"ORDER BY ",command:x,sortText:t.G8.Medium,kind:t.cm.Keyword},{label:"ORDER BY(ascending)",insertText:"ORDER BY $1 ASC ",command:x,sortText:t.G8.MediumLow,kind:t.cm.Snippet,insertTextRules:t.a7.InsertAsSnippet},{label:"ORDER BY(descending)",insertText:"ORDER BY $1 DESC",command:x,sortText:t.G8.MediumLow,kind:t.cm.Snippet,insertTextRules:t.a7.InsertAsSnippet}])}},{id:t.is.LimitKeyword,name:t.is.LimitKeyword,suggestions:function(e,n){return Promise.resolve([{label:"LIMIT",insertText:"LIMIT ",command:x,sortText:t.G8.MediumLow,kind:t.cm.Keyword}])}},{id:t.is.SortOrderDirectionKeyword,name:t.is.SortOrderDirectionKeyword,suggestions:function(e,n){return Promise.resolve([D,L].map((function(e){return{label:e,insertText:"".concat(e," "),command:x,kind:t.cm.Keyword}})))}},{id:t.is.NotKeyword,name:t.is.NotKeyword,suggestions:function(){return Promise.resolve([{label:"NOT",insertText:"NOT",command:x,kind:t.cm.Keyword,sortText:t.G8.High}])}},{id:t.is.BoolValues,name:t.is.BoolValues,suggestions:function(){return Promise.resolve(["TRUE","FALSE"].map((function(e){return{label:e,insertText:"".concat(e),command:x,kind:t.cm.Keyword,sortText:t.G8.Medium}})))}},{id:t.is.NullValue,name:t.is.NullValue,suggestions:function(){return Promise.resolve(["NULL"].map((function(e){return{label:e,insertText:"".concat(e),command:x,kind:t.cm.Keyword,sortText:t.G8.Low}})))}}]})));var C=le.get(n);if(r.supportedFunctions)try{for(var N=T(r.supportedFunctions()),P=N.next();!P.done;P=N.next()){var _=P.value;I.functions.getIfExists(_.id)||I.functions.register(_)}}catch(e){s={error:e}}finally{try{P&&!P.done&&(l=N.return)&&l.call(N)}finally{if(s)throw s.error}}if(r.supportedOperators)try{for(var M=T(r.supportedOperators()),k=M.next();!k.done;k=M.next()){var F=k.value;I.operators.getIfExists(F.id)||I.operators.register(q(q({},F),{name:F.id}))}}catch(e){o={error:e}}finally{try{k&&!k.done&&(a=M.return)&&a.call(M)}finally{if(o)throw o.error}}if(r.supportedMacros)try{for(var U=T(r.supportedMacros()),B=U.next();!B.done;B=U.next()){var Y=B.value;I.macros.getIfExists(Y.id)||I.macros.register(q(q({},Y),{name:Y.id}))}}catch(e){i={error:e}}finally{try{B&&!B.done&&(u=U.return)&&u.call(U)}finally{if(i)throw i.error}}if(r.customStatementPlacement){var W=function(e){var t=I.positionResolvers.getIfExists(e.id);if(t){var n=t.resolve;t.resolve=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var s=e.resolve.apply(e,w([],O(t),!1));if(e.overrideDefault)return s;var l=n.apply(void 0,w([],O(t),!1));return l||s}}else I.positionResolvers.register(q(q({},e),{id:e.id,name:e.id})),I.suggestionKinds.register({id:e.id,name:e.id,kind:[]})};try{for(var j=T(r.customStatementPlacement()),V=j.next();!V.done;V=j.next())W(V.value)}catch(e){f={error:e}}finally{try{V&&!V.done&&(p=j.return)&&p.call(j)}finally{if(f)throw f.error}}}if(r.customSuggestionKinds){var H=function(e){if(null===(d=e.applyTo)||void 0===d||d.forEach((function(t){var n=I.suggestionKinds.getIfExists(t);n&&-1===n.kind.indexOf(e.id)&&n.kind.push(e.id)})),e.overrideDefault){var t=C.get(e.id);if(void 0!==t)return t.suggestions=e.suggestionsResolver,"continue"}C.register({id:e.id,name:e.id,suggestions:e.suggestionsResolver})};try{for(var Q=T(r.customSuggestionKinds()),X=Q.next();!X.done;X=Q.next())H(X.value)}catch(e){c={error:e}}finally{try{X&&!X.done&&(g=Q.return)&&g.call(Q)}finally{if(c)throw c.error}}}if(r.schemas){var z=(ee=C.get(t.is.Schemas)).suggestions;ee.suggestions=function(e,n){return m(R,void 0,void 0,(function(){var s,l,o;return h(this,(function(a){switch(a.label){case 0:return[4,z(e,n)];case 1:return s=a.sent(),[4,r.schemas.resolve()];case 2:return l=a.sent(),o=l.map((function(e){var n;return{label:e.name,insertText:"".concat(null!==(n=e.completion)&&void 0!==n?n:e.name,"."),command:x,kind:t.cm.Module,sortText:t.G8.High}})),[2,w(w([],O(s),!1),O(o),!1)]}}))}))}}if(r.tables){var Z=(ee=C.get(t.is.Tables)).suggestions;ee.suggestions=function(e,n){return m(R,void 0,void 0,(function(){var s,l,o,a,i,u,f;return h(this,(function(p){switch(p.label){case 0:return[4,Z(e,n)];case 1:return s=p.sent(),l=G(e.currentToken),o=null!==(f=null===(u=r.tables)||void 0===u?void 0:u.parseName)&&void 0!==f?f:K,a=o(l),[4,r.tables.resolve(a)];case 2:return i=p.sent().map((function(e){var n;return{label:e.name,insertText:"".concat(null!==(n=e.completion)&&void 0!==n?n:e.name).concat(e.completion===e.name?" $0":""),insertTextRules:t.a7.InsertAsSnippet,command:x,kind:t.cm.Field,sortText:t.G8.MediumHigh}})),[2,w(w([],O(s),!1),O(i),!1)]}}))}))}}if(r.columns){var ee,te=(ee=C.get(t.is.Columns)).suggestions;ee.suggestions=function(e,n){return m(R,void 0,void 0,(function(){var s,l,o,a,i,u,f,p,c;return h(this,(function(g){switch(g.label){case 0:return[4,te(e,n)];case 1:return s=g.sent(),l=G(e.currentToken),a=null!==(p=null===(f=r.tables)||void 0===f?void 0:f.parseName)&&void 0!==p?p:K,l&&l.value&&(o=a(l)),i=[],o?[4,null===(c=r.columns)||void 0===c?void 0:c.resolve(o)]:[3,3];case 2:u=g.sent(),i=u?u.map((function(e){var n;return{label:e.name,insertText:null!==(n=e.completion)&&void 0!==n?n:e.name,kind:t.cm.Field,sortText:t.G8.High,detail:e.type,documentation:e.description}})):[],g.label=3;case 3:return[2,w(w([],O(s),!1),O(i),!1)]}}))}))}}}(n.id,r,i),u=se.get(n.id),f=le.get(r),p=function(t,n,s,l){return m(void 0,void 0,void 0,(function(){var s,l,o,a;return h(this,(function(i){switch(i.label){case 0:return s=I(e,t,n,r),l=R(s,u.positionResolvers),o=function(e,t){for(var n=[],r=0;r<e.length;r++){var s=t.getIfExists(e[r]);s&&(n=n.concat(s.kind))}return n}(l,u.suggestionKinds),ee("Statement position",!1,l),ee("Suggestion kinds",!1,o),a={position:n,currentToken:s,statementPosition:l,kind:o,range:e.Range.fromPositions(n)},[4,S(e,s,o,a,f)];case 1:return[2,{suggestions:i.sent()}]}}))}))},e.languages.registerCompletionItemProvider(r,q(q({},i),{provideCompletionItems:p}))),[2]}}))}))};Object.freeze({__proto__:null,singleLineFullQuery:{query:'SELECT column1, FROM table1 WHERE column1 = "value1" GROUP BY column1 ORDER BY column1 DESC LIMIT 10',tokens:[[{offset:0,type:"keyword.sql",language:"sql"},{offset:6,type:"white.sql",language:"sql"},{offset:7,type:"identifier.sql",language:"sql"},{offset:14,type:"delimiter.sql",language:"sql"},{offset:15,type:"white.sql",language:"sql"},{offset:16,type:"keyword.sql",language:"sql"},{offset:20,type:"white.sql",language:"sql"},{offset:21,type:"identifier.sql",language:"sql"},{offset:27,type:"white.sql",language:"sql"},{offset:28,type:"keyword.sql",language:"sql"},{offset:33,type:"white.sql",language:"sql"},{offset:34,type:"identifier.sql",language:"sql"},{offset:41,type:"white.sql",language:"sql"},{offset:42,type:"operator.sql",language:"sql"},{offset:43,type:"white.sql",language:"sql"},{offset:44,type:"identifier.quote.sql",language:"sql"},{offset:45,type:"identifier.sql",language:"sql"},{offset:51,type:"identifier.quote.sql",language:"sql"},{offset:52,type:"white.sql",language:"sql"},{offset:53,type:"keyword.sql",language:"sql"},{offset:58,type:"white.sql",language:"sql"},{offset:59,type:"keyword.sql",language:"sql"},{offset:61,type:"white.sql",language:"sql"},{offset:62,type:"identifier.sql",language:"sql"},{offset:69,type:"white.sql",language:"sql"},{offset:70,type:"keyword.sql",language:"sql"},{offset:75,type:"white.sql",language:"sql"},{offset:76,type:"keyword.sql",language:"sql"},{offset:78,type:"white.sql",language:"sql"},{offset:79,type:"identifier.sql",language:"sql"},{offset:86,type:"white.sql",language:"sql"},{offset:87,type:"keyword.sql",language:"sql"},{offset:91,type:"white.sql",language:"sql"},{offset:92,type:"keyword.sql",language:"sql"},{offset:97,type:"white.sql",language:"sql"},{offset:98,type:"number.sql",language:"sql"},{offset:100,type:"delimiter.sql",language:"sql"}]]},singleLineFullQueryWithAggregation:{query:'SELECT count(column1), FROM table1 WHERE column1 = "value1" GROUP BY column1 ORDER BY column1 DESC LIMIT 10;',tokens:[[{offset:0,type:"keyword.sql",language:"sql"},{offset:6,type:"white.sql",language:"sql"},{offset:7,type:"predefined.sql",language:"sql"},{offset:12,type:"delimiter.parenthesis.sql",language:"sql"},{offset:13,type:"identifier.sql",language:"sql"},{offset:20,type:"delimiter.parenthesis.sql",language:"sql"},{offset:21,type:"delimiter.sql",language:"sql"},{offset:22,type:"white.sql",language:"sql"},{offset:23,type:"keyword.sql",language:"sql"},{offset:27,type:"white.sql",language:"sql"},{offset:28,type:"identifier.sql",language:"sql"},{offset:34,type:"white.sql",language:"sql"},{offset:35,type:"keyword.sql",language:"sql"},{offset:40,type:"white.sql",language:"sql"},{offset:41,type:"identifier.sql",language:"sql"},{offset:48,type:"white.sql",language:"sql"},{offset:49,type:"operator.sql",language:"sql"},{offset:50,type:"white.sql",language:"sql"},{offset:51,type:"identifier.quote.sql",language:"sql"},{offset:52,type:"identifier.sql",language:"sql"},{offset:58,type:"identifier.quote.sql",language:"sql"},{offset:59,type:"white.sql",language:"sql"},{offset:60,type:"keyword.sql",language:"sql"},{offset:65,type:"white.sql",language:"sql"},{offset:66,type:"keyword.sql",language:"sql"},{offset:68,type:"white.sql",language:"sql"},{offset:69,type:"identifier.sql",language:"sql"},{offset:76,type:"white.sql",language:"sql"},{offset:77,type:"keyword.sql",language:"sql"},{offset:82,type:"white.sql",language:"sql"},{offset:83,type:"keyword.sql",language:"sql"},{offset:85,type:"white.sql",language:"sql"},{offset:86,type:"identifier.sql",language:"sql"},{offset:93,type:"white.sql",language:"sql"},{offset:94,type:"keyword.sql",language:"sql"},{offset:98,type:"white.sql",language:"sql"},{offset:99,type:"keyword.sql",language:"sql"},{offset:104,type:"white.sql",language:"sql"},{offset:105,type:"number.sql",language:"sql"},{offset:107,type:"delimiter.sql",language:"sql"}]]},multiLineFullQuery:{query:'SELECT column1,  \n  FROM table1 \n  \n  WHERE column1 = "value1" \n  GROUP BY column1 ORDER BY column1 DESC \n  LIMIT 10;',tokens:[[{offset:0,type:"keyword.sql",language:"sql"},{offset:6,type:"white.sql",language:"sql"},{offset:7,type:"identifier.sql",language:"sql"},{offset:14,type:"delimiter.sql",language:"sql"},{offset:15,type:"white.sql",language:"sql"}],[{offset:0,type:"keyword.sql",language:"sql"},{offset:4,type:"white.sql",language:"sql"},{offset:5,type:"identifier.sql",language:"sql"},{offset:11,type:"white.sql",language:"sql"}],[{offset:0,type:"white.sql",language:"sql"}],[{offset:0,type:"keyword.sql",language:"sql"},{offset:5,type:"white.sql",language:"sql"},{offset:6,type:"identifier.sql",language:"sql"},{offset:13,type:"white.sql",language:"sql"},{offset:14,type:"operator.sql",language:"sql"},{offset:15,type:"white.sql",language:"sql"},{offset:16,type:"identifier.quote.sql",language:"sql"},{offset:17,type:"identifier.sql",language:"sql"},{offset:23,type:"identifier.quote.sql",language:"sql"},{offset:24,type:"white.sql",language:"sql"}],[{offset:0,type:"keyword.sql",language:"sql"},{offset:5,type:"white.sql",language:"sql"},{offset:6,type:"keyword.sql",language:"sql"},{offset:8,type:"white.sql",language:"sql"},{offset:9,type:"identifier.sql",language:"sql"},{offset:16,type:"white.sql",language:"sql"},{offset:17,type:"keyword.sql",language:"sql"},{offset:22,type:"white.sql",language:"sql"},{offset:23,type:"keyword.sql",language:"sql"},{offset:25,type:"white.sql",language:"sql"},{offset:26,type:"identifier.sql",language:"sql"},{offset:33,type:"white.sql",language:"sql"},{offset:34,type:"keyword.sql",language:"sql"},{offset:38,type:"white.sql",language:"sql"}],[{offset:0,type:"keyword.sql",language:"sql"},{offset:5,type:"white.sql",language:"sql"},{offset:6,type:"number.sql",language:"sql"},{offset:8,type:"delimiter.sql",language:"sql"}]]},multiLineFullQueryWithAggregation:{query:'SELECT count(column1),  \n  FROM table1 \n  \n  WHERE column1 = "value1" \n  GROUP BY column1 ORDER BY column1 DESC \n  LIMIT 10;',tokens:[[{offset:0,type:"keyword.sql",language:"sql"},{offset:6,type:"white.sql",language:"sql"},{offset:7,type:"predefined.sql",language:"sql"},{offset:12,type:"delimiter.parenthesis.sql",language:"sql"},{offset:13,type:"identifier.sql",language:"sql"},{offset:20,type:"delimiter.parenthesis.sql",language:"sql"},{offset:21,type:"delimiter.sql",language:"sql"},{offset:22,type:"white.sql",language:"sql"}],[{offset:0,type:"keyword.sql",language:"sql"},{offset:4,type:"white.sql",language:"sql"},{offset:5,type:"identifier.sql",language:"sql"},{offset:11,type:"white.sql",language:"sql"}],[{offset:0,type:"white.sql",language:"sql"}],[{offset:0,type:"keyword.sql",language:"sql"},{offset:5,type:"white.sql",language:"sql"},{offset:6,type:"identifier.sql",language:"sql"},{offset:13,type:"white.sql",language:"sql"},{offset:14,type:"operator.sql",language:"sql"},{offset:15,type:"white.sql",language:"sql"},{offset:16,type:"identifier.quote.sql",language:"sql"},{offset:17,type:"identifier.sql",language:"sql"},{offset:23,type:"identifier.quote.sql",language:"sql"},{offset:24,type:"white.sql",language:"sql"}],[{offset:0,type:"keyword.sql",language:"sql"},{offset:5,type:"white.sql",language:"sql"},{offset:6,type:"keyword.sql",language:"sql"},{offset:8,type:"white.sql",language:"sql"},{offset:9,type:"identifier.sql",language:"sql"},{offset:16,type:"white.sql",language:"sql"},{offset:17,type:"keyword.sql",language:"sql"},{offset:22,type:"white.sql",language:"sql"},{offset:23,type:"keyword.sql",language:"sql"},{offset:25,type:"white.sql",language:"sql"},{offset:26,type:"identifier.sql",language:"sql"},{offset:33,type:"white.sql",language:"sql"},{offset:34,type:"keyword.sql",language:"sql"},{offset:38,type:"white.sql",language:"sql"}],[{offset:0,type:"keyword.sql",language:"sql"},{offset:5,type:"white.sql",language:"sql"},{offset:6,type:"number.sql",language:"sql"},{offset:8,type:"delimiter.sql",language:"sql"}]]},singleLineEmptyQuery:{query:"",tokens:[]},singleLineTwoQueries:{query:'SELECT column1, FROM table1 WHERE column1 = "value1" GROUP BY column1 ORDER BY column1 DESC LIMIT 10; SELECT column2, FROM table2 WHERE column2 = "value2" GROUP BY column1 ORDER BY column2 DESC LIMIT 10;',tokens:[[{offset:0,type:"keyword.sql",language:"sql"},{offset:6,type:"white.sql",language:"sql"},{offset:7,type:"identifier.sql",language:"sql"},{offset:14,type:"delimiter.sql",language:"sql"},{offset:15,type:"white.sql",language:"sql"},{offset:16,type:"keyword.sql",language:"sql"},{offset:20,type:"white.sql",language:"sql"},{offset:21,type:"identifier.sql",language:"sql"},{offset:27,type:"white.sql",language:"sql"},{offset:28,type:"keyword.sql",language:"sql"},{offset:33,type:"white.sql",language:"sql"},{offset:34,type:"identifier.sql",language:"sql"},{offset:41,type:"white.sql",language:"sql"},{offset:42,type:"operator.sql",language:"sql"},{offset:43,type:"white.sql",language:"sql"},{offset:44,type:"identifier.quote.sql",language:"sql"},{offset:45,type:"identifier.sql",language:"sql"},{offset:51,type:"identifier.quote.sql",language:"sql"},{offset:52,type:"white.sql",language:"sql"},{offset:53,type:"keyword.sql",language:"sql"},{offset:58,type:"white.sql",language:"sql"},{offset:59,type:"keyword.sql",language:"sql"},{offset:61,type:"white.sql",language:"sql"},{offset:62,type:"identifier.sql",language:"sql"},{offset:69,type:"white.sql",language:"sql"},{offset:70,type:"keyword.sql",language:"sql"},{offset:75,type:"white.sql",language:"sql"},{offset:76,type:"keyword.sql",language:"sql"},{offset:78,type:"white.sql",language:"sql"},{offset:79,type:"identifier.sql",language:"sql"},{offset:86,type:"white.sql",language:"sql"},{offset:87,type:"keyword.sql",language:"sql"},{offset:91,type:"white.sql",language:"sql"},{offset:92,type:"keyword.sql",language:"sql"},{offset:97,type:"white.sql",language:"sql"},{offset:98,type:"number.sql",language:"sql"},{offset:100,type:"delimiter.sql",language:"sql"},{offset:101,type:"white.sql",language:"sql"},{offset:102,type:"keyword.sql",language:"sql"},{offset:108,type:"white.sql",language:"sql"},{offset:109,type:"identifier.sql",language:"sql"},{offset:116,type:"delimiter.sql",language:"sql"},{offset:117,type:"white.sql",language:"sql"},{offset:118,type:"keyword.sql",language:"sql"},{offset:122,type:"white.sql",language:"sql"},{offset:123,type:"identifier.sql",language:"sql"},{offset:129,type:"white.sql",language:"sql"},{offset:130,type:"keyword.sql",language:"sql"},{offset:135,type:"white.sql",language:"sql"},{offset:136,type:"identifier.sql",language:"sql"},{offset:143,type:"white.sql",language:"sql"},{offset:144,type:"operator.sql",language:"sql"},{offset:145,type:"white.sql",language:"sql"},{offset:146,type:"identifier.quote.sql",language:"sql"},{offset:147,type:"identifier.sql",language:"sql"},{offset:153,type:"identifier.quote.sql",language:"sql"},{offset:154,type:"white.sql",language:"sql"},{offset:155,type:"keyword.sql",language:"sql"},{offset:160,type:"white.sql",language:"sql"},{offset:161,type:"keyword.sql",language:"sql"},{offset:163,type:"white.sql",language:"sql"},{offset:164,type:"identifier.sql",language:"sql"},{offset:171,type:"white.sql",language:"sql"},{offset:172,type:"keyword.sql",language:"sql"},{offset:177,type:"white.sql",language:"sql"},{offset:178,type:"keyword.sql",language:"sql"},{offset:180,type:"white.sql",language:"sql"},{offset:181,type:"identifier.sql",language:"sql"},{offset:188,type:"white.sql",language:"sql"},{offset:189,type:"keyword.sql",language:"sql"},{offset:193,type:"white.sql",language:"sql"},{offset:194,type:"keyword.sql",language:"sql"},{offset:199,type:"white.sql",language:"sql"},{offset:200,type:"number.sql",language:"sql"},{offset:202,type:"delimiter.sql",language:"sql"}]]},singleLineTwoQueriesWithAggregation:{query:'SELECT count(column1), FROM table1 WHERE column1 = "value1" GROUP BY column1 ORDER BY column1 DESC LIMIT 10; SELECT count(column2), FROM table2 WHERE column2 = "value2" GROUP BY column1 ORDER BY column2 DESC LIMIT 10;',tokens:[[{offset:0,type:"keyword.sql",language:"sql"},{offset:6,type:"white.sql",language:"sql"},{offset:7,type:"predefined.sql",language:"sql"},{offset:12,type:"delimiter.parenthesis.sql",language:"sql"},{offset:13,type:"identifier.sql",language:"sql"},{offset:20,type:"delimiter.parenthesis.sql",language:"sql"},{offset:21,type:"delimiter.sql",language:"sql"},{offset:22,type:"white.sql",language:"sql"},{offset:23,type:"keyword.sql",language:"sql"},{offset:27,type:"white.sql",language:"sql"},{offset:28,type:"identifier.sql",language:"sql"},{offset:34,type:"white.sql",language:"sql"},{offset:35,type:"keyword.sql",language:"sql"},{offset:40,type:"white.sql",language:"sql"},{offset:41,type:"identifier.sql",language:"sql"},{offset:48,type:"white.sql",language:"sql"},{offset:49,type:"operator.sql",language:"sql"},{offset:50,type:"white.sql",language:"sql"},{offset:51,type:"identifier.quote.sql",language:"sql"},{offset:52,type:"identifier.sql",language:"sql"},{offset:58,type:"identifier.quote.sql",language:"sql"},{offset:59,type:"white.sql",language:"sql"},{offset:60,type:"keyword.sql",language:"sql"},{offset:65,type:"white.sql",language:"sql"},{offset:66,type:"keyword.sql",language:"sql"},{offset:68,type:"white.sql",language:"sql"},{offset:69,type:"identifier.sql",language:"sql"},{offset:76,type:"white.sql",language:"sql"},{offset:77,type:"keyword.sql",language:"sql"},{offset:82,type:"white.sql",language:"sql"},{offset:83,type:"keyword.sql",language:"sql"},{offset:85,type:"white.sql",language:"sql"},{offset:86,type:"identifier.sql",language:"sql"},{offset:93,type:"white.sql",language:"sql"},{offset:94,type:"keyword.sql",language:"sql"},{offset:98,type:"white.sql",language:"sql"},{offset:99,type:"keyword.sql",language:"sql"},{offset:104,type:"white.sql",language:"sql"},{offset:105,type:"number.sql",language:"sql"},{offset:107,type:"delimiter.sql",language:"sql"},{offset:108,type:"white.sql",language:"sql"},{offset:109,type:"keyword.sql",language:"sql"},{offset:115,type:"white.sql",language:"sql"},{offset:116,type:"predefined.sql",language:"sql"},{offset:121,type:"delimiter.parenthesis.sql",language:"sql"},{offset:122,type:"identifier.sql",language:"sql"},{offset:129,type:"delimiter.parenthesis.sql",language:"sql"},{offset:130,type:"delimiter.sql",language:"sql"},{offset:131,type:"white.sql",language:"sql"},{offset:132,type:"keyword.sql",language:"sql"},{offset:136,type:"white.sql",language:"sql"},{offset:137,type:"identifier.sql",language:"sql"},{offset:143,type:"white.sql",language:"sql"},{offset:144,type:"keyword.sql",language:"sql"},{offset:149,type:"white.sql",language:"sql"},{offset:150,type:"identifier.sql",language:"sql"},{offset:157,type:"white.sql",language:"sql"},{offset:158,type:"operator.sql",language:"sql"},{offset:159,type:"white.sql",language:"sql"},{offset:160,type:"identifier.quote.sql",language:"sql"},{offset:161,type:"identifier.sql",language:"sql"},{offset:167,type:"identifier.quote.sql",language:"sql"},{offset:168,type:"white.sql",language:"sql"},{offset:169,type:"keyword.sql",language:"sql"},{offset:174,type:"white.sql",language:"sql"},{offset:175,type:"keyword.sql",language:"sql"},{offset:177,type:"white.sql",language:"sql"},{offset:178,type:"identifier.sql",language:"sql"},{offset:185,type:"white.sql",language:"sql"},{offset:186,type:"keyword.sql",language:"sql"},{offset:191,type:"white.sql",language:"sql"},{offset:192,type:"keyword.sql",language:"sql"},{offset:194,type:"white.sql",language:"sql"},{offset:195,type:"identifier.sql",language:"sql"},{offset:202,type:"white.sql",language:"sql"},{offset:203,type:"keyword.sql",language:"sql"},{offset:207,type:"white.sql",language:"sql"},{offset:208,type:"keyword.sql",language:"sql"},{offset:213,type:"white.sql",language:"sql"},{offset:214,type:"number.sql",language:"sql"},{offset:216,type:"delimiter.sql",language:"sql"}]]},singleLineMultipleColumns:{query:'SELECT count(column1), column2 FROM table1 WHERE column1 = "value1" GROUP BY column1 ORDER BY column1, avg(column2) DESC LIMIT 10;',tokens:[[{offset:0,type:"keyword.sql",language:"sql"},{offset:6,type:"white.sql",language:"sql"},{offset:7,type:"predefined.sql",language:"sql"},{offset:12,type:"delimiter.parenthesis.sql",language:"sql"},{offset:13,type:"identifier.sql",language:"sql"},{offset:20,type:"delimiter.parenthesis.sql",language:"sql"},{offset:21,type:"delimiter.sql",language:"sql"},{offset:22,type:"white.sql",language:"sql"},{offset:23,type:"identifier.sql",language:"sql"},{offset:30,type:"white.sql",language:"sql"},{offset:31,type:"keyword.sql",language:"sql"},{offset:35,type:"white.sql",language:"sql"},{offset:36,type:"identifier.sql",language:"sql"},{offset:42,type:"white.sql",language:"sql"},{offset:43,type:"keyword.sql",language:"sql"},{offset:48,type:"white.sql",language:"sql"},{offset:49,type:"identifier.sql",language:"sql"},{offset:56,type:"white.sql",language:"sql"},{offset:57,type:"operator.sql",language:"sql"},{offset:58,type:"white.sql",language:"sql"},{offset:59,type:"identifier.quote.sql",language:"sql"},{offset:60,type:"identifier.sql",language:"sql"},{offset:66,type:"identifier.quote.sql",language:"sql"},{offset:67,type:"white.sql",language:"sql"},{offset:68,type:"keyword.sql",language:"sql"},{offset:73,type:"white.sql",language:"sql"},{offset:74,type:"keyword.sql",language:"sql"},{offset:76,type:"white.sql",language:"sql"},{offset:77,type:"identifier.sql",language:"sql"},{offset:84,type:"white.sql",language:"sql"},{offset:85,type:"keyword.sql",language:"sql"},{offset:90,type:"white.sql",language:"sql"},{offset:91,type:"keyword.sql",language:"sql"},{offset:93,type:"white.sql",language:"sql"},{offset:94,type:"identifier.sql",language:"sql"},{offset:101,type:"delimiter.sql",language:"sql"},{offset:102,type:"white.sql",language:"sql"},{offset:103,type:"predefined.sql",language:"sql"},{offset:106,type:"delimiter.parenthesis.sql",language:"sql"},{offset:107,type:"identifier.sql",language:"sql"},{offset:114,type:"delimiter.parenthesis.sql",language:"sql"},{offset:115,type:"white.sql",language:"sql"},{offset:116,type:"keyword.sql",language:"sql"},{offset:120,type:"white.sql",language:"sql"},{offset:121,type:"keyword.sql",language:"sql"},{offset:126,type:"white.sql",language:"sql"},{offset:127,type:"number.sql",language:"sql"},{offset:129,type:"delimiter.sql",language:"sql"}]]},multiLineMultipleColumns:{query:'SELECT count(column1), column2 \n  FROM table1 \n  \n  WHERE column1 = "value1" \n  GROUP BY column1 ORDER BY column1, avg(column2) DESC \n  LIMIT 10;',tokens:[[{offset:0,type:"keyword.sql",language:"sql"},{offset:6,type:"white.sql",language:"sql"},{offset:7,type:"predefined.sql",language:"sql"},{offset:12,type:"delimiter.parenthesis.sql",language:"sql"},{offset:13,type:"identifier.sql",language:"sql"},{offset:20,type:"delimiter.parenthesis.sql",language:"sql"},{offset:21,type:"delimiter.sql",language:"sql"},{offset:22,type:"white.sql",language:"sql"},{offset:23,type:"identifier.sql",language:"sql"},{offset:30,type:"white.sql",language:"sql"}],[{offset:0,type:"keyword.sql",language:"sql"},{offset:4,type:"white.sql",language:"sql"},{offset:5,type:"identifier.sql",language:"sql"},{offset:11,type:"white.sql",language:"sql"}],[{offset:0,type:"white.sql",language:"sql"}],[{offset:0,type:"keyword.sql",language:"sql"},{offset:5,type:"white.sql",language:"sql"},{offset:6,type:"identifier.sql",language:"sql"},{offset:13,type:"white.sql",language:"sql"},{offset:14,type:"operator.sql",language:"sql"},{offset:15,type:"white.sql",language:"sql"},{offset:16,type:"identifier.quote.sql",language:"sql"},{offset:17,type:"identifier.sql",language:"sql"},{offset:23,type:"identifier.quote.sql",language:"sql"},{offset:24,type:"white.sql",language:"sql"}],[{offset:0,type:"keyword.sql",language:"sql"},{offset:5,type:"white.sql",language:"sql"},{offset:6,type:"keyword.sql",language:"sql"},{offset:8,type:"white.sql",language:"sql"},{offset:9,type:"identifier.sql",language:"sql"},{offset:16,type:"white.sql",language:"sql"},{offset:17,type:"keyword.sql",language:"sql"},{offset:22,type:"white.sql",language:"sql"},{offset:23,type:"keyword.sql",language:"sql"},{offset:25,type:"white.sql",language:"sql"},{offset:26,type:"identifier.sql",language:"sql"},{offset:33,type:"delimiter.sql",language:"sql"},{offset:34,type:"white.sql",language:"sql"},{offset:35,type:"predefined.sql",language:"sql"},{offset:38,type:"delimiter.parenthesis.sql",language:"sql"},{offset:39,type:"identifier.sql",language:"sql"},{offset:46,type:"delimiter.parenthesis.sql",language:"sql"},{offset:47,type:"white.sql",language:"sql"},{offset:48,type:"keyword.sql",language:"sql"},{offset:52,type:"white.sql",language:"sql"}],[{offset:0,type:"keyword.sql",language:"sql"},{offset:5,type:"white.sql",language:"sql"},{offset:6,type:"number.sql",language:"sql"},{offset:8,type:"delimiter.sql",language:"sql"}]]}});t.SQLEditor=function(e){var t=e.children,n=e.onBlur,r=e.onChange,s=e.query,l=e.language,o=void 0===l?{id:"sql"}:l,a=e.width,i=e.height,u=g.useRef(null),f=g.useRef(),p=g.useMemo((function(){var e=X(),t="".concat(o.id,"-").concat(e);return f.current=t,t}),[o.id]);g.useEffect((function(){return function(){le.delete(f.current),ee("Removing instance cache ".concat(f.current),!1,le)}}),[]);var y=g.useCallback((function(){u.current&&u.current.getAction("editor.action.formatDocument").run()}),[]);return d.createElement("div",{style:{width:a}},d.createElement(c.CodeEditor,{height:i||"240px",width:a?"".concat(a-2,"px"):void 0,language:p,value:s,onBlur:function(e){r&&r(e,!1),n&&n()},showMiniMap:!1,showLineNumbers:!0,onEditorDidMount:function(e,t){u.current=e,e.onDidChangeModelContent((function(t){var n=e.getValue();r&&r(n,!1)})),e.addCommand(t.KeyMod.CtrlCmd|t.KeyCode.Enter,(function(){var t=e.getValue();r&&r(t,!0)})),e.onKeyUp((function(t){84===t.keyCode&&e.trigger(x.id,x.id,{})})),oe(t,o,p)}}),t&&t({formatQuery:y}))},t.getStandardSQLCompletionProvider=ne,t.grafanaStandardSQLLanguage=U,t.grafanaStandardSQLLanguageConf=F},988:(e,t,n)=>{"use strict";e.exports=n(853)},644:e=>{"use strict";e.exports=l},305:t=>{"use strict";t.exports=e},545:e=>{"use strict";e.exports=r},388:e=>{"use strict";e.exports=n},980:e=>{"use strict";e.exports=s},650:e=>{"use strict";e.exports=t},177:e=>{"use strict";e.exports=o},589:(e,t,n)=>{"use strict";n.r(t),n.d(t,{__addDisposableResource:()=>D,__assign:()=>l,__asyncDelegator:()=>v,__asyncGenerator:()=>S,__asyncValues:()=>A,__await:()=>R,__awaiter:()=>d,__classPrivateFieldGet:()=>P,__classPrivateFieldIn:()=>L,__classPrivateFieldSet:()=>_,__createBinding:()=>E,__decorate:()=>a,__disposeResources:()=>k,__esDecorate:()=>u,__exportStar:()=>q,__extends:()=>s,__generator:()=>y,__importDefault:()=>N,__importStar:()=>C,__makeTemplateObject:()=>b,__metadata:()=>g,__param:()=>i,__propKey:()=>p,__read:()=>h,__rest:()=>o,__runInitializers:()=>f,__setFunctionName:()=>c,__spread:()=>T,__spreadArray:()=>w,__spreadArrays:()=>O,__values:()=>m,default:()=>F});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)};function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var l=function(){return l=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var s in t=arguments[n])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e},l.apply(this,arguments)};function o(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n}function a(e,t,n,r){var s,l=arguments.length,o=l<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(o=(l<3?s(o):l>3?s(t,n,o):s(t,n))||o);return l>3&&o&&Object.defineProperty(t,n,o),o}function i(e,t){return function(n,r){t(n,r,e)}}function u(e,t,n,r,s,l){function o(e){if(void 0!==e&&"function"!=typeof e)throw new TypeError("Function expected");return e}for(var a,i=r.kind,u="getter"===i?"get":"setter"===i?"set":"value",f=!t&&e?r.static?e:e.prototype:null,p=t||(f?Object.getOwnPropertyDescriptor(f,r.name):{}),c=!1,g=n.length-1;g>=0;g--){var d={};for(var y in r)d[y]="access"===y?{}:r[y];for(var y in r.access)d.access[y]=r.access[y];d.addInitializer=function(e){if(c)throw new TypeError("Cannot add initializers after decoration has completed");l.push(o(e||null))};var E=(0,n[g])("accessor"===i?{get:p.get,set:p.set}:p[u],d);if("accessor"===i){if(void 0===E)continue;if(null===E||"object"!=typeof E)throw new TypeError("Object expected");(a=o(E.get))&&(p.get=a),(a=o(E.set))&&(p.set=a),(a=o(E.init))&&s.unshift(a)}else(a=o(E))&&("field"===i?s.unshift(a):p[u]=a)}f&&Object.defineProperty(f,r.name,p),c=!0}function f(e,t,n){for(var r=arguments.length>2,s=0;s<t.length;s++)n=r?t[s].call(e,n):t[s].call(e);return r?n:void 0}function p(e){return"symbol"==typeof e?e:"".concat(e)}function c(e,t,n){return"symbol"==typeof t&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:n?"".concat(n," ",t):t})}function g(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function d(e,t,n,r){return new(n||(n=Promise))((function(s,l){function o(e){try{i(r.next(e))}catch(e){l(e)}}function a(e){try{i(r.throw(e))}catch(e){l(e)}}function i(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}i((r=r.apply(e,t||[])).next())}))}function y(e,t){var n,r,s,l,o={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return l={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function a(a){return function(i){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;l&&(l=0,a[0]&&(o=0)),o;)try{if(n=1,r&&(s=2&a[0]?r.return:a[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,a[1])).done)return s;switch(r=0,s&&(a=[2&a[0],s.value]),a[0]){case 0:case 1:s=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!((s=(s=o.trys).length>0&&s[s.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!s||a[1]>s[0]&&a[1]<s[3])){o.label=a[1];break}if(6===a[0]&&o.label<s[1]){o.label=s[1],s=a;break}if(s&&o.label<s[2]){o.label=s[2],o.ops.push(a);break}s[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=s=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,i])}}}var E=Object.create?function(e,t,n,r){void 0===r&&(r=n);var s=Object.getOwnPropertyDescriptor(t,n);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,s)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]};function q(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||E(t,e,n)}function m(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function h(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,s,l=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=l.next()).done;)o.push(r.value)}catch(e){s={error:e}}finally{try{r&&!r.done&&(n=l.return)&&n.call(l)}finally{if(s)throw s.error}}return o}function T(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(h(arguments[t]));return e}function O(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),s=0;for(t=0;t<n;t++)for(var l=arguments[t],o=0,a=l.length;o<a;o++,s++)r[s]=l[o];return r}function w(e,t,n){if(n||2===arguments.length)for(var r,s=0,l=t.length;s<l;s++)!r&&s in t||(r||(r=Array.prototype.slice.call(t,0,s)),r[s]=t[s]);return e.concat(r||Array.prototype.slice.call(t))}function R(e){return this instanceof R?(this.v=e,this):new R(e)}function S(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,s=n.apply(e,t||[]),l=[];return r={},o("next"),o("throw"),o("return"),r[Symbol.asyncIterator]=function(){return this},r;function o(e){s[e]&&(r[e]=function(t){return new Promise((function(n,r){l.push([e,t,n,r])>1||a(e,t)}))})}function a(e,t){try{(n=s[e](t)).value instanceof R?Promise.resolve(n.value.v).then(i,u):f(l[0][2],n)}catch(e){f(l[0][3],e)}var n}function i(e){a("next",e)}function u(e){a("throw",e)}function f(e,t){e(t),l.shift(),l.length&&a(l[0][0],l[0][1])}}function v(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,s){t[r]=e[r]?function(t){return(n=!n)?{value:R(e[r](t)),done:!1}:s?s(t):t}:s}}function A(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=m(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,s){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,s,(t=e[n](t)).done,t.value)}))}}}function b(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var I=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t};function C(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&E(t,e,n);return I(t,e),t}function N(e){return e&&e.__esModule?e:{default:e}}function P(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)}function _(e,t,n,r,s){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?s.call(e,n):s?s.value=n:t.set(e,n),n}function L(e,t){if(null===t||"object"!=typeof t&&"function"!=typeof t)throw new TypeError("Cannot use 'in' operator on non-object");return"function"==typeof e?t===e:e.has(t)}function D(e,t,n){if(null!=t){if("object"!=typeof t&&"function"!=typeof t)throw new TypeError("Object expected.");var r;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=t[Symbol.asyncDispose]}if(void 0===r){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=t[Symbol.dispose]}if("function"!=typeof r)throw new TypeError("Object not disposable.");e.stack.push({value:t,dispose:r,async:n})}else n&&e.stack.push({async:!0});return t}var M="function"==typeof SuppressedError?SuppressedError:function(e,t,n){var r=new Error(n);return r.name="SuppressedError",r.error=e,r.suppressed=t,r};function k(e){function t(t){e.error=e.hasError?new M(t,e.error,"An error was suppressed during disposal."):t,e.hasError=!0}return function n(){for(;e.stack.length;){var r=e.stack.pop();try{var s=r.dispose&&r.dispose.call(r.value);if(r.async)return Promise.resolve(s).then(n,(function(e){return t(e),n()}))}catch(e){t(e)}}if(e.hasError)throw e.error}()}const F={__extends:s,__assign:l,__rest:o,__decorate:a,__param:i,__metadata:g,__awaiter:d,__generator:y,__createBinding:E,__exportStar:q,__values:m,__read:h,__spread:T,__spreadArrays:O,__spreadArray:w,__await:R,__asyncGenerator:S,__asyncDelegator:v,__asyncValues:A,__makeTemplateObject:b,__importStar:C,__importDefault:N,__classPrivateFieldGet:P,__classPrivateFieldSet:_,__classPrivateFieldIn:L,__addDisposableResource:D,__disposeResources:k}}},i={};function u(e){var t=i[e];if(void 0!==t)return t.exports;var n=i[e]={exports:{}};return a[e](n,n.exports,u),n.exports}u.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return u.d(t,{a:t}),t},u.d=(e,t)=>{for(var n in t)u.o(t,n)&&!u.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},u.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),u.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var f={};return(()=>{"use strict";u.r(f),u.d(f,{plugin:()=>Ze});var e=u(305),t=u(650),n=u.n(t),r=u(388),s=u(545);const l=["af-south-1","ap-east-1","ap-northeast-1","ap-northeast-2","ap-northeast-3","ap-south-1","ap-southeast-1","ap-southeast-2","ca-central-1","cn-north-1","cn-northwest-1","eu-central-1","eu-north-1","eu-west-1","eu-west-2","eu-west-3","me-south-1","sa-east-1","us-east-1","us-east-2","us-gov-east-1","us-gov-west-1","us-iso-east-1","us-isob-east-1","us-west-1","us-west-2"];var o=(e=>(e.Keys="keys",e.Credentials="credentials",e.Default="default",e.EC2IAMRole="ec2_iam_role",e.ARN="arn",e.GrafanaAssumeRole="grafana_assume_role",e))(o||{});const a=[{label:"Workspace IAM Role",value:o.EC2IAMRole},{label:"Grafana Assume Role",value:o.GrafanaAssumeRole},{label:"AWS SDK Default",value:o.Default},{label:"Access & secret key",value:o.Keys},{label:"Credentials file",value:o.Credentials}];var i=Object.defineProperty,p=Object.defineProperties,c=Object.getOwnPropertyDescriptors,g=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable,E=(e,t,n)=>t in e?i(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,q=(e,t)=>{for(var n in t||(t={}))d.call(t,n)&&E(e,n,t[n]);if(g)for(var n of g(t))y.call(t,n)&&E(e,n,t[n]);return e},m=(e,t)=>p(e,c(t));const h=28,T=["cloudwatch"],O=e=>({value:e,label:e}),w=e=>"string"==typeof e&&a.some((t=>t.value===e)),R=i=>{var u,f,p,c,g,d,y,E;const[R,S]=(0,t.useState)(!1),[v,A]=(0,t.useState)((i.standardRegions||l).map(O)),{loadRegions:b,onOptionsChange:I,skipHeader:C=!1,skipEndpoint:N=!1}=i,{labelWidth:P=h,options:_,inExperimentalAuthComponent:L}=i;let D=_.jsonData.profile;void 0===D&&(D=_.database);const M=s.config.featureToggles.awsDatasourcesTempCredentials&&T.includes(_.type),k=null==(u=s.config.awsAssumeRoleEnabled)||u,F=(0,t.useMemo)((()=>s.config.awsAllowedAuthProviders.filter((e=>e!==o.GrafanaAssumeRole||M)).filter(w)),[M]),U=a.find((e=>e.value===_.jsonData.authType));(0,t.useEffect)((()=>{!U&&F.length&&I(m(q({},_),{jsonData:m(q({},_.jsonData),{authType:F[0]})}))}),[U,_,I,F]),(0,t.useEffect)((()=>{b&&b().then((e=>A(e.map(O))))}),[b]);const B=L?"width-20":"width-30";return n().createElement(r.FieldSet,{label:C?"":"Connection Details","data-testid":"connection-config"},n().createElement(r.InlineField,{label:"Authentication Provider",labelWidth:P,tooltip:"Specify which AWS credentials chain to use."},n().createElement(r.Select,{"aria-label":"Authentication Provider",className:B,value:U,options:a.filter((e=>F.includes(e.value))),defaultValue:_.jsonData.authType,onChange:t=>{(0,e.onUpdateDatasourceJsonDataOptionSelect)(i,"authType")(t)},menuShouldPortal:!0})),"credentials"===_.jsonData.authType&&n().createElement(r.InlineField,{label:"Credentials Profile Name",labelWidth:P,tooltip:"Credentials profile name, as specified in ~/.aws/credentials, leave blank for default."},n().createElement(r.Input,{"aria-label":"Credentials Profile Name",className:B,placeholder:"default",value:D,onChange:(0,e.onUpdateDatasourceJsonDataOption)(i,"profile")})),"keys"===_.jsonData.authType&&n().createElement(n().Fragment,null,n().createElement(r.InlineField,{label:"Access Key ID",labelWidth:P},(null==(f=i.options.secureJsonFields)?void 0:f.accessKey)?n().createElement(r.ButtonGroup,{className:B},n().createElement(r.Input,{disabled:!0,placeholder:"Configured"}),n().createElement(r.ToolbarButton,{icon:"edit",tooltip:"Edit Access Key ID",type:"button",onClick:(0,e.onUpdateDatasourceResetOption)(i,"accessKey")})):n().createElement(r.Input,{"aria-label":"Access Key ID",className:B,value:null!=(c=null==(p=_.secureJsonData)?void 0:p.accessKey)?c:"",onChange:(0,e.onUpdateDatasourceSecureJsonDataOption)(i,"accessKey")})),n().createElement(r.InlineField,{label:"Secret Access Key",labelWidth:P},(null==(g=i.options.secureJsonFields)?void 0:g.secretKey)?n().createElement(r.ButtonGroup,{className:B},n().createElement(r.Input,{disabled:!0,placeholder:"Configured"}),n().createElement(r.ToolbarButton,{icon:"edit",type:"button",tooltip:"Edit Secret Access Key",onClick:(0,e.onUpdateDatasourceResetOption)(i,"secretKey")})):n().createElement(r.Input,{"aria-label":"Secret Access Key",className:B,value:null!=(y=null==(d=_.secureJsonData)?void 0:d.secretKey)?y:"",onChange:(0,e.onUpdateDatasourceSecureJsonDataOption)(i,"secretKey")}))),_.jsonData.authType===o.GrafanaAssumeRole&&n().createElement(r.Collapse,{label:"How to create an IAM role for grafana to assume:",collapsible:!0,isOpen:R,onToggle:()=>S(!R)},n().createElement("ol",null,n().createElement("li",null,n().createElement("p",null,"1. Create a new IAM role in the AWS console, and select ",n().createElement("code",null,"Another AWS account")," as the"," ",n().createElement("code",null,"Trusted entity"),".")),n().createElement("li",null,n().createElement("p",null,"2. Enter the account ID of the Grafana account that has permission to assume this role:",n().createElement("code",null," 008923505280 ")," and check the ",n().createElement("code",null,"Require external ID")," box.")),n().createElement("li",null,n().createElement("p",null,"3. Enter the following external ID:"," ",n().createElement("code",null,i.externalId||"External Id is currently unavailable")," and click ",n().createElement("code",null,"Next"),".")),n().createElement("li",null,n().createElement("p",null,"4. Add any required permissions you would like Grafana to be able to access on your behalf. For more details on our permissions please"," ",n().createElement("a",{href:"https://grafana.com/docs/grafana/latest/datasources/aws-cloudwatch/",target:"_blank",rel:"noreferrer"},"read through our documentation"),".")),n().createElement("li",null,n().createElement("p",null,"5. Give the role a name and description, and click ",n().createElement("code",null,"Create role"),".")),n().createElement("li",null,n().createElement("p",null,"6. Copy the ARN of the role you just created and paste it into the ",n().createElement("code",null,"Assume Role ARN")," field below.")))),k&&n().createElement(n().Fragment,null,n().createElement(r.InlineField,{label:"Assume Role ARN",labelWidth:P,tooltip:"Optionally, specify the ARN of a role to assume. Specifying a role here will ensure that the selected authentication provider is used to assume the specified role rather than using the credentials directly. Leave blank if you don't need to assume a role at all"},n().createElement(r.Input,{"aria-label":"Assume Role ARN",className:B,placeholder:"arn:aws:iam:*",value:_.jsonData.assumeRoleArn||"",onChange:(0,e.onUpdateDatasourceJsonDataOption)(i,"assumeRoleArn")})),_.jsonData.authType!==o.GrafanaAssumeRole&&n().createElement(r.InlineField,{label:"External ID",labelWidth:P,tooltip:"If you are assuming a role in another account, that has been created with an external ID, specify the external ID here."},n().createElement(r.Input,{"aria-label":"External ID",className:B,placeholder:"External ID",value:_.jsonData.externalId||"",onChange:(0,e.onUpdateDatasourceJsonDataOption)(i,"externalId")}))),!N&&_.jsonData.authType!==o.GrafanaAssumeRole&&n().createElement(r.InlineField,{label:"Endpoint",labelWidth:P,tooltip:"Optionally, specify a custom endpoint for the service"},n().createElement(r.Input,{"aria-label":"Endpoint",className:B,placeholder:null!=(E=i.defaultEndpoint)?E:"https://{service}.{region}.amazonaws.com",value:_.jsonData.endpoint||"",onChange:(0,e.onUpdateDatasourceJsonDataOption)(i,"endpoint")})),n().createElement(r.InlineField,{label:"Default Region",labelWidth:P,tooltip:"Specify the region, such as for US West (Oregon) use ` us-west-2 ` as the region."},n().createElement(r.Select,{"aria-label":"Default Region",className:B,value:v.find((e=>e.value===_.jsonData.defaultRegion)),options:v,defaultValue:_.jsonData.defaultRegion,allowCustomValue:!0,onChange:(0,e.onUpdateDatasourceJsonDataOptionSelect)(i,"defaultRegion"),formatCreateLabel:e=>`Use region: ${e}`,menuShouldPortal:!0})),i.children)};Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;var S=u(980);const v="__default";var A=Object.defineProperty,b=Object.defineProperties,I=Object.getOwnPropertyDescriptors,C=Object.getOwnPropertySymbols,N=Object.prototype.hasOwnProperty,P=Object.prototype.propertyIsEnumerable,_=(e,t,n)=>t in e?A(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function L(e){const s=e.dependencies,l=e.onChange,o=(0,t.useRef)(e.dependencies),a=(0,t.useRef)(!1),i=(0,t.useRef)(e.value||e.default||null),[u,f]=(0,t.useState)(i.current?[i.current]:[]),[p,c]=(0,t.useState)(!1),g=(0,t.useMemo)((()=>{const t=[{label:`default (${e.default})`,value:v,description:"Default value set in the data source"}];return e.value&&e.value!==v&&t.push({label:e.value,value:e.value}),t}),[e.default,e.value]),[d,y]=(0,t.useState)(e.default?g:[]);(0,t.useEffect)((()=>{void 0!==e.resources&&f(e.resources)}),[e.resources]),(0,t.useEffect)((()=>{const t=e.default?g:[];u.length?(u.forEach((e=>{const n="string"==typeof e?e:e.value;t.find((e=>e.value===n))||("string"==typeof e?t.push({label:e,value:e}):t.push(e))})),y(t)):y([])}),[u,g,e.default]),(0,t.useEffect)((()=>{(0,S.isEqual)(s,o.current)||(a.current=!1,i.current=null,o.current=s,l(null))}),[s,l]);return n().createElement(r.InlineField,{label:e.label,labelWidth:e.labelWidth,tooltip:e.tooltip,hidden:e.hidden},n().createElement("div",{"data-testid":e["data-testid"],title:e.title},n().createElement(r.Select,(E=((e,t)=>{for(var n in t||(t={}))N.call(t,n)&&_(e,n,t[n]);if(C)for(var n of C(t))P.call(t,n)&&_(e,n,t[n]);return e})({},e),q={"aria-label":e.label,options:d,onChange:e=>{l(e),e.value&&(i.current=e.value)},isLoading:p,className:e.className||"min-width-6",onOpenMenu:()=>e.fetch&&(async()=>{c(!0);try{await(async()=>{var t;if(!a.current){e.saveOptions&&await e.saveOptions();try{const n=await(null==(t=e.fetch)?void 0:t.call(e))||[];f(n)}finally{a.current=!0}}})()}finally{c(!1)}})(),menuShouldPortal:!0},b(E,I(q))))));var E,q}var D=Object.defineProperty,M=Object.getOwnPropertySymbols,k=Object.prototype.hasOwnProperty,F=Object.prototype.propertyIsEnumerable,U=(e,t,n)=>t in e?D(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function B(e){var t,r,s;const{jsonData:l}=e.options,o={title:l.defaultRegion?"":"select a default region",labelWidth:null!=(t=e.labelWidth)?t:h,className:"width-30"},a=[e.options.jsonData.assumeRoleArn,e.options.jsonData.authType,e.options.jsonData.defaultRegion,e.options.jsonData.endpoint,e.options.jsonData.externalId,e.options.jsonData.profile,null==(r=e.options.secureJsonData)?void 0:r.accessKey,null==(s=e.options.secureJsonData)?void 0:s.secretKey].concat(e.dependencies);return n().createElement(L,((e,t)=>{for(var n in t||(t={}))k.call(t,n)&&U(e,n,t[n]);if(M)for(var n of M(t))F.call(t,n)&&U(e,n,t[n]);return e})({label:e.label,"data-testid":e["data-testid"],onChange:e.onChange,fetch:e.fetch,value:e.value,saveOptions:e.saveOptions,dependencies:a,hidden:e.hidden,disabled:e.disabled||!l.defaultRegion,allowCustomValue:e.allowCustomValue,autoFocus:e.autoFocus,backspaceRemovesValue:e.backspaceRemovesValue,invalid:e.invalid,isClearable:e.isClearable,isMulti:e.isMulti,inputId:e.inputId,showAllSelectedWhenOpen:e.showAllSelectedWhenOpen,maxMenuHeight:e.maxMenuHeight,minMenuHeight:e.minMenuHeight,maxVisibleValues:e.maxVisibleValues,menuPlacement:e.menuPlacement,menuPosition:e.menuPosition,noOptionsMessage:e.noOptionsMessage,onBlur:e.onBlur,onCreateOption:e.onCreateOption,onInputChange:e.onInputChange,placeholder:e.placeholder,width:e.width,isOptionDisabled:e.isOptionDisabled},o))}Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable,u(573),u(358),Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable,Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable,Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;const G=[{label:"Show databases",value:"SHOW DATABASES",description:"List databases available in your instance"},{label:"Show tables",value:"SHOW TABLES FROM $__database",description:"List tables in the selected database"},{label:"Describe table",value:"DESCRIBE $__database.$__table",description:"Describe the selected table"},{label:"Show measurements",value:"SHOW MEASURES FROM $__database.$__table",description:"List measurements in the selected table"},{label:"First 10 rows",value:"SELECT * FROM $__database.$__table LIMIT 10",description:"Select the first 10 rows of the selected table"}],K={AuthenticationProvider:{input:"Authentication Provider"},SecretKey:{input:"Secret Access Key"},AccessKey:{input:"Access Key ID"},DefaultRegion:{input:"Default Region"},defaultDatabase:{input:"Database",wrapper:"data-testid onloaddatabase"},defaultTable:{input:"Table",wrapper:"data-testid onloadtable"},defaultMeasure:{input:"Measure",wrapper:"data-testid onloadmeasure"}};var x=u(988);const Y="$__table",W="$__database",j=[{id:"$__timeFilter",name:"$__timeFilter",text:"$__timeFilter",args:[],type:x.MacroType.Filter,description:"Will be replaced by an expression that limits the time to the dashboard range."},{id:"$__timeFrom",name:"$__timeFrom",text:"$__timeFrom",args:[],type:x.MacroType.Filter,description:"Will be replaced by the number in milliseconds at the start of the dashboard range"},{id:"$__timeTo",name:"$__timeTo",text:"$__timeTo",args:[],type:x.MacroType.Filter,description:"Will be replaced by the number in milliseconds at the end of the dashboard range."},{id:"$__interval_ms",name:"$__interval_ms",text:"$__interval_ms",args:[],type:x.MacroType.Filter,description:"Will be replaced by a number in time format that represents the amount of time a single pixel in the graph should cover."},{id:"$__interval_raw_ms",name:"$__interval_raw_ms",text:"$__interval_raw_ms",args:[],type:x.MacroType.Filter,description:"Will be replaced by the number in milliseconds that represents the amount of time a single pixel in the graph should cover."},{id:W,name:W,text:W,args:[],type:x.MacroType.Table,description:"Will be replaced by the query database."},{id:Y,name:Y,text:Y,args:[],type:x.MacroType.Table,description:"Will be replaced by the query table."},{id:"$__measure",name:"$__measure",text:"$__measure",args:[],type:x.MacroType.Column,description:"Will be replaced by the query measure."}];function V(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const H=({getDatabases:e,getTables:t,getColumns:n})=>(r,s)=>{return l=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){V(e,t,n[t])}))}return e}({},s&&(0,x.getStandardSQLCompletionProvider)(r,s)),o=null!=(o={triggerCharacters:["."," ","$",",","(","'"],schemas:{resolve:e},tables:{resolve:e=>t(null==e?void 0:e.schema),parseName:e=>{var t;const n=(null!==(t=null==e?void 0:e.value)&&void 0!==t?t:"").split(".");return{schema:n.length>=1&&n[0]?n[0]:void 0,table:n.length>=2&&n[1]?n[1]:void 0}}},columns:{resolve:e=>n(e.schema,e.table)},supportedMacros:()=>j})?o:{},Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(o)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(o)).forEach((function(e){Object.defineProperty(l,e,Object.getOwnPropertyDescriptor(o,e))})),l;var l,o};function Q(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function X(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Q(e,t,n[t])}))}return e}function $(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}const z=$(X({},x.grafanaStandardSQLLanguage),{tokenizer:$(X({},x.grafanaStandardSQLLanguage.tokenizer),{schemaTable:[...x.grafanaStandardSQLLanguage.tokenizer.schemaTable,[/(\"\w+\"\.\"\w+\")/,"identifier"],[/(\"\w+\"\.\"\w+)/,"identifier"],[/(\"\w+\"\.\w+)\"/,"identifier"],[/(\"\w+\"\.)/,"identifier"]],complexIdentifiers:[]})}),J=x.grafanaStandardSQLLanguageConf,Z={id:"timestream",loader:()=>Promise.resolve({conf:J,language:z})};function ee(e,t,n,r,s,l,o){try{var a=e[l](o),i=a.value}catch(e){return void n(e)}a.done?t(i):Promise.resolve(i).then(r,s)}function te(e){return function(){var t=this,n=arguments;return new Promise((function(r,s){var l=e.apply(t,n);function o(e){ee(l,r,s,o,a,"next",e)}function a(e){ee(l,r,s,o,a,"throw",e)}o(void 0)}))}}function ne(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function re(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){ne(e,t,n[t])}))}return e}function se(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function le({query:e,datasource:r,onRunQuery:s,onChange:l}){const o=(0,t.useRef)(e);(0,t.useEffect)((()=>{o.current=e}),[e]);const a=(0,t.useCallback)(te((function*(){return(yield r.postResource("databases").catch((()=>[]))).map((e=>({name:e,completion:e})))})),[r]),i=(0,t.useCallback)((u=te((function*(e){var t;return(yield r.postResource("tables",{database:null!==(t=null!=e?e:o.current.database)&&void 0!==t?t:""}).catch((()=>[]))).map((e=>({name:e,completion:e})))})),function(e){return u.apply(this,arguments)}),[r]);var u;const f=(0,t.useCallback)(function(){var e=te((function*(e,t){var n,s;const l={database:e?e.replace(W,null!==(n=o.current.database)&&void 0!==n?n:""):o.current.database,table:t?t.replace(Y,null!==(s=o.current.table)&&void 0!==s?s:""):o.current.table},[a,i]=yield Promise.all([r.postResource("measures",l).catch((()=>[])),r.postResource("dimensions",l).catch((()=>[]))]);return[...a,...i].map((e=>({name:e,completion:e})))}));return function(t,n){return e.apply(this,arguments)}}(),[r]),p=(0,t.useMemo)((()=>H({getDatabases:a,getTables:i,getColumns:f})),[a,i,f]);var c;return n().createElement(x.SQLEditor,{query:null!==(c=e.rawQuery)&&void 0!==c?c:"",onBlur:()=>s(),onChange:e=>{l(se(re({},o.current),{rawQuery:e}))},language:se(re({},Z),{completionProvider:p})})}function oe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ae(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){oe(e,t,n[t])}))}return e}function ie(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}const ue=["us-east-1","us-east-2","us-west-2","eu-west-1","eu-central-1","ap-southeast-2","ap-northeast-1","us-gov-west-1"];function fe(e,t,n,r,s,l,o){try{var a=e[l](o),i=a.value}catch(e){return void n(e)}a.done?t(i):Promise.resolve(i).then(r,s)}function pe(e){return function(){var t=this,n=arguments;return new Promise((function(r,s){var l=e.apply(t,n);function o(e){fe(l,r,s,o,a,"next",e)}function a(e){fe(l,r,s,o,a,"throw",e)}o(void 0)}))}}function ce(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ge(){return ge=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ge.apply(this,arguments)}function de(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){ce(e,t,n[t])}))}return e}function ye(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function Ee(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Ee(e,t,n[t])}))}return e}function me(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function he(t){let n=t.refId+"/"+t.fields.length;for(const r of t.fields)n+="|"+r.name+":"+r.type,r.labels&&(n+=(0,e.formatLabels)(r.labels));return n}var Te=u(177);function Oe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function we(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Oe(e,t,n[t])}))}return e}function Re(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function Se(e){return"function"==typeof e}var ve=function(e,t){return ve=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},ve(e,t)};function Ae(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}ve(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function be(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ie(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,s,l=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=l.next()).done;)o.push(r.value)}catch(e){s={error:e}}finally{try{r&&!r.done&&(n=l.return)&&n.call(l)}finally{if(s)throw s.error}}return o}function Ce(e,t,n){if(n||2===arguments.length)for(var r,s=0,l=t.length;s<l;s++)!r&&s in t||(r||(r=Array.prototype.slice.call(t,0,s)),r[s]=t[s]);return e.concat(r||Array.prototype.slice.call(t))}Object.create,Object.create;var Ne,Pe=((Ne=function(e){return function(t){e(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map((function(e,t){return t+1+") "+e.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t}}((function(e){Error.call(e),e.stack=(new Error).stack}))).prototype=Object.create(Error.prototype),Ne.prototype.constructor=Ne,Ne);function _e(e,t){if(e){var n=e.indexOf(t);0<=n&&e.splice(n,1)}}var Le=function(){function e(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}var t;return e.prototype.unsubscribe=function(){var e,t,n,r,s;if(!this.closed){this.closed=!0;var l=this._parentage;if(l)if(this._parentage=null,Array.isArray(l))try{for(var o=be(l),a=o.next();!a.done;a=o.next())a.value.remove(this)}catch(t){e={error:t}}finally{try{a&&!a.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}else l.remove(this);var i=this.initialTeardown;if(Se(i))try{i()}catch(e){s=e instanceof Pe?e.errors:[e]}var u=this._finalizers;if(u){this._finalizers=null;try{for(var f=be(u),p=f.next();!p.done;p=f.next()){var c=p.value;try{De(c)}catch(e){s=null!=s?s:[],e instanceof Pe?s=Ce(Ce([],Ie(s)),Ie(e.errors)):s.push(e)}}}catch(e){n={error:e}}finally{try{p&&!p.done&&(r=f.return)&&r.call(f)}finally{if(n)throw n.error}}}if(s)throw new Pe(s)}},e.prototype.add=function(t){var n;if(t&&t!==this)if(this.closed)De(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(t)}},e.prototype._hasParent=function(e){var t=this._parentage;return t===e||Array.isArray(t)&&t.includes(e)},e.prototype._addParent=function(e){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e},e.prototype._removeParent=function(e){var t=this._parentage;t===e?this._parentage=null:Array.isArray(t)&&_e(t,e)},e.prototype.remove=function(t){var n=this._finalizers;n&&_e(n,t),t instanceof e&&t._removeParent(this)},e.EMPTY=((t=new e).closed=!0,t),e}();function De(e){Se(e)?e():e.unsubscribe()}Le.EMPTY;var Me={setTimeout:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var s=Me.delegate;return(null==s?void 0:s.setTimeout)?s.setTimeout.apply(s,Ce([e,t],Ie(n))):setTimeout.apply(void 0,Ce([e,t],Ie(n)))},clearTimeout:function(e){var t=Me.delegate;return((null==t?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0};function ke(){}var Fe=Ue("C",void 0,void 0);function Ue(e,t,n){return{kind:e,value:t,error:n}}var Be=function(e){function t(t){var n,r=e.call(this)||this;return r.isStopped=!1,t?(r.destination=t,((n=t)instanceof Le||n&&"closed"in n&&Se(n.remove)&&Se(n.add)&&Se(n.unsubscribe))&&t.add(r)):r.destination=We,r}return Ae(t,e),t.create=function(e,t,n){return new Ke(e,t,n)},t.prototype.next=function(e){this.isStopped?Ye(function(e){return Ue("N",e,void 0)}(e),this):this._next(e)},t.prototype.error=function(e){this.isStopped?Ye(Ue("E",void 0,e),this):(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped?Ye(Fe,this):(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){try{this.destination.error(e)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(Le);Function.prototype.bind;var Ge=function(){function e(e){this.partialObserver=e}return e.prototype.next=function(e){var t=this.partialObserver;if(t.next)try{t.next(e)}catch(e){xe(e)}},e.prototype.error=function(e){var t=this.partialObserver;if(t.error)try{t.error(e)}catch(e){xe(e)}else xe(e)},e.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(e){xe(e)}},e}(),Ke=function(e){function t(t,n,r){var s,l=e.call(this)||this;return s=Se(t)||!t?{next:null!=t?t:void 0,error:null!=n?n:void 0,complete:null!=r?r:void 0}:t,l.destination=new Ge(s),l}return Ae(t,e),t}(Be);function xe(e){!function(e){Me.setTimeout((function(){throw e}))}(e)}function Ye(e,t){var n=null;n&&Me.setTimeout((function(){return n(e,t)}))}var We={closed:!0,next:ke,error:function(e){throw e},complete:ke},je=function(e){function t(t,n,r,s,l,o){var a=e.call(this,t)||this;return a.onFinalize=l,a.shouldUnsubscribe=o,a._next=n?function(e){try{n(e)}catch(e){t.error(e)}}:e.prototype._next,a._error=s?function(e){try{s(e)}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._error,a._complete=r?function(){try{r()}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._complete,a}return Ae(t,e),t.prototype.unsubscribe=function(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var n=this.closed;e.prototype.unsubscribe.call(this),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}},t}(Be);function Ve(e,t){return n=function(n,r){var s=0;n.subscribe(new je(r,(function(n){r.next(e.call(t,n,s++))}),void 0,void 0,void 0))},function(e){if(function(e){return Se(null==e?void 0:e.lift)}(e))return e.lift((function(e){try{return n(e,this)}catch(e){this.error(e)}}));throw new TypeError("Unable to lift unknown Observable type")};var n}function He(e,t,n,r,s,l,o){try{var a=e[l](o),i=a.value}catch(e){return void n(e)}a.done?t(i):Promise.resolve(i).then(r,s)}function Qe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Qe(e,t,n[t])}))}return e}function $e(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}let ze=100;class Je extends s.DataSourceWithBackend{metricFindQuery(e,t){var n,r=this;return(n=function*(){if(!e)return Promise.resolve([]);const n=(0,s.getTemplateSrv)().replace(e);return r.getStrings(n,t.range).toPromise().then((e=>(e||[]).map((e=>({text:e})))))},function(){var e=this,t=arguments;return new Promise((function(r,s){var l=n.apply(e,t);function o(e){He(l,r,s,o,a,"next",e)}function a(e){He(l,r,s,o,a,"throw",e)}o(void 0)}))})()}filterQuery(e){return!!e.rawQuery}getQueryDisplayText(e){var t;return null!==(t=e.rawQuery)&&void 0!==t?t:""}quoteLiteral(e){return"'"+e.replace(/'/g,"''")+"'"}applyTemplateVariables(e,t){if(!e.rawQuery)return e;const n=Xe({},t);delete n.__interval_ms,delete n.__interval;const r=(0,s.getTemplateSrv)();return $e(Xe({},e),{database:r.replace(e.database||"",t),table:r.replace(e.table||"",t),measure:r.replace(e.measure||"",t),rawQuery:r.replace(e.rawQuery,n,this.interpolateVariable)})}query(e){const t=e.targets;if(!t.length)return(0,Te.of)({data:[]});if(t.some((e=>e.waitForResult)))return super.query(e);const n=[];for(let r of t)r.hide||n.push(this.doSingle(r,e));return 1===n.length?n[0]:(0,Te.merge)(...n)}doSingle(t,n){let r,s,l=[];return o=$e(Xe({},n),{targets:[t],requestId:"aws_ts_"+ze++}),a={getNextQuery:e=>{var t;if(null===(t=e.data)||void 0===t?void 0:t.length){var n;const t=e.data[0],l=null===(n=t.meta)||void 0===n?void 0:n.custom;var r;if(l&&l.nextToken)return s=l.queryId,{refId:t.refId,rawQuery:null===(r=t.meta)||void 0===r?void 0:r.executedQueryString,nextToken:l.nextToken}}},query:e=>super.query(e),process:(t,n,s)=>{var o,a,i;const u=null===(o=n[0])||void 0===o||null===(a=o.meta)||void 0===a?void 0:a.custom;if(!u)return l.length?l:n;const f=(0,e.getValueFormat)("decbytes");if(u.fetchStartTime=t.fetchStartTime,u.fetchEndTime=t.fetchEndTime,u.fetchTime=t.fetchEndTime-t.fetchStartTime,u.hasSeries||!l.length)for(const e of n)e.fields.length>0&&l.push(e);else n.length>1&&console.log("non timeseries should have a single frame",n),n[0].length>0&&(l=function(t,n){const r=new Map,s=[];for(const n of t){if(!n.length)continue;const t=he(n);if(n instanceof e.MutableDataFrame)r.set(t,n),s.push(n);else{const l=new e.MutableDataFrame;l.meta=n.meta,l.name=n.name,l.refId=n.refId;for(const t of n.fields){const r=[];for(let e=0;e<n.length;e++)r.push(t.values.get(e));l.addField(me(qe({},t),{values:new e.ArrayVector(r)}))}r.set(t,l),s.push(l)}}for(const e of n){if(!e.length)continue;const t=he(e),n=r.get(t);if(n)for(let t=0;t<e.length;t++)for(let r=0;r<n.fields.length;r++)n.fields[r].values.add(e.fields[r].values.get(t));else s.push(e)}return s}(l,n));if(!(null===(i=l[0])||void 0===i?void 0:i.meta))return n;if(r){var p;if(!(null===(p=r.subs)||void 0===p?void 0:p.length)){var c;const{subs:e,nextToken:t,queryId:n}=r,s=function(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n,r,s={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(s[n]=e[n]);return s}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}(r,["subs","nextToken","queryId"]);s.requestNumber=1,null===(c=r.subs)||void 0===c||c.push(s)}for(const e of r.subs)delete e.nextToken;delete u.queryId,u.requestNumber=r.subs.length+1,r.subs.push(u),r.fetchEndTime=t.fetchEndTime,r.fetchTime=t.fetchEndTime-r.fetchStartTime,r.executionFinishTime=u.executionFinishTime,l[0].meta.custom=r}else r=$e(Xe({},t,u),{subs:[]});if(s&&r.executionStartTime&&r.executionFinishTime){delete r.nextToken;const e=r.executionFinishTime-r.executionStartTime;if(e>0){const t=[];if(r.subs&&r.subs.length&&t.push({displayName:"HTTP request count",value:r.subs.length,unit:"none"}),t.push({displayName:"Execution time (Grafana server ⇆ Timestream)",value:e,unit:"ms",decimals:2}),r.fetchStartTime){r.fetchEndTime=Date.now();const n=r.fetchEndTime-r.fetchStartTime;r.fetchTime=n-e,n>e&&(t.push({displayName:"Fetch time (Browser ⇆ Grafana server w/o Timestream)",value:r.fetchTime,unit:"ms",decimals:2}),t.push({displayName:"Fetch overhead",value:r.fetchTime/n*100,unit:"percent"}))}if(r.status.CumulativeBytesMetered){var g;const e=f(r.status.CumulativeBytesMetered,2,1024);t.push({displayName:"Cumulative bytes metered",value:Number(e.text),unit:null===(g=e.suffix)||void 0===g?void 0:g.trimLeft(),decimals:2})}if(r.status.CumulativeBytesScanned){var d;const e=f(r.status.CumulativeBytesScanned,2,1024);t.push({displayName:"Cumulative bytes scanned",value:Number(e.text),unit:null===(d=e.suffix)||void 0===d?void 0:d.trimLeft(),decimals:2})}l[0].meta.stats=t}}return l},onCancel:e=>{s&&(console.log("Cancelling running timestream query"),this.postResource("cancel",{queryId:s}).then((e=>{console.log("Timestream query Canceled:",e)})).catch((e=>{e.isHandled=!0,console.log("error killing",e)})))}},new Te.Observable((t=>{let n,r;const s={fetchStartTime:Date.now(),fetchEndTime:void 0};let l=e.LoadingState.Loading,i=1;const u={next:r=>{s.fetchEndTime=Date.now(),l=r.state;let i=!1;l!==e.LoadingState.Error&&(n=a.getNextQuery(r),i=!0);const u=a.process(s,r.data,!n);i&&(l=n?u.length&&u[0].length?e.LoadingState.Streaming:e.LoadingState.Loading:e.LoadingState.Done),t.next(Re(we({},r),{data:u,state:l,key:o.requestId}))},error:e=>{t.error(e)},complete:()=>{r&&(r.unsubscribe(),r=void 0),n?(s.fetchEndTime=void 0,s.fetchStartTime=Date.now(),r=a.query(Re(we({},o),{requestId:`${o.requestId}.${++i}`,startTime:s.fetchStartTime,targets:[n]})).subscribe(u),n=void 0):t.complete()}};return r=a.query(o).subscribe(u),()=>{n=void 0,u.complete(),s.fetchEndTime||a.onCancel(s)}}));var o,a}getStrings(e,t){return this.query({targets:[{refId:"GetStrings",rawQuery:e}],range:t}).pipe(Ve((e=>{var t;if(e.error){var n,r,s;const t=null!==(s=null!==(r=e.error.message)&&void 0!==r?r:null===(n=e.error.data)||void 0===n?void 0:n.message)&&void 0!==s?s:"Error getting variable";throw new Error(t)}const l=e.data[0];if(!l||!l.length)return[];const o=null===(t=l.fields[0])||void 0===t?void 0:t.values;return o?o.toArray():[]})))}constructor(e){super(e),this.annotations={},this.interpolateVariable=e=>"string"==typeof e?e:e.map((e=>this.quoteLiteral(e))).join(","),this.options=e.jsonData}}const Ze=new e.DataSourcePlugin(Je).setConfigEditor((function(e){const r=`/api/datasources/${e.options.id}`,l=`${r}/resources`,[o,a]=(0,t.useState)(!!e.options.jsonData.defaultRegion),i=(u=pe((function*(){o||(yield(0,s.getBackendSrv)().put(r,e.options).then((t=>{e.onOptionsChange(ye(de({},e.options),{version:t.datasource.version}))})),a(!0))})),function(){return u.apply(this,arguments)});var u;const f=function(){var e=pe((function*(){return yield(0,s.getBackendSrv)().get(l+"/databases")}));return function(){return e.apply(this,arguments)}}(),p=function(){var t=pe((function*(){return yield(0,s.getBackendSrv)().post(l+"/tables",{database:e.options.jsonData.defaultDatabase})}));return function(){return t.apply(this,arguments)}}(),c=function(){var t=pe((function*(){return yield(0,s.getBackendSrv)().post(l+"/measures",{database:e.options.jsonData.defaultDatabase,table:e.options.jsonData.defaultTable})}));return function(){return t.apply(this,arguments)}}(),g=t=>n=>{var r;let s=null!==(r=null==n?void 0:n.value)&&void 0!==r?r:"";e.onOptionsChange(ye(de({},e.options),{jsonData:ye(de({},e.options.jsonData),{[t]:s})}))};var d,y,E;return n().createElement("div",{className:"gf-form-group"},n().createElement(R,ge({},e,{standardRegions:ue,defaultEndpoint:"https://query-{cell}.timestream.{region}.amazonaws.com",onOptionsChange:t=>{a(!1),e.onOptionsChange(t)}})),n().createElement("h3",null,"Timestream Details"),n().createElement("p",null,"Default values to be used as macros"),n().createElement(B,ge({},e,{value:null!==(d=e.options.jsonData.defaultDatabase)&&void 0!==d?d:"",onChange:g("defaultDatabase"),fetch:f,label:K.defaultDatabase.input,"data-testid":K.defaultDatabase.wrapper,saveOptions:i})),n().createElement(B,ge({},e,{value:null!==(y=e.options.jsonData.defaultTable)&&void 0!==y?y:"",onChange:g("defaultTable"),fetch:p,label:K.defaultTable.input,"data-testid":K.defaultTable.wrapper,dependencies:[e.options.jsonData.defaultDatabase||""],saveOptions:i})),n().createElement(B,ge({},e,{value:null!==(E=e.options.jsonData.defaultMeasure)&&void 0!==E?E:"",onChange:g("defaultMeasure"),fetch:c,label:K.defaultMeasure.input,"data-testid":K.defaultMeasure.wrapper,dependencies:[e.options.jsonData.defaultDatabase||"",e.options.jsonData.defaultTable||""],saveOptions:i})))})).setMetadataInspector((function(e){const{data:t}=e;return t&&t.length?n().createElement("div",null,t.map(((e,t)=>((e,t)=>{var r;const s=null===(r=e.meta)||void 0===r?void 0:r.custom;return s?n().createElement("div",{key:t},n().createElement("h3",null,"Query ID"),n().createElement("pre",null,s.queryId),s.nextToken&&n().createElement(n().Fragment,null,n().createElement("h3",null,"Next Token"),n().createElement("pre",null,s.nextToken)),n().createElement("h3",null,"Details"),n().createElement("pre",null,JSON.stringify(s,null,2))):null})(e,t)))):n().createElement("div",null,"No Data")})).setQueryEditor((function(e){const{query:s,datasource:l,onChange:o,onRunQuery:a}=e,{database:i,table:u,measure:f}=s,{defaultDatabase:p,defaultTable:c,defaultMeasure:g}=l.options;(0,t.useEffect)((()=>{i&&u&&f||o(ie(ae({},s),{database:i||p,table:u||c,measure:f||g}))}),[]);const d=e=>t=>{o(ie(ae({},s),{[e]:null==t?void 0:t.value}))},[y,E]=(0,t.useState)([]);(0,t.useEffect)((()=>{l.getResource("databases").then((e=>E(e)))}),[l]);const[q,m]=(0,t.useState)([]);(0,t.useEffect)((()=>{i&&l.postResource("tables",{database:i||""}).then((e=>{e.length>0&&!e.some((e=>u===e))&&o(ie(ae({},s),{table:e[0]})),m(e)}))}),[i]);const[h,T]=(0,t.useState)([]);return(0,t.useEffect)((()=>{i&&u&&l.postResource("measures",{database:i,table:u}).then((e=>{e.length>0&&!e.some((e=>f===e))&&o(ie(ae({},s),{measure:e[0]})),T(e)}))}),[i,u]),n().createElement(r.InlineSegmentGroup,null,n().createElement("div",{className:"gf-form-group"},n().createElement("h6",null,"Macros"),n().createElement(L,{onChange:d("database"),resources:y,value:i||null,tooltip:"Use the selected schema with the $__database macro",label:K.defaultDatabase.input,"data-testid":K.defaultDatabase.wrapper,labelWidth:11,className:"width-12"}),n().createElement(L,{onChange:d("table"),resources:q,value:u||null,tooltip:"Use the selected table with the $__table macro",label:K.defaultTable.input,"data-testid":K.defaultTable.wrapper,labelWidth:11,className:"width-12"}),n().createElement(L,{onChange:d("measure"),resources:h,value:f||null,tooltip:"Use the selected column with the $__measure macro",label:K.defaultMeasure.input,"data-testid":K.defaultMeasure.wrapper,labelWidth:11,className:"width-12"}),n().createElement("h6",null,"Render"),n().createElement(r.InlineField,{id:`${e.query.refId}-wait`,label:"Wait for all queries",labelWidth:16,style:{alignItems:"center"}},n().createElement(r.Switch,{"aria-labelledby":`${e.query.refId}-wait`,onChange:()=>{o(ie(ae({},s),{waitForResult:!s.waitForResult}))},checked:s.waitForResult})),n().createElement("h6",null,"Sample queries"),n().createElement(r.Label,{description:"Selecting a sample will modify the current query"},n().createElement(r.InlineField,{label:"Query",labelWidth:11},n().createElement(r.Select,{"aria-label":"Query",options:G,onChange:e=>{return t=e.value||"",o(ie(ae({},s),{rawQuery:t})),void a();var t},className:"width-12"})))),n().createElement("div",{style:{minWidth:"400px",marginLeft:"10px",flex:1}},n().createElement(le,{query:s,onRunQuery:e.onRunQuery,onChange:e.onChange,datasource:e.datasource})))}))})(),f})()));
//# sourceMappingURL=module.js.map